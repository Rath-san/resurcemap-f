function ts(t,n){const i=Object.create(null),o=t.split(",");for(let s=0;s<o.length;s++)i[o[s]]=!0;return n?s=>!!i[s.toLowerCase()]:s=>!!i[s]}const Kh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gh=ts(Kh);function Nu(t){return!!t||t===""}function es(t){if(xt(t)){const n={};for(let i=0;i<t.length;i++){const o=t[i],s=Yt(o)?Yh(o):es(o);if(s)for(const u in s)n[u]=s[u]}return n}else{if(Yt(t))return t;if(ie(t))return t}}const Jh=/;(?![^(]*\))/g,Vh=/:(.+)/;function Yh(t){const n={};return t.split(Jh).forEach(i=>{if(i){const o=i.split(Vh);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function ns(t){let n="";if(Yt(t))n=t;else if(xt(t))for(let i=0;i<t.length;i++){const o=ns(t[i]);o&&(n+=o+" ")}else if(ie(t))for(const i in t)t[i]&&(n+=i+" ");return n.trim()}const qt={},ti=[],xe=()=>{},Qh=()=>!1,Xh=/^on[^a-z]/,Or=t=>Xh.test(t),is=t=>t.startsWith("onUpdate:"),oe=Object.assign,rs=(t,n)=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)},td=Object.prototype.hasOwnProperty,Bt=(t,n)=>td.call(t,n),xt=Array.isArray,Ri=t=>Mr(t)==="[object Map]",ed=t=>Mr(t)==="[object Set]",Tt=t=>typeof t=="function",Yt=t=>typeof t=="string",os=t=>typeof t=="symbol",ie=t=>t!==null&&typeof t=="object",Zu=t=>ie(t)&&Tt(t.then)&&Tt(t.catch),nd=Object.prototype.toString,Mr=t=>nd.call(t),id=t=>Mr(t).slice(8,-1),rd=t=>Mr(t)==="[object Object]",ss=t=>Yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ir=ts(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Br=t=>{const n=Object.create(null);return i=>n[i]||(n[i]=t(i))},od=/-(\w)/g,Be=Br(t=>t.replace(od,(n,i)=>i?i.toUpperCase():"")),sd=/\B([A-Z])/g,ei=Br(t=>t.replace(sd,"-$1").toLowerCase()),kr=Br(t=>t.charAt(0).toUpperCase()+t.slice(1)),as=Br(t=>t?`on${kr(t)}`:""),Di=(t,n)=>!Object.is(t,n),us=(t,n)=>{for(let i=0;i<t.length;i++)t[i](n)},Rr=(t,n,i)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:i})},ad=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let qu;const ud=()=>qu||(qu=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ke;const Dr=[];class fd{constructor(n=!1){this.active=!0,this.effects=[],this.cleanups=[],!n&&ke&&(this.parent=ke,this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}run(n){if(this.active)try{return this.on(),n()}finally{this.off()}}on(){this.active&&(Dr.push(this),ke=this)}off(){this.active&&(Dr.pop(),ke=Dr[Dr.length-1])}stop(n){if(this.active){if(this.effects.forEach(i=>i.stop()),this.cleanups.forEach(i=>i()),this.scopes&&this.scopes.forEach(i=>i.stop(!0)),this.parent&&!n){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function cd(t,n){n=n||ke,n&&n.active&&n.effects.push(t)}function ld(){return ke}function hd(t){ke&&ke.cleanups.push(t)}const fs=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Fu=t=>(t.w&fn)>0,ju=t=>(t.n&fn)>0,dd=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=fn},_d=t=>{const{deps:n}=t;if(n.length){let i=0;for(let o=0;o<n.length;o++){const s=n[o];Fu(s)&&!ju(s)?s.delete(t):n[i++]=s,s.w&=~fn,s.n&=~fn}n.length=i}},cs=new WeakMap;let zi=0,fn=1;const ls=30,Ni=[];let bn;const xn=Symbol(""),hs=Symbol("");class ds{constructor(n,i=null,o){this.fn=n,this.scheduler=i,this.active=!0,this.deps=[],cd(this,o)}run(){if(!this.active)return this.fn();if(!Ni.includes(this))try{return Ni.push(bn=this),pd(),fn=1<<++zi,zi<=ls?dd(this):Uu(this),this.fn()}finally{zi<=ls&&_d(this),fn=1<<--zi,Pn(),Ni.pop();const n=Ni.length;bn=n>0?Ni[n-1]:void 0}}stop(){this.active&&(Uu(this),this.onStop&&this.onStop(),this.active=!1)}}function Uu(t){const{deps:n}=t;if(n.length){for(let i=0;i<n.length;i++)n[i].delete(t);n.length=0}}let ni=!0;const _s=[];function ii(){_s.push(ni),ni=!1}function pd(){_s.push(ni),ni=!0}function Pn(){const t=_s.pop();ni=t===void 0?!0:t}function he(t,n,i){if(!$u())return;let o=cs.get(t);o||cs.set(t,o=new Map);let s=o.get(i);s||o.set(i,s=fs()),Hu(s)}function $u(){return ni&&bn!==void 0}function Hu(t,n){let i=!1;zi<=ls?ju(t)||(t.n|=fn,i=!Fu(t)):i=!t.has(bn),i&&(t.add(bn),bn.deps.push(t))}function Ye(t,n,i,o,s,u){const c=cs.get(t);if(!c)return;let h=[];if(n==="clear")h=[...c.values()];else if(i==="length"&&xt(t))c.forEach((d,g)=>{(g==="length"||g>=o)&&h.push(d)});else switch(i!==void 0&&h.push(c.get(i)),n){case"add":xt(t)?ss(i)&&h.push(c.get("length")):(h.push(c.get(xn)),Ri(t)&&h.push(c.get(hs)));break;case"delete":xt(t)||(h.push(c.get(xn)),Ri(t)&&h.push(c.get(hs)));break;case"set":Ri(t)&&h.push(c.get(xn));break}if(h.length===1)h[0]&&ps(h[0]);else{const d=[];for(const g of h)g&&d.push(...g);ps(fs(d))}}function ps(t,n){for(const i of xt(t)?t:[...t])(i!==bn||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const vd=ts("__proto__,__v_isRef,__isVue"),Wu=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(os)),md=vs(),gd=vs(!1,!0),yd=vs(!0),Ku=wd();function wd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...i){const o=kt(this);for(let u=0,c=this.length;u<c;u++)he(o,"get",u+"");const s=o[n](...i);return s===-1||s===!1?o[n](...i.map(kt)):s}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...i){ii();const o=kt(this)[n].apply(this,i);return Pn(),o}}),t}function vs(t=!1,n=!1){return function(o,s,u){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_raw"&&u===(t?n?Dd:nf:n?ef:tf).get(o))return o;const c=xt(o);if(!t&&c&&Bt(Ku,s))return Reflect.get(Ku,s,u);const h=Reflect.get(o,s,u);return(os(s)?Wu.has(s):vd(s))||(t||he(o,"get",s),n)?h:re(h)?!c||!ss(s)?h.value:h:ie(h)?t?rf(h):ys(h):h}}const bd=Gu(),xd=Gu(!0);function Gu(t=!1){return function(i,o,s,u){let c=i[o];if(!t&&!bs(s)&&(s=kt(s),c=kt(c),!xt(i)&&re(c)&&!re(s)))return c.value=s,!0;const h=xt(i)&&ss(o)?Number(o)<i.length:Bt(i,o),d=Reflect.set(i,o,s,u);return i===kt(u)&&(h?Di(s,c)&&Ye(i,"set",o,s):Ye(i,"add",o,s)),d}}function Pd(t,n){const i=Bt(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&Ye(t,"delete",n,void 0),o}function Ld(t,n){const i=Reflect.has(t,n);return(!os(n)||!Wu.has(n))&&he(t,"has",n),i}function Td(t){return he(t,"iterate",xt(t)?"length":xn),Reflect.ownKeys(t)}const Ju={get:md,set:bd,deleteProperty:Pd,has:Ld,ownKeys:Td},Cd={get:yd,set(t,n){return!0},deleteProperty(t,n){return!0}},Ed=oe({},Ju,{get:gd,set:xd}),ms=t=>t,zr=t=>Reflect.getPrototypeOf(t);function Nr(t,n,i=!1,o=!1){t=t.__v_raw;const s=kt(t),u=kt(n);n!==u&&!i&&he(s,"get",n),!i&&he(s,"get",u);const{has:c}=zr(s),h=o?ms:i?xs:Zi;if(c.call(s,n))return h(t.get(n));if(c.call(s,u))return h(t.get(u));t!==s&&t.get(n)}function Zr(t,n=!1){const i=this.__v_raw,o=kt(i),s=kt(t);return t!==s&&!n&&he(o,"has",t),!n&&he(o,"has",s),t===s?i.has(t):i.has(t)||i.has(s)}function qr(t,n=!1){return t=t.__v_raw,!n&&he(kt(t),"iterate",xn),Reflect.get(t,"size",t)}function Vu(t){t=kt(t);const n=kt(this);return zr(n).has.call(n,t)||(n.add(t),Ye(n,"add",t,t)),this}function Yu(t,n){n=kt(n);const i=kt(this),{has:o,get:s}=zr(i);let u=o.call(i,t);u||(t=kt(t),u=o.call(i,t));const c=s.call(i,t);return i.set(t,n),u?Di(n,c)&&Ye(i,"set",t,n):Ye(i,"add",t,n),this}function Qu(t){const n=kt(this),{has:i,get:o}=zr(n);let s=i.call(n,t);s||(t=kt(t),s=i.call(n,t)),o&&o.call(n,t);const u=n.delete(t);return s&&Ye(n,"delete",t,void 0),u}function Xu(){const t=kt(this),n=t.size!==0,i=t.clear();return n&&Ye(t,"clear",void 0,void 0),i}function Fr(t,n){return function(o,s){const u=this,c=u.__v_raw,h=kt(c),d=n?ms:t?xs:Zi;return!t&&he(h,"iterate",xn),c.forEach((g,T)=>o.call(s,d(g),d(T),u))}}function jr(t,n,i){return function(...o){const s=this.__v_raw,u=kt(s),c=Ri(u),h=t==="entries"||t===Symbol.iterator&&c,d=t==="keys"&&c,g=s[t](...o),T=i?ms:n?xs:Zi;return!n&&he(u,"iterate",d?hs:xn),{next(){const{value:p,done:b}=g.next();return b?{value:p,done:b}:{value:h?[T(p[0]),T(p[1])]:T(p),done:b}},[Symbol.iterator](){return this}}}}function cn(t){return function(...n){return t==="delete"?!1:this}}function Sd(){const t={get(u){return Nr(this,u)},get size(){return qr(this)},has:Zr,add:Vu,set:Yu,delete:Qu,clear:Xu,forEach:Fr(!1,!1)},n={get(u){return Nr(this,u,!1,!0)},get size(){return qr(this)},has:Zr,add:Vu,set:Yu,delete:Qu,clear:Xu,forEach:Fr(!1,!0)},i={get(u){return Nr(this,u,!0)},get size(){return qr(this,!0)},has(u){return Zr.call(this,u,!0)},add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear"),forEach:Fr(!0,!1)},o={get(u){return Nr(this,u,!0,!0)},get size(){return qr(this,!0)},has(u){return Zr.call(this,u,!0)},add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear"),forEach:Fr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=jr(u,!1,!1),i[u]=jr(u,!0,!1),n[u]=jr(u,!1,!0),o[u]=jr(u,!0,!0)}),[t,i,n,o]}const[Ad,Od,Md,Id]=Sd();function gs(t,n){const i=n?t?Id:Md:t?Od:Ad;return(o,s,u)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?o:Reflect.get(Bt(i,s)&&s in o?i:o,s,u)}const Bd={get:gs(!1,!1)},kd={get:gs(!1,!0)},Rd={get:gs(!0,!1)},tf=new WeakMap,ef=new WeakMap,nf=new WeakMap,Dd=new WeakMap;function zd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nd(t){return t.__v_skip||!Object.isExtensible(t)?0:zd(id(t))}function ys(t){return t&&t.__v_isReadonly?t:ws(t,!1,Ju,Bd,tf)}function Zd(t){return ws(t,!1,Ed,kd,ef)}function rf(t){return ws(t,!0,Cd,Rd,nf)}function ws(t,n,i,o,s){if(!ie(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const u=s.get(t);if(u)return u;const c=Nd(t);if(c===0)return t;const h=new Proxy(t,c===2?o:i);return s.set(t,h),h}function ri(t){return bs(t)?ri(t.__v_raw):!!(t&&t.__v_isReactive)}function bs(t){return!!(t&&t.__v_isReadonly)}function of(t){return ri(t)||bs(t)}function kt(t){const n=t&&t.__v_raw;return n?kt(n):t}function sf(t){return Rr(t,"__v_skip",!0),t}const Zi=t=>ie(t)?ys(t):t,xs=t=>ie(t)?rf(t):t;function af(t){$u()&&(t=kt(t),t.dep||(t.dep=fs()),Hu(t.dep))}function uf(t,n){t=kt(t),t.dep&&ps(t.dep)}function re(t){return Boolean(t&&t.__v_isRef===!0)}function qd(t){return Fd(t,!1)}function Fd(t,n){return re(t)?t:new jd(t,n)}class jd{constructor(n,i){this._shallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?n:kt(n),this._value=i?n:Zi(n)}get value(){return af(this),this._value}set value(n){n=this._shallow?n:kt(n),Di(n,this._rawValue)&&(this._rawValue=n,this._value=this._shallow?n:Zi(n),uf(this))}}function Ps(t){return re(t)?t.value:t}const Ud={get:(t,n,i)=>Ps(Reflect.get(t,n,i)),set:(t,n,i,o)=>{const s=t[n];return re(s)&&!re(i)?(s.value=i,!0):Reflect.set(t,n,i,o)}};function ff(t){return ri(t)?t:new Proxy(t,Ud)}function Kg(t){const n=xt(t)?new Array(t.length):{};for(const i in t)n[i]=Hd(t,i);return n}class $d{constructor(n,i,o){this._object=n,this._key=i,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function Hd(t,n,i){const o=t[n];return re(o)?o:new $d(t,n,i)}class Wd{constructor(n,i,o){this._setter=i,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new ds(n,()=>{this._dirty||(this._dirty=!0,uf(this))}),this.__v_isReadonly=o}get value(){const n=kt(this);return af(n),n._dirty&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function Kd(t,n){let i,o;const s=Tt(t);return s?(i=t,o=xe):(i=t.get,o=t.set),new Wd(i,o,s||!o)}Promise.resolve();function Gd(t,n,...i){const o=t.vnode.props||qt;let s=i;const u=n.startsWith("update:"),c=u&&n.slice(7);if(c&&c in o){const T=`${c==="modelValue"?"model":c}Modifiers`,{number:p,trim:b}=o[T]||qt;b?s=i.map(A=>A.trim()):p&&(s=i.map(ad))}let h,d=o[h=as(n)]||o[h=as(Be(n))];!d&&u&&(d=o[h=as(ei(n))]),d&&Pe(d,t,6,s);const g=o[h+"Once"];if(g){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,Pe(g,t,6,s)}}function cf(t,n,i=!1){const o=n.emitsCache,s=o.get(t);if(s!==void 0)return s;const u=t.emits;let c={},h=!1;if(!Tt(t)){const d=g=>{const T=cf(g,n,!0);T&&(h=!0,oe(c,T))};!i&&n.mixins.length&&n.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!u&&!h?(o.set(t,null),null):(xt(u)?u.forEach(d=>c[d]=null):oe(c,u),o.set(t,c),c)}function Ls(t,n){return!t||!Or(n)?!1:(n=n.slice(2).replace(/Once$/,""),Bt(t,n[0].toLowerCase()+n.slice(1))||Bt(t,ei(n))||Bt(t,n))}let Re=null,lf=null;function Ur(t){const n=Re;return Re=t,lf=t&&t.type.__scopeId||null,n}function Jd(t,n=Re,i){if(!n||t._n)return t;const o=(...s)=>{o._d&&Bf(-1);const u=Ur(n),c=t(...s);return Ur(u),o._d&&Bf(1),c};return o._n=!0,o._c=!0,o._d=!0,o}function Ts(t){const{type:n,vnode:i,proxy:o,withProxy:s,props:u,propsOptions:[c],slots:h,attrs:d,emit:g,render:T,renderCache:p,data:b,setupState:A,ctx:y,inheritAttrs:E}=t;let M,P;const x=Ur(t);try{if(i.shapeFlag&4){const v=s||o;M=De(T.call(v,v,p,u,A,b,y)),P=d}else{const v=n;M=De(v.length>1?v(u,{attrs:d,slots:h,emit:g}):v(u,null)),P=n.props?d:Vd(d)}}catch(v){Fi.length=0,Qr(v,t,1),M=tn(En)}let _=M;if(P&&E!==!1){const v=Object.keys(P),{shapeFlag:w}=_;v.length&&w&(1|6)&&(c&&v.some(is)&&(P=Yd(P,c)),_=Ui(_,P))}return i.dirs&&(_.dirs=_.dirs?_.dirs.concat(i.dirs):i.dirs),i.transition&&(_.transition=i.transition),M=_,Ur(x),M}const Vd=t=>{let n;for(const i in t)(i==="class"||i==="style"||Or(i))&&((n||(n={}))[i]=t[i]);return n},Yd=(t,n)=>{const i={};for(const o in t)(!is(o)||!(o.slice(9)in n))&&(i[o]=t[o]);return i};function Qd(t,n,i){const{props:o,children:s,component:u}=t,{props:c,children:h,patchFlag:d}=n,g=u.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&d>=0){if(d&1024)return!0;if(d&16)return o?hf(o,c,g):!!c;if(d&8){const T=n.dynamicProps;for(let p=0;p<T.length;p++){const b=T[p];if(c[b]!==o[b]&&!Ls(g,b))return!0}}}else return(s||h)&&(!h||!h.$stable)?!0:o===c?!1:o?c?hf(o,c,g):!0:!!c;return!1}function hf(t,n,i){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let s=0;s<o.length;s++){const u=o[s];if(n[u]!==t[u]&&!Ls(i,u))return!0}return!1}function Xd({vnode:t,parent:n},i){for(;n&&n.subTree===t;)(t=n.vnode).el=i,n=n.parent}const t_=t=>t.__isSuspense;function e_(t,n){n&&n.pendingBranch?xt(t)?n.effects.push(...t):n.effects.push(t):rp(t)}function n_(t,n){if(te){let i=te.provides;const o=te.parent&&te.parent.provides;o===i&&(i=te.provides=Object.create(o)),i[t]=n}}function Cs(t,n,i=!1){const o=te||Re;if(o){const s=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return i&&Tt(n)?n.call(o.proxy):n}}function Gg(t){return Tt(t)?{setup:t,name:t.name}:t}const Es=t=>!!t.type.__asyncLoader,df=t=>t.type.__isKeepAlive;function i_(t,n){_f(t,"a",n)}function r_(t,n){_f(t,"da",n)}function _f(t,n,i=te){const o=t.__wdc||(t.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if($r(n,o,i),i){let s=i.parent;for(;s&&s.parent;)df(s.parent.vnode)&&o_(o,n,i,s),s=s.parent}}function o_(t,n,i,o){const s=$r(n,t,o,!0);pf(()=>{rs(o[n],s)},i)}function $r(t,n,i=te,o=!1){if(i){const s=i[t]||(i[t]=[]),u=n.__weh||(n.__weh=(...c)=>{if(i.isUnmounted)return;ii(),oi(i);const h=Pe(n,i,t,c);return An(),Pn(),h});return o?s.unshift(u):s.push(u),u}}const Qe=t=>(n,i=te)=>(!Yr||t==="sp")&&$r(t,n,i),s_=Qe("bm"),a_=Qe("m"),u_=Qe("bu"),f_=Qe("u"),c_=Qe("bum"),pf=Qe("um"),l_=Qe("sp"),h_=Qe("rtg"),d_=Qe("rtc");function __(t,n=te){$r("ec",t,n)}let Ss=!0;function p_(t){const n=gf(t),i=t.proxy,o=t.ctx;Ss=!1,n.beforeCreate&&vf(n.beforeCreate,t,"bc");const{data:s,computed:u,methods:c,watch:h,provide:d,inject:g,created:T,beforeMount:p,mounted:b,beforeUpdate:A,updated:y,activated:E,deactivated:M,beforeDestroy:P,beforeUnmount:x,destroyed:_,unmounted:v,render:w,renderTracked:C,renderTriggered:F,errorCaptured:Q,serverPrefetch:it,expose:X,inheritAttrs:rt,components:ft,directives:gt,filters:lt}=n;if(g&&v_(g,o,null,t.appContext.config.unwrapInjectedRef),c)for(const k in c){const I=c[k];Tt(I)&&(o[k]=I.bind(i))}if(s){const k=s.call(i,i);ie(k)&&(t.data=ys(k))}if(Ss=!0,u)for(const k in u){const I=u[k],Z=Tt(I)?I.bind(i,i):Tt(I.get)?I.get.bind(i,i):xe,$=!Tt(I)&&Tt(I.set)?I.set.bind(i):xe,q=Kd({get:Z,set:$});Object.defineProperty(o,k,{enumerable:!0,configurable:!0,get:()=>q.value,set:D=>q.value=D})}if(h)for(const k in h)mf(h[k],o,i,k);if(d){const k=Tt(d)?d.call(i):d;Reflect.ownKeys(k).forEach(I=>{n_(I,k[I])})}T&&vf(T,t,"c");function ut(k,I){xt(I)?I.forEach(Z=>k(Z.bind(i))):I&&k(I.bind(i))}if(ut(s_,p),ut(a_,b),ut(u_,A),ut(f_,y),ut(i_,E),ut(r_,M),ut(__,Q),ut(d_,C),ut(h_,F),ut(c_,x),ut(pf,v),ut(l_,it),xt(X))if(X.length){const k=t.exposed||(t.exposed={});X.forEach(I=>{Object.defineProperty(k,I,{get:()=>i[I],set:Z=>i[I]=Z})})}else t.exposed||(t.exposed={});w&&t.render===xe&&(t.render=w),rt!=null&&(t.inheritAttrs=rt),ft&&(t.components=ft),gt&&(t.directives=gt)}function v_(t,n,i=xe,o=!1){xt(t)&&(t=As(t));for(const s in t){const u=t[s];let c;ie(u)?"default"in u?c=Cs(u.from||s,u.default,!0):c=Cs(u.from||s):c=Cs(u),re(c)&&o?Object.defineProperty(n,s,{enumerable:!0,configurable:!0,get:()=>c.value,set:h=>c.value=h}):n[s]=c}}function vf(t,n,i){Pe(xt(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,i)}function mf(t,n,i,o){const s=o.includes(".")?Jf(i,o):()=>i[o];if(Yt(t)){const u=n[t];Tt(u)&&to(s,u)}else if(Tt(t))to(s,t.bind(i));else if(ie(t))if(xt(t))t.forEach(u=>mf(u,n,i,o));else{const u=Tt(t.handler)?t.handler.bind(i):n[t.handler];Tt(u)&&to(s,u,t)}}function gf(t){const n=t.type,{mixins:i,extends:o}=n,{mixins:s,optionsCache:u,config:{optionMergeStrategies:c}}=t.appContext,h=u.get(n);let d;return h?d=h:!s.length&&!i&&!o?d=n:(d={},s.length&&s.forEach(g=>Hr(d,g,c,!0)),Hr(d,n,c)),u.set(n,d),d}function Hr(t,n,i,o=!1){const{mixins:s,extends:u}=n;u&&Hr(t,u,i,!0),s&&s.forEach(c=>Hr(t,c,i,!0));for(const c in n)if(!(o&&c==="expose")){const h=m_[c]||i&&i[c];t[c]=h?h(t[c],n[c]):n[c]}return t}const m_={data:yf,props:Ln,emits:Ln,methods:Ln,computed:Ln,beforeCreate:se,created:se,beforeMount:se,mounted:se,beforeUpdate:se,updated:se,beforeDestroy:se,beforeUnmount:se,destroyed:se,unmounted:se,activated:se,deactivated:se,errorCaptured:se,serverPrefetch:se,components:Ln,directives:Ln,watch:y_,provide:yf,inject:g_};function yf(t,n){return n?t?function(){return oe(Tt(t)?t.call(this,this):t,Tt(n)?n.call(this,this):n)}:n:t}function g_(t,n){return Ln(As(t),As(n))}function As(t){if(xt(t)){const n={};for(let i=0;i<t.length;i++)n[t[i]]=t[i];return n}return t}function se(t,n){return t?[...new Set([].concat(t,n))]:n}function Ln(t,n){return t?oe(oe(Object.create(null),t),n):n}function y_(t,n){if(!t)return n;if(!n)return t;const i=oe(Object.create(null),t);for(const o in n)i[o]=se(t[o],n[o]);return i}function w_(t,n,i,o=!1){const s={},u={};Rr(u,Gr,1),t.propsDefaults=Object.create(null),wf(t,n,s,u);for(const c in t.propsOptions[0])c in s||(s[c]=void 0);i?t.props=o?s:Zd(s):t.type.props?t.props=s:t.props=u,t.attrs=u}function b_(t,n,i,o){const{props:s,attrs:u,vnode:{patchFlag:c}}=t,h=kt(s),[d]=t.propsOptions;let g=!1;if((o||c>0)&&!(c&16)){if(c&8){const T=t.vnode.dynamicProps;for(let p=0;p<T.length;p++){let b=T[p];const A=n[b];if(d)if(Bt(u,b))A!==u[b]&&(u[b]=A,g=!0);else{const y=Be(b);s[y]=Os(d,h,y,A,t,!1)}else A!==u[b]&&(u[b]=A,g=!0)}}}else{wf(t,n,s,u)&&(g=!0);let T;for(const p in h)(!n||!Bt(n,p)&&((T=ei(p))===p||!Bt(n,T)))&&(d?i&&(i[p]!==void 0||i[T]!==void 0)&&(s[p]=Os(d,h,p,void 0,t,!0)):delete s[p]);if(u!==h)for(const p in u)(!n||!Bt(n,p))&&(delete u[p],g=!0)}g&&Ye(t,"set","$attrs")}function wf(t,n,i,o){const[s,u]=t.propsOptions;let c=!1,h;if(n)for(let d in n){if(Ir(d))continue;const g=n[d];let T;s&&Bt(s,T=Be(d))?!u||!u.includes(T)?i[T]=g:(h||(h={}))[T]=g:Ls(t.emitsOptions,d)||(!(d in o)||g!==o[d])&&(o[d]=g,c=!0)}if(u){const d=kt(i),g=h||qt;for(let T=0;T<u.length;T++){const p=u[T];i[p]=Os(s,d,p,g[p],t,!Bt(g,p))}}return c}function Os(t,n,i,o,s,u){const c=t[i];if(c!=null){const h=Bt(c,"default");if(h&&o===void 0){const d=c.default;if(c.type!==Function&&Tt(d)){const{propsDefaults:g}=s;i in g?o=g[i]:(oi(s),o=g[i]=d.call(null,n),An())}else o=d}c[0]&&(u&&!h?o=!1:c[1]&&(o===""||o===ei(i))&&(o=!0))}return o}function bf(t,n,i=!1){const o=n.propsCache,s=o.get(t);if(s)return s;const u=t.props,c={},h=[];let d=!1;if(!Tt(t)){const T=p=>{d=!0;const[b,A]=bf(p,n,!0);oe(c,b),A&&h.push(...A)};!i&&n.mixins.length&&n.mixins.forEach(T),t.extends&&T(t.extends),t.mixins&&t.mixins.forEach(T)}if(!u&&!d)return o.set(t,ti),ti;if(xt(u))for(let T=0;T<u.length;T++){const p=Be(u[T]);xf(p)&&(c[p]=qt)}else if(u)for(const T in u){const p=Be(T);if(xf(p)){const b=u[T],A=c[p]=xt(b)||Tt(b)?{type:b}:b;if(A){const y=Tf(Boolean,A.type),E=Tf(String,A.type);A[0]=y>-1,A[1]=E<0||y<E,(y>-1||Bt(A,"default"))&&h.push(p)}}}const g=[c,h];return o.set(t,g),g}function xf(t){return t[0]!=="$"}function Pf(t){const n=t&&t.toString().match(/^\s*function (\w+)/);return n?n[1]:t===null?"null":""}function Lf(t,n){return Pf(t)===Pf(n)}function Tf(t,n){return xt(n)?n.findIndex(i=>Lf(i,t)):Tt(n)&&Lf(n,t)?0:-1}const Cf=t=>t[0]==="_"||t==="$stable",Ms=t=>xt(t)?t.map(De):[De(t)],x_=(t,n,i)=>{const o=Jd((...s)=>Ms(n(...s)),i);return o._c=!1,o},Ef=(t,n,i)=>{const o=t._ctx;for(const s in t){if(Cf(s))continue;const u=t[s];if(Tt(u))n[s]=x_(s,u,o);else if(u!=null){const c=Ms(u);n[s]=()=>c}}},Sf=(t,n)=>{const i=Ms(n);t.slots.default=()=>i},P_=(t,n)=>{if(t.vnode.shapeFlag&32){const i=n._;i?(t.slots=kt(n),Rr(n,"_",i)):Ef(n,t.slots={})}else t.slots={},n&&Sf(t,n);Rr(t.slots,Gr,1)},L_=(t,n,i)=>{const{vnode:o,slots:s}=t;let u=!0,c=qt;if(o.shapeFlag&32){const h=n._;h?i&&h===1?u=!1:(oe(s,n),!i&&h===1&&delete s._):(u=!n.$stable,Ef(n,s)),c=n}else n&&(Sf(t,n),c={default:1});if(u)for(const h in s)!Cf(h)&&!(h in c)&&delete s[h]};function Tn(t,n,i,o){const s=t.dirs,u=n&&n.dirs;for(let c=0;c<s.length;c++){const h=s[c];u&&(h.oldValue=u[c].value);let d=h.dir[o];d&&(ii(),Pe(d,i,8,[t.el,h,t,n]),Pn())}}function Af(){return{app:null,config:{isNativeTag:Qh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let T_=0;function C_(t,n){return function(o,s=null){s!=null&&!ie(s)&&(s=null);const u=Af(),c=new Set;let h=!1;const d=u.app={_uid:T_++,_component:o,_props:s,_container:null,_context:u,_instance:null,version:sp,get config(){return u.config},set config(g){},use(g,...T){return c.has(g)||(g&&Tt(g.install)?(c.add(g),g.install(d,...T)):Tt(g)&&(c.add(g),g(d,...T))),d},mixin(g){return u.mixins.includes(g)||u.mixins.push(g),d},component(g,T){return T?(u.components[g]=T,d):u.components[g]},directive(g,T){return T?(u.directives[g]=T,d):u.directives[g]},mount(g,T,p){if(!h){const b=tn(o,s);return b.appContext=u,T&&n?n(b,g):t(b,g,p),h=!0,d._container=g,g.__vue_app__=d,Zs(b.component)||b.component.proxy}},unmount(){h&&(t(null,d._container),delete d._container.__vue_app__)},provide(g,T){return u.provides[g]=T,d}};return d}}function Is(t,n,i,o,s=!1){if(xt(t)){t.forEach((b,A)=>Is(b,n&&(xt(n)?n[A]:n),i,o,s));return}if(Es(o)&&!s)return;const u=o.shapeFlag&4?Zs(o.component)||o.component.proxy:o.el,c=s?null:u,{i:h,r:d}=t,g=n&&n.r,T=h.refs===qt?h.refs={}:h.refs,p=h.setupState;if(g!=null&&g!==d&&(Yt(g)?(T[g]=null,Bt(p,g)&&(p[g]=null)):re(g)&&(g.value=null)),Tt(d))hn(d,h,12,[c,T]);else{const b=Yt(d),A=re(d);if(b||A){const y=()=>{if(t.f){const E=b?T[d]:d.value;s?xt(E)&&rs(E,u):xt(E)?E.includes(u)||E.push(u):b?T[d]=[u]:(d.value=[u],t.k&&(T[t.k]=d.value))}else b?(T[d]=c,Bt(p,d)&&(p[d]=c)):re(d)&&(d.value=c,t.k&&(T[t.k]=c))};c?(y.id=-1,fe(y,i)):y()}}}const fe=e_;function E_(t){return S_(t)}function S_(t,n){const i=ud();i.__VUE__=!0;const{insert:o,remove:s,patchProp:u,createElement:c,createText:h,createComment:d,setText:g,setElementText:T,parentNode:p,nextSibling:b,setScopeId:A=xe,cloneNode:y,insertStaticContent:E}=t,M=(S,B,z,H=null,j=null,J=null,et=!1,Y=null,nt=!!B.dynamicChildren)=>{if(S===B)return;S&&!ji(S,B)&&(H=G(S),U(S,j,J,!0),S=null),B.patchFlag===-2&&(nt=!1,B.dynamicChildren=null);const{type:K,ref:dt,shapeFlag:ct}=B;switch(K){case Rs:P(S,B,z,H);break;case En:x(S,B,z,H);break;case Ds:S==null&&_(B,z,H,et);break;case Xe:gt(S,B,z,H,j,J,et,Y,nt);break;default:ct&1?C(S,B,z,H,j,J,et,Y,nt):ct&6?lt(S,B,z,H,j,J,et,Y,nt):(ct&64||ct&128)&&K.process(S,B,z,H,j,J,et,Y,nt,mt)}dt!=null&&j&&Is(dt,S&&S.ref,J,B||S,!B)},P=(S,B,z,H)=>{if(S==null)o(B.el=h(B.children),z,H);else{const j=B.el=S.el;B.children!==S.children&&g(j,B.children)}},x=(S,B,z,H)=>{S==null?o(B.el=d(B.children||""),z,H):B.el=S.el},_=(S,B,z,H)=>{[S.el,S.anchor]=E(S.children,B,z,H)},v=({el:S,anchor:B},z,H)=>{let j;for(;S&&S!==B;)j=b(S),o(S,z,H),S=j;o(B,z,H)},w=({el:S,anchor:B})=>{let z;for(;S&&S!==B;)z=b(S),s(S),S=z;s(B)},C=(S,B,z,H,j,J,et,Y,nt)=>{et=et||B.type==="svg",S==null?F(B,z,H,j,J,et,Y,nt):X(S,B,j,J,et,Y,nt)},F=(S,B,z,H,j,J,et,Y)=>{let nt,K;const{type:dt,props:ct,shapeFlag:pt,transition:yt,patchFlag:Ct,dirs:Rt}=S;if(S.el&&y!==void 0&&Ct===-1)nt=S.el=y(S.el);else{if(nt=S.el=c(S.type,J,ct&&ct.is,ct),pt&8?T(nt,S.children):pt&16&&it(S.children,nt,null,H,j,J&&dt!=="foreignObject",et,Y),Rt&&Tn(S,null,H,"created"),ct){for(const Dt in ct)Dt!=="value"&&!Ir(Dt)&&u(nt,Dt,null,ct[Dt],J,S.children,H,j,ot);"value"in ct&&u(nt,"value",null,ct.value),(K=ct.onVnodeBeforeMount)&&ze(K,H,S)}Q(nt,S,S.scopeId,et,H)}Rt&&Tn(S,null,H,"beforeMount");const Ot=(!j||j&&!j.pendingBranch)&&yt&&!yt.persisted;Ot&&yt.beforeEnter(nt),o(nt,B,z),((K=ct&&ct.onVnodeMounted)||Ot||Rt)&&fe(()=>{K&&ze(K,H,S),Ot&&yt.enter(nt),Rt&&Tn(S,null,H,"mounted")},j)},Q=(S,B,z,H,j)=>{if(z&&A(S,z),H)for(let J=0;J<H.length;J++)A(S,H[J]);if(j){let J=j.subTree;if(B===J){const et=j.vnode;Q(S,et,et.scopeId,et.slotScopeIds,j.parent)}}},it=(S,B,z,H,j,J,et,Y,nt=0)=>{for(let K=nt;K<S.length;K++){const dt=S[K]=Y?ln(S[K]):De(S[K]);M(null,dt,B,z,H,j,J,et,Y)}},X=(S,B,z,H,j,J,et)=>{const Y=B.el=S.el;let{patchFlag:nt,dynamicChildren:K,dirs:dt}=B;nt|=S.patchFlag&16;const ct=S.props||qt,pt=B.props||qt;let yt;z&&Cn(z,!1),(yt=pt.onVnodeBeforeUpdate)&&ze(yt,z,B,S),dt&&Tn(B,S,z,"beforeUpdate"),z&&Cn(z,!0);const Ct=j&&B.type!=="foreignObject";if(K?rt(S.dynamicChildren,K,Y,z,H,Ct,J):et||Z(S,B,Y,null,z,H,Ct,J,!1),nt>0){if(nt&16)ft(Y,B,ct,pt,z,H,j);else if(nt&2&&ct.class!==pt.class&&u(Y,"class",null,pt.class,j),nt&4&&u(Y,"style",ct.style,pt.style,j),nt&8){const Rt=B.dynamicProps;for(let Ot=0;Ot<Rt.length;Ot++){const Dt=Rt[Ot],ue=ct[Dt],Ue=pt[Dt];(Ue!==ue||Dt==="value")&&u(Y,Dt,ue,Ue,j,S.children,z,H,ot)}}nt&1&&S.children!==B.children&&T(Y,B.children)}else!et&&K==null&&ft(Y,B,ct,pt,z,H,j);((yt=pt.onVnodeUpdated)||dt)&&fe(()=>{yt&&ze(yt,z,B,S),dt&&Tn(B,S,z,"updated")},H)},rt=(S,B,z,H,j,J,et)=>{for(let Y=0;Y<B.length;Y++){const nt=S[Y],K=B[Y],dt=nt.el&&(nt.type===Xe||!ji(nt,K)||nt.shapeFlag&(6|64))?p(nt.el):z;M(nt,K,dt,null,H,j,J,et,!0)}},ft=(S,B,z,H,j,J,et)=>{if(z!==H){for(const Y in H){if(Ir(Y))continue;const nt=H[Y],K=z[Y];nt!==K&&Y!=="value"&&u(S,Y,K,nt,et,B.children,j,J,ot)}if(z!==qt)for(const Y in z)!Ir(Y)&&!(Y in H)&&u(S,Y,z[Y],null,et,B.children,j,J,ot);"value"in H&&u(S,"value",z.value,H.value)}},gt=(S,B,z,H,j,J,et,Y,nt)=>{const K=B.el=S?S.el:h(""),dt=B.anchor=S?S.anchor:h("");let{patchFlag:ct,dynamicChildren:pt,slotScopeIds:yt}=B;yt&&(Y=Y?Y.concat(yt):yt),S==null?(o(K,z,H),o(dt,z,H),it(B.children,z,dt,j,J,et,Y,nt)):ct>0&&ct&64&&pt&&S.dynamicChildren?(rt(S.dynamicChildren,pt,z,j,J,et,Y),(B.key!=null||j&&B===j.subTree)&&Bs(S,B,!0)):Z(S,B,z,dt,j,J,et,Y,nt)},lt=(S,B,z,H,j,J,et,Y,nt)=>{B.slotScopeIds=Y,S==null?B.shapeFlag&512?j.ctx.activate(B,z,H,et,nt):_t(B,z,H,j,J,et,nt):ut(S,B,nt)},_t=(S,B,z,H,j,J,et)=>{const Y=S.component=W_(S,H,j);if(df(S)&&(Y.ctx.renderer=mt),K_(Y),Y.asyncDep){if(j&&j.registerDep(Y,k),!S.el){const nt=Y.subTree=tn(En);x(null,nt,B,z)}return}k(Y,S,B,z,j,J,et)},ut=(S,B,z)=>{const H=B.component=S.component;if(Qd(S,B,z))if(H.asyncDep&&!H.asyncResolved){I(H,B,z);return}else H.next=B,np(H.update),H.update();else B.component=S.component,B.el=S.el,H.vnode=B},k=(S,B,z,H,j,J,et)=>{const Y=()=>{if(S.isMounted){let{next:dt,bu:ct,u:pt,parent:yt,vnode:Ct}=S,Rt=dt,Ot;Cn(S,!1),dt?(dt.el=Ct.el,I(S,dt,et)):dt=Ct,ct&&us(ct),(Ot=dt.props&&dt.props.onVnodeBeforeUpdate)&&ze(Ot,yt,dt,Ct),Cn(S,!0);const Dt=Ts(S),ue=S.subTree;S.subTree=Dt,M(ue,Dt,p(ue.el),G(ue),S,j,J),dt.el=Dt.el,Rt===null&&Xd(S,Dt.el),pt&&fe(pt,j),(Ot=dt.props&&dt.props.onVnodeUpdated)&&fe(()=>ze(Ot,yt,dt,Ct),j)}else{let dt;const{el:ct,props:pt}=B,{bm:yt,m:Ct,parent:Rt}=S,Ot=Es(B);if(Cn(S,!1),yt&&us(yt),!Ot&&(dt=pt&&pt.onVnodeBeforeMount)&&ze(dt,Rt,B),Cn(S,!0),ct&&bt){const Dt=()=>{S.subTree=Ts(S),bt(ct,S.subTree,S,j,null)};Ot?B.type.__asyncLoader().then(()=>!S.isUnmounted&&Dt()):Dt()}else{const Dt=S.subTree=Ts(S);M(null,Dt,z,H,S,j,J),B.el=Dt.el}if(Ct&&fe(Ct,j),!Ot&&(dt=pt&&pt.onVnodeMounted)){const Dt=B;fe(()=>ze(dt,Rt,Dt),j)}B.shapeFlag&256&&S.a&&fe(S.a,j),S.isMounted=!0,B=z=H=null}},nt=S.effect=new ds(Y,()=>jf(S.update),S.scope),K=S.update=nt.run.bind(nt);K.id=S.uid,Cn(S,!0),K()},I=(S,B,z)=>{B.component=S;const H=S.vnode.props;S.vnode=B,S.next=null,b_(S,B.props,H,z),L_(S,B.children,z),ii(),Us(void 0,S.update),Pn()},Z=(S,B,z,H,j,J,et,Y,nt=!1)=>{const K=S&&S.children,dt=S?S.shapeFlag:0,ct=B.children,{patchFlag:pt,shapeFlag:yt}=B;if(pt>0){if(pt&128){q(K,ct,z,H,j,J,et,Y,nt);return}else if(pt&256){$(K,ct,z,H,j,J,et,Y,nt);return}}yt&8?(dt&16&&ot(K,j,J),ct!==K&&T(z,ct)):dt&16?yt&16?q(K,ct,z,H,j,J,et,Y,nt):ot(K,j,J,!0):(dt&8&&T(z,""),yt&16&&it(ct,z,H,j,J,et,Y,nt))},$=(S,B,z,H,j,J,et,Y,nt)=>{S=S||ti,B=B||ti;const K=S.length,dt=B.length,ct=Math.min(K,dt);let pt;for(pt=0;pt<ct;pt++){const yt=B[pt]=nt?ln(B[pt]):De(B[pt]);M(S[pt],yt,z,null,j,J,et,Y,nt)}K>dt?ot(S,j,J,!0,!1,ct):it(B,z,H,j,J,et,Y,nt,ct)},q=(S,B,z,H,j,J,et,Y,nt)=>{let K=0;const dt=B.length;let ct=S.length-1,pt=dt-1;for(;K<=ct&&K<=pt;){const yt=S[K],Ct=B[K]=nt?ln(B[K]):De(B[K]);if(ji(yt,Ct))M(yt,Ct,z,null,j,J,et,Y,nt);else break;K++}for(;K<=ct&&K<=pt;){const yt=S[ct],Ct=B[pt]=nt?ln(B[pt]):De(B[pt]);if(ji(yt,Ct))M(yt,Ct,z,null,j,J,et,Y,nt);else break;ct--,pt--}if(K>ct){if(K<=pt){const yt=pt+1,Ct=yt<dt?B[yt].el:H;for(;K<=pt;)M(null,B[K]=nt?ln(B[K]):De(B[K]),z,Ct,j,J,et,Y,nt),K++}}else if(K>pt)for(;K<=ct;)U(S[K],j,J,!0),K++;else{const yt=K,Ct=K,Rt=new Map;for(K=Ct;K<=pt;K++){const Zt=B[K]=nt?ln(B[K]):De(B[K]);Zt.key!=null&&Rt.set(Zt.key,K)}let Ot,Dt=0;const ue=pt-Ct+1;let Ue=!1,qn=0;const $e=new Array(ue);for(K=0;K<ue;K++)$e[K]=0;for(K=yt;K<=ct;K++){const Zt=S[K];if(Dt>=ue){U(Zt,j,J,!0);continue}let Xt;if(Zt.key!=null)Xt=Rt.get(Zt.key);else for(Ot=Ct;Ot<=pt;Ot++)if($e[Ot-Ct]===0&&ji(Zt,B[Ot])){Xt=Ot;break}Xt===void 0?U(Zt,j,J,!0):($e[Xt-Ct]=K+1,Xt>=qn?qn=Xt:Ue=!0,M(Zt,B[Xt],z,null,j,J,et,Y,nt),Dt++)}const xi=Ue?A_($e):ti;for(Ot=xi.length-1,K=ue-1;K>=0;K--){const Zt=Ct+K,Xt=B[Zt],ur=Zt+1<dt?B[Zt+1].el:H;$e[K]===0?M(null,Xt,z,ur,j,J,et,Y,nt):Ue&&(Ot<0||K!==xi[Ot]?D(Xt,z,ur,2):Ot--)}}},D=(S,B,z,H,j=null)=>{const{el:J,type:et,transition:Y,children:nt,shapeFlag:K}=S;if(K&6){D(S.component.subTree,B,z,H);return}if(K&128){S.suspense.move(B,z,H);return}if(K&64){et.move(S,B,z,mt);return}if(et===Xe){o(J,B,z);for(let ct=0;ct<nt.length;ct++)D(nt[ct],B,z,H);o(S.anchor,B,z);return}if(et===Ds){v(S,B,z);return}if(H!==2&&K&1&&Y)if(H===0)Y.beforeEnter(J),o(J,B,z),fe(()=>Y.enter(J),j);else{const{leave:ct,delayLeave:pt,afterLeave:yt}=Y,Ct=()=>o(J,B,z),Rt=()=>{ct(J,()=>{Ct(),yt&&yt()})};pt?pt(J,Ct,Rt):Rt()}else o(J,B,z)},U=(S,B,z,H=!1,j=!1)=>{const{type:J,props:et,ref:Y,children:nt,dynamicChildren:K,shapeFlag:dt,patchFlag:ct,dirs:pt}=S;if(Y!=null&&Is(Y,null,z,S,!0),dt&256){B.ctx.deactivate(S);return}const yt=dt&1&&pt,Ct=!Es(S);let Rt;if(Ct&&(Rt=et&&et.onVnodeBeforeUnmount)&&ze(Rt,B,S),dt&6)st(S.component,z,H);else{if(dt&128){S.suspense.unmount(z,H);return}yt&&Tn(S,null,B,"beforeUnmount"),dt&64?S.type.remove(S,B,z,j,mt,H):K&&(J!==Xe||ct>0&&ct&64)?ot(K,B,z,!1,!0):(J===Xe&&ct&(128|256)||!j&&dt&16)&&ot(nt,B,z),H&&tt(S)}(Ct&&(Rt=et&&et.onVnodeUnmounted)||yt)&&fe(()=>{Rt&&ze(Rt,B,S),yt&&Tn(S,null,B,"unmounted")},z)},tt=S=>{const{type:B,el:z,anchor:H,transition:j}=S;if(B===Xe){V(z,H);return}if(B===Ds){w(S);return}const J=()=>{s(z),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(S.shapeFlag&1&&j&&!j.persisted){const{leave:et,delayLeave:Y}=j,nt=()=>et(z,J);Y?Y(S.el,J,nt):nt()}else J()},V=(S,B)=>{let z;for(;S!==B;)z=b(S),s(S),S=z;s(B)},st=(S,B,z)=>{const{bum:H,scope:j,update:J,subTree:et,um:Y}=S;H&&us(H),j.stop(),J&&(J.active=!1,U(et,S,B,z)),Y&&fe(Y,B),fe(()=>{S.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ot=(S,B,z,H=!1,j=!1,J=0)=>{for(let et=J;et<S.length;et++)U(S[et],B,z,H,j)},G=S=>S.shapeFlag&6?G(S.component.subTree):S.shapeFlag&128?S.suspense.next():b(S.anchor||S.el),ht=(S,B,z)=>{S==null?B._vnode&&U(B._vnode,null,null,!0):M(B._vnode||null,S,B,null,null,null,z),Hf(),B._vnode=S},mt={p:M,um:U,m:D,r:tt,mt:_t,mc:it,pc:Z,pbc:rt,n:G,o:t};let St,bt;return n&&([St,bt]=n(mt)),{render:ht,hydrate:St,createApp:C_(ht,St)}}function Cn({effect:t,update:n},i){t.allowRecurse=n.allowRecurse=i}function Bs(t,n,i=!1){const o=t.children,s=n.children;if(xt(o)&&xt(s))for(let u=0;u<o.length;u++){const c=o[u];let h=s[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=s[u]=ln(s[u]),h.el=c.el),i||Bs(c,h))}}function A_(t){const n=t.slice(),i=[0];let o,s,u,c,h;const d=t.length;for(o=0;o<d;o++){const g=t[o];if(g!==0){if(s=i[i.length-1],t[s]<g){n[o]=s,i.push(o);continue}for(u=0,c=i.length-1;u<c;)h=u+c>>1,t[i[h]]<g?u=h+1:c=h;g<t[i[u]]&&(u>0&&(n[o]=i[u-1]),i[u]=o)}}for(u=i.length,c=i[u-1];u-- >0;)i[u]=c,c=n[c];return i}const O_=t=>t.__isTeleport,qi=t=>t&&(t.disabled||t.disabled===""),Of=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,ks=(t,n)=>{const i=t&&t.to;return Yt(i)?n?n(i):null:i},M_={__isTeleport:!0,process(t,n,i,o,s,u,c,h,d,g){const{mc:T,pc:p,pbc:b,o:{insert:A,querySelector:y,createText:E,createComment:M}}=g,P=qi(n.props);let{shapeFlag:x,children:_,dynamicChildren:v}=n;if(t==null){const w=n.el=E(""),C=n.anchor=E("");A(w,i,o),A(C,i,o);const F=n.target=ks(n.props,y),Q=n.targetAnchor=E("");F&&(A(Q,F),c=c||Of(F));const it=(X,rt)=>{x&16&&T(_,X,rt,s,u,c,h,d)};P?it(i,C):F&&it(F,Q)}else{n.el=t.el;const w=n.anchor=t.anchor,C=n.target=t.target,F=n.targetAnchor=t.targetAnchor,Q=qi(t.props),it=Q?i:C,X=Q?w:F;if(c=c||Of(C),v?(b(t.dynamicChildren,v,it,s,u,c,h),Bs(t,n,!0)):d||p(t,n,it,X,s,u,c,h,!1),P)Q||Wr(n,i,w,g,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const rt=n.target=ks(n.props,y);rt&&Wr(n,rt,null,g,0)}else Q&&Wr(n,C,F,g,1)}},remove(t,n,i,o,{um:s,o:{remove:u}},c){const{shapeFlag:h,children:d,anchor:g,targetAnchor:T,target:p,props:b}=t;if(p&&u(T),(c||!qi(b))&&(u(g),h&16))for(let A=0;A<d.length;A++){const y=d[A];s(y,n,i,!0,!!y.dynamicChildren)}},move:Wr,hydrate:I_};function Wr(t,n,i,{o:{insert:o},m:s},u=2){u===0&&o(t.targetAnchor,n,i);const{el:c,anchor:h,shapeFlag:d,children:g,props:T}=t,p=u===2;if(p&&o(c,n,i),(!p||qi(T))&&d&16)for(let b=0;b<g.length;b++)s(g[b],n,i,2);p&&o(h,n,i)}function I_(t,n,i,o,s,u,{o:{nextSibling:c,parentNode:h,querySelector:d}},g){const T=n.target=ks(n.props,d);if(T){const p=T._lpa||T.firstChild;n.shapeFlag&16&&(qi(n.props)?(n.anchor=g(c(t),n,h(t),i,o,s,u),n.targetAnchor=p):(n.anchor=c(t),n.targetAnchor=g(p,n,T,i,o,s,u)),T._lpa=n.targetAnchor&&c(n.targetAnchor))}return n.anchor&&c(n.anchor)}const Jg=M_,Mf="components";function Vg(t,n){return k_(Mf,t,!0,n)||t}const B_=Symbol();function k_(t,n,i=!0,o=!1){const s=Re||te;if(s){const u=s.type;if(t===Mf){const h=Y_(u);if(h&&(h===n||h===Be(n)||h===kr(Be(n))))return u}const c=If(s[t]||u[t],n)||If(s.appContext[t],n);return!c&&o?u:c}}function If(t,n){return t&&(t[n]||t[Be(n)]||t[kr(Be(n))])}const Xe=Symbol(void 0),Rs=Symbol(void 0),En=Symbol(void 0),Ds=Symbol(void 0),Fi=[];let Sn=null;function R_(t=!1){Fi.push(Sn=t?null:[])}function D_(){Fi.pop(),Sn=Fi[Fi.length-1]||null}let Kr=1;function Bf(t){Kr+=t}function kf(t){return t.dynamicChildren=Kr>0?Sn||ti:null,D_(),Kr>0&&Sn&&Sn.push(t),t}function Yg(t,n,i,o,s,u){return kf(Df(t,n,i,o,s,u,!0))}function z_(t,n,i,o,s){return kf(tn(t,n,i,o,s,!0))}function N_(t){return t?t.__v_isVNode===!0:!1}function ji(t,n){return t.type===n.type&&t.key===n.key}const Gr="__vInternal",Rf=({key:t})=>t!=null?t:null,Jr=({ref:t,ref_key:n,ref_for:i})=>t!=null?Yt(t)||re(t)||Tt(t)?{i:Re,r:t,k:n,f:!!i}:t:null;function Df(t,n=null,i=null,o=0,s=null,u=t===Xe?0:1,c=!1,h=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&Rf(n),ref:n&&Jr(n),scopeId:lf,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null};return h?(zs(d,i),u&128&&t.normalize(d)):i&&(d.shapeFlag|=Yt(i)?8:16),Kr>0&&!c&&Sn&&(d.patchFlag>0||u&6)&&d.patchFlag!==32&&Sn.push(d),d}const tn=Z_;function Z_(t,n=null,i=null,o=0,s=null,u=!1){if((!t||t===B_)&&(t=En),N_(t)){const h=Ui(t,n,!0);return i&&zs(h,i),h}if(Q_(t)&&(t=t.__vccOpts),n){n=q_(n);let{class:h,style:d}=n;h&&!Yt(h)&&(n.class=ns(h)),ie(d)&&(of(d)&&!xt(d)&&(d=oe({},d)),n.style=es(d))}const c=Yt(t)?1:t_(t)?128:O_(t)?64:ie(t)?4:Tt(t)?2:0;return Df(t,n,i,o,s,c,u,!0)}function q_(t){return t?of(t)||Gr in t?oe({},t):t:null}function Ui(t,n,i=!1){const{props:o,ref:s,patchFlag:u,children:c}=t,h=n?j_(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Rf(h),ref:n&&n.ref?i&&s?xt(s)?s.concat(Jr(n)):[s,Jr(n)]:Jr(n):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Xe?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ui(t.ssContent),ssFallback:t.ssFallback&&Ui(t.ssFallback),el:t.el,anchor:t.anchor}}function F_(t=" ",n=0){return tn(Rs,null,t,n)}function Qg(t="",n=!1){return n?(R_(),z_(En,null,t)):tn(En,null,t)}function De(t){return t==null||typeof t=="boolean"?tn(En):xt(t)?tn(Xe,null,t.slice()):typeof t=="object"?ln(t):tn(Rs,null,String(t))}function ln(t){return t.el===null||t.memo?t:Ui(t)}function zs(t,n){let i=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(xt(n))i=16;else if(typeof n=="object")if(o&(1|64)){const s=n.default;s&&(s._c&&(s._d=!1),zs(t,s()),s._c&&(s._d=!0));return}else{i=32;const s=n._;!s&&!(Gr in n)?n._ctx=Re:s===3&&Re&&(Re.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Tt(n)?(n={default:n,_ctx:Re},i=32):(n=String(n),o&64?(i=16,n=[F_(n)]):i=8);t.children=n,t.shapeFlag|=i}function j_(...t){const n={};for(let i=0;i<t.length;i++){const o=t[i];for(const s in o)if(s==="class")n.class!==o.class&&(n.class=ns([n.class,o.class]));else if(s==="style")n.style=es([n.style,o.style]);else if(Or(s)){const u=n[s],c=o[s];u!==c&&!(xt(u)&&u.includes(c))&&(n[s]=u?[].concat(u,c):c)}else s!==""&&(n[s]=o[s])}return n}function ze(t,n,i,o=null){Pe(t,n,7,[i,o])}function Xg(t,n,i,o){let s;const u=i&&i[o];if(xt(t)||Yt(t)){s=new Array(t.length);for(let c=0,h=t.length;c<h;c++)s[c]=n(t[c],c,void 0,u&&u[c])}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=n(c+1,c,void 0,u&&u[c])}else if(ie(t))if(t[Symbol.iterator])s=Array.from(t,(c,h)=>n(c,h,void 0,u&&u[h]));else{const c=Object.keys(t);s=new Array(c.length);for(let h=0,d=c.length;h<d;h++){const g=c[h];s[h]=n(t[g],g,h,u&&u[h])}}else s=[];return i&&(i[o]=s),s}const Ns=t=>t?zf(t)?Zs(t)||t.proxy:Ns(t.parent):null,Vr=oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ns(t.parent),$root:t=>Ns(t.root),$emit:t=>t.emit,$options:t=>gf(t),$forceUpdate:t=>()=>jf(t.update),$nextTick:t=>tp.bind(t.proxy),$watch:t=>op.bind(t)}),U_={get({_:t},n){const{ctx:i,setupState:o,data:s,props:u,accessCache:c,type:h,appContext:d}=t;let g;if(n[0]!=="$"){const A=c[n];if(A!==void 0)switch(A){case 1:return o[n];case 2:return s[n];case 4:return i[n];case 3:return u[n]}else{if(o!==qt&&Bt(o,n))return c[n]=1,o[n];if(s!==qt&&Bt(s,n))return c[n]=2,s[n];if((g=t.propsOptions[0])&&Bt(g,n))return c[n]=3,u[n];if(i!==qt&&Bt(i,n))return c[n]=4,i[n];Ss&&(c[n]=0)}}const T=Vr[n];let p,b;if(T)return n==="$attrs"&&he(t,"get",n),T(t);if((p=h.__cssModules)&&(p=p[n]))return p;if(i!==qt&&Bt(i,n))return c[n]=4,i[n];if(b=d.config.globalProperties,Bt(b,n))return b[n]},set({_:t},n,i){const{data:o,setupState:s,ctx:u}=t;if(s!==qt&&Bt(s,n))s[n]=i;else if(o!==qt&&Bt(o,n))o[n]=i;else if(Bt(t.props,n))return!1;return n[0]==="$"&&n.slice(1)in t?!1:(u[n]=i,!0)},has({_:{data:t,setupState:n,accessCache:i,ctx:o,appContext:s,propsOptions:u}},c){let h;return!!i[c]||t!==qt&&Bt(t,c)||n!==qt&&Bt(n,c)||(h=u[0])&&Bt(h,c)||Bt(o,c)||Bt(Vr,c)||Bt(s.config.globalProperties,c)}},$_=Af();let H_=0;function W_(t,n,i){const o=t.type,s=(n?n.appContext:t.appContext)||$_,u={uid:H_++,vnode:t,type:o,parent:n,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new fd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bf(o,s),emitsOptions:cf(o,s),emit:null,emitted:null,propsDefaults:qt,inheritAttrs:o.inheritAttrs,ctx:qt,data:qt,props:qt,attrs:qt,slots:qt,refs:qt,setupState:qt,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=n?n.root:u,u.emit=Gd.bind(null,u),t.ce&&t.ce(u),u}let te=null;const oi=t=>{te=t,t.scope.on()},An=()=>{te&&te.scope.off(),te=null};function zf(t){return t.vnode.shapeFlag&4}let Yr=!1;function K_(t,n=!1){Yr=n;const{props:i,children:o}=t.vnode,s=zf(t);w_(t,i,s,n),P_(t,o);const u=s?G_(t,n):void 0;return Yr=!1,u}function G_(t,n){const i=t.type;t.accessCache=Object.create(null),t.proxy=sf(new Proxy(t.ctx,U_));const{setup:o}=i;if(o){const s=t.setupContext=o.length>1?V_(t):null;oi(t),ii();const u=hn(o,t,0,[t.props,s]);if(Pn(),An(),Zu(u)){if(u.then(An,An),n)return u.then(c=>{Nf(t,c,n)}).catch(c=>{Qr(c,t,0)});t.asyncDep=u}else Nf(t,u,n)}else qf(t,n)}function Nf(t,n,i){Tt(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:ie(n)&&(t.setupState=ff(n)),qf(t,i)}let Zf;function qf(t,n,i){const o=t.type;if(!t.render){if(!n&&Zf&&!o.render){const s=o.template;if(s){const{isCustomElement:u,compilerOptions:c}=t.appContext.config,{delimiters:h,compilerOptions:d}=o,g=oe(oe({isCustomElement:u,delimiters:h},c),d);o.render=Zf(s,g)}}t.render=o.render||xe}oi(t),ii(),p_(t),Pn(),An()}function J_(t){return new Proxy(t.attrs,{get(n,i){return he(t,"get","$attrs"),n[i]}})}function V_(t){const n=o=>{t.exposed=o||{}};let i;return{get attrs(){return i||(i=J_(t))},slots:t.slots,emit:t.emit,expose:n}}function Zs(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ff(sf(t.exposed)),{get(n,i){if(i in n)return n[i];if(i in Vr)return Vr[i](t)}}))}function Y_(t){return Tt(t)&&t.displayName||t.name}function Q_(t){return Tt(t)&&"__vccOpts"in t}function hn(t,n,i,o){let s;try{s=o?t(...o):t()}catch(u){Qr(u,n,i)}return s}function Pe(t,n,i,o){if(Tt(t)){const u=hn(t,n,i,o);return u&&Zu(u)&&u.catch(c=>{Qr(c,n,i)}),u}const s=[];for(let u=0;u<t.length;u++)s.push(Pe(t[u],n,i,o));return s}function Qr(t,n,i,o=!0){const s=n?n.vnode:null;if(n){let u=n.parent;const c=n.proxy,h=i;for(;u;){const g=u.ec;if(g){for(let T=0;T<g.length;T++)if(g[T](t,c,h)===!1)return}u=u.parent}const d=n.appContext.config.errorHandler;if(d){hn(d,null,10,[t,c,h]);return}}X_(t,i,s,o)}function X_(t,n,i,o=!0){console.error(t)}let Xr=!1,qs=!1;const de=[];let en=0;const $i=[];let Hi=null,si=0;const Wi=[];let dn=null,ai=0;const Ff=Promise.resolve();let Fs=null,js=null;function tp(t){const n=Fs||Ff;return t?n.then(this?t.bind(this):t):n}function ep(t){let n=en+1,i=de.length;for(;n<i;){const o=n+i>>>1;Ki(de[o])<t?n=o+1:i=o}return n}function jf(t){(!de.length||!de.includes(t,Xr&&t.allowRecurse?en+1:en))&&t!==js&&(t.id==null?de.push(t):de.splice(ep(t.id),0,t),Uf())}function Uf(){!Xr&&!qs&&(qs=!0,Fs=Ff.then(Wf))}function np(t){const n=de.indexOf(t);n>en&&de.splice(n,1)}function $f(t,n,i,o){xt(t)?i.push(...t):(!n||!n.includes(t,t.allowRecurse?o+1:o))&&i.push(t),Uf()}function ip(t){$f(t,Hi,$i,si)}function rp(t){$f(t,dn,Wi,ai)}function Us(t,n=null){if($i.length){for(js=n,Hi=[...new Set($i)],$i.length=0,si=0;si<Hi.length;si++)Hi[si]();Hi=null,si=0,js=null,Us(t,n)}}function Hf(t){if(Wi.length){const n=[...new Set(Wi)];if(Wi.length=0,dn){dn.push(...n);return}for(dn=n,dn.sort((i,o)=>Ki(i)-Ki(o)),ai=0;ai<dn.length;ai++)dn[ai]();dn=null,ai=0}}const Ki=t=>t.id==null?1/0:t.id;function Wf(t){qs=!1,Xr=!0,Us(t),de.sort((i,o)=>Ki(i)-Ki(o));const n=xe;try{for(en=0;en<de.length;en++){const i=de[en];i&&i.active!==!1&&hn(i,null,14)}}finally{en=0,de.length=0,Hf(),Xr=!1,Fs=null,(de.length||$i.length||Wi.length)&&Wf(t)}}const Kf={};function to(t,n,i){return Gf(t,n,i)}function Gf(t,n,{immediate:i,deep:o,flush:s,onTrack:u,onTrigger:c}=qt){const h=te;let d,g=!1,T=!1;if(re(t)?(d=()=>t.value,g=!!t._shallow):ri(t)?(d=()=>t,o=!0):xt(t)?(T=!0,g=t.some(ri),d=()=>t.map(P=>{if(re(P))return P.value;if(ri(P))return ui(P);if(Tt(P))return hn(P,h,2)})):Tt(t)?n?d=()=>hn(t,h,2):d=()=>{if(!(h&&h.isUnmounted))return p&&p(),Pe(t,h,3,[b])}:d=xe,n&&o){const P=d;d=()=>ui(P())}let p,b=P=>{p=M.onStop=()=>{hn(P,h,4)}};if(Yr)return b=xe,n?i&&Pe(n,h,3,[d(),T?[]:void 0,b]):d(),xe;let A=T?[]:Kf;const y=()=>{if(!!M.active)if(n){const P=M.run();(o||g||(T?P.some((x,_)=>Di(x,A[_])):Di(P,A)))&&(p&&p(),Pe(n,h,3,[P,A===Kf?void 0:A,b]),A=P)}else M.run()};y.allowRecurse=!!n;let E;s==="sync"?E=y:s==="post"?E=()=>fe(y,h&&h.suspense):E=()=>{!h||h.isMounted?ip(y):y()};const M=new ds(d,E);return n?i?y():A=M.run():s==="post"?fe(M.run.bind(M),h&&h.suspense):M.run(),()=>{M.stop(),h&&h.scope&&rs(h.scope.effects,M)}}function op(t,n,i){const o=this.proxy,s=Yt(t)?t.includes(".")?Jf(o,t):()=>o[t]:t.bind(o,o);let u;Tt(n)?u=n:(u=n.handler,i=n);const c=te;oi(this);const h=Gf(s,u.bind(o),i);return c?oi(c):An(),h}function Jf(t,n){const i=n.split(".");return()=>{let o=t;for(let s=0;s<i.length&&o;s++)o=o[i[s]];return o}}function ui(t,n){if(!ie(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),re(t))ui(t.value,n);else if(xt(t))for(let i=0;i<t.length;i++)ui(t[i],n);else if(ed(t)||Ri(t))t.forEach(i=>{ui(i,n)});else if(rd(t))for(const i in t)ui(t[i],n);return t}const sp="3.2.26",ap="http://www.w3.org/2000/svg",fi=typeof document!="undefined"?document:null,Vf=new Map,up={insert:(t,n,i)=>{n.insertBefore(t,i||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,i,o)=>{const s=n?fi.createElementNS(ap,t):fi.createElement(t,i?{is:i}:void 0);return t==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:t=>fi.createTextNode(t),createComment:t=>fi.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>fi.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},cloneNode(t){const n=t.cloneNode(!0);return"_value"in t&&(n._value=t._value),n},insertStaticContent(t,n,i,o){const s=i?i.previousSibling:n.lastChild;let u=Vf.get(t);if(!u){const c=fi.createElement("template");if(c.innerHTML=o?`<svg>${t}</svg>`:t,u=c.content,o){const h=u.firstChild;for(;h.firstChild;)u.appendChild(h.firstChild);u.removeChild(h)}Vf.set(t,u)}return n.insertBefore(u.cloneNode(!0),i),[s?s.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}};function fp(t,n,i){const o=t._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):i?t.setAttribute("class",n):t.className=n}function cp(t,n,i){const o=t.style,s=Yt(i);if(i&&!s){for(const u in i)$s(o,u,i[u]);if(n&&!Yt(n))for(const u in n)i[u]==null&&$s(o,u,"")}else{const u=o.display;s?n!==i&&(o.cssText=i):n&&t.removeAttribute("style"),"_vod"in t&&(o.display=u)}}const Yf=/\s*!important$/;function $s(t,n,i){if(xt(i))i.forEach(o=>$s(t,n,o));else if(n.startsWith("--"))t.setProperty(n,i);else{const o=lp(t,n);Yf.test(i)?t.setProperty(ei(o),i.replace(Yf,""),"important"):t[o]=i}}const Qf=["Webkit","Moz","ms"],Hs={};function lp(t,n){const i=Hs[n];if(i)return i;let o=Be(n);if(o!=="filter"&&o in t)return Hs[n]=o;o=kr(o);for(let s=0;s<Qf.length;s++){const u=Qf[s]+o;if(u in t)return Hs[n]=u}return n}const Xf="http://www.w3.org/1999/xlink";function hp(t,n,i,o,s){if(o&&n.startsWith("xlink:"))i==null?t.removeAttributeNS(Xf,n.slice(6,n.length)):t.setAttributeNS(Xf,n,i);else{const u=Gh(n);i==null||u&&!Nu(i)?t.removeAttribute(n):t.setAttribute(n,u?"":i)}}function dp(t,n,i,o,s,u,c){if(n==="innerHTML"||n==="textContent"){o&&c(o,s,u),t[n]=i==null?"":i;return}if(n==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=i;const h=i==null?"":i;(t.value!==h||t.tagName==="OPTION")&&(t.value=h),i==null&&t.removeAttribute(n);return}if(i===""||i==null){const h=typeof t[n];if(h==="boolean"){t[n]=Nu(i);return}else if(i==null&&h==="string"){t[n]="",t.removeAttribute(n);return}else if(h==="number"){try{t[n]=0}catch{}t.removeAttribute(n);return}}try{t[n]=i}catch{}}let eo=Date.now,tc=!1;if(typeof window!="undefined"){eo()>document.createEvent("Event").timeStamp&&(eo=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);tc=!!(t&&Number(t[1])<=53)}let Ws=0;const _p=Promise.resolve(),pp=()=>{Ws=0},vp=()=>Ws||(_p.then(pp),Ws=eo());function mp(t,n,i,o){t.addEventListener(n,i,o)}function gp(t,n,i,o){t.removeEventListener(n,i,o)}function yp(t,n,i,o,s=null){const u=t._vei||(t._vei={}),c=u[n];if(o&&c)c.value=o;else{const[h,d]=wp(n);if(o){const g=u[n]=bp(o,s);mp(t,h,g,d)}else c&&(gp(t,h,c,d),u[n]=void 0)}}const ec=/(?:Once|Passive|Capture)$/;function wp(t){let n;if(ec.test(t)){n={};let i;for(;i=t.match(ec);)t=t.slice(0,t.length-i[0].length),n[i[0].toLowerCase()]=!0}return[ei(t.slice(2)),n]}function bp(t,n){const i=o=>{const s=o.timeStamp||eo();(tc||s>=i.attached-1)&&Pe(xp(o,i.value),n,5,[o])};return i.value=t,i.attached=vp(),i}function xp(t,n){if(xt(n)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},n.map(o=>s=>!s._stopped&&o(s))}else return n}const nc=/^on[a-z]/,Pp=(t,n,i,o,s=!1,u,c,h,d)=>{n==="class"?fp(t,o,s):n==="style"?cp(t,i,o):Or(n)?is(n)||yp(t,n,i,o,c):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Lp(t,n,o,s))?dp(t,n,o,u,c,h,d):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),hp(t,n,o,s))};function Lp(t,n,i,o){return o?!!(n==="innerHTML"||n==="textContent"||n in t&&nc.test(n)&&Tt(i)):n==="spellcheck"||n==="draggable"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||nc.test(n)&&Yt(i)?!1:n in t}const Tp=["ctrl","shift","alt","meta"],Cp={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>Tp.some(i=>t[`${i}Key`]&&!n.includes(i))},ty=(t,n)=>(i,...o)=>{for(let s=0;s<n.length;s++){const u=Cp[n[s]];if(u&&u(i,n))return}return t(i,...o)},Ep=oe({patchProp:Pp},up);let ic;function Sp(){return ic||(ic=E_(Ep))}const ey=(...t)=>{const n=Sp().createApp(...t),{mount:i}=n;return n.mount=o=>{const s=Ap(o);if(!s)return;const u=n._component;!Tt(u)&&!u.render&&!u.template&&(u.template=s.innerHTML),s.innerHTML="";const c=i(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},n};function Ap(t){return Yt(t)?document.querySelector(t):t}var _e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Op(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var Ks={exports:{}};/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(i,o){o(n)})(_e,function(i){var o="1.7.1";function s(e){var r,a,f,l;for(a=1,f=arguments.length;a<f;a++){l=arguments[a];for(r in l)e[r]=l[r]}return e}var u=Object.create||function(){function e(){}return function(r){return e.prototype=r,new e}}();function c(e,r){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var f=a.call(arguments,2);return function(){return e.apply(r,f.length?f.concat(a.call(arguments)):arguments)}}var h=0;function d(e){return e._leaflet_id=e._leaflet_id||++h,e._leaflet_id}function g(e,r,a){var f,l,m,O;return O=function(){f=!1,l&&(m.apply(a,l),l=!1)},m=function(){f?l=arguments:(e.apply(a,arguments),setTimeout(O,r),f=!0)},m}function T(e,r,a){var f=r[1],l=r[0],m=f-l;return e===f&&a?e:((e-l)%m+m)%m+l}function p(){return!1}function b(e,r){var a=Math.pow(10,r===void 0?6:r);return Math.round(e*a)/a}function A(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function y(e){return A(e).split(/\s+/)}function E(e,r){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?u(e.options):{});for(var a in r)e.options[a]=r[a];return e.options}function M(e,r,a){var f=[];for(var l in e)f.push(encodeURIComponent(a?l.toUpperCase():l)+"="+encodeURIComponent(e[l]));return(!r||r.indexOf("?")===-1?"?":"&")+f.join("&")}var P=/\{ *([\w_-]+) *\}/g;function x(e,r){return e.replace(P,function(a,f){var l=r[f];if(l===void 0)throw new Error("No value provided for variable "+a);return typeof l=="function"&&(l=l(r)),l})}var _=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function v(e,r){for(var a=0;a<e.length;a++)if(e[a]===r)return a;return-1}var w="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var F=0;function Q(e){var r=+new Date,a=Math.max(0,16-(r-F));return F=r+a,window.setTimeout(e,a)}var it=window.requestAnimationFrame||C("RequestAnimationFrame")||Q,X=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function rt(e,r,a){if(a&&it===Q)e.call(r);else return it.call(window,c(e,r))}function ft(e){e&&X.call(window,e)}var gt={extend:s,create:u,bind:c,lastId:h,stamp:d,throttle:g,wrapNum:T,falseFn:p,formatNum:b,trim:A,splitWords:y,setOptions:E,getParamString:M,template:x,isArray:_,indexOf:v,emptyImageUrl:w,requestFn:it,cancelFn:X,requestAnimFrame:rt,cancelAnimFrame:ft};function lt(){}lt.extend=function(e){var r=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,f=u(a);f.constructor=r,r.prototype=f;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(r[l]=this[l]);return e.statics&&(s(r,e.statics),delete e.statics),e.includes&&(_t(e.includes),s.apply(null,[f].concat(e.includes)),delete e.includes),f.options&&(e.options=s(u(f.options),e.options)),s(f,e),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,O=f._initHooks.length;m<O;m++)f._initHooks[m].call(this)}},r},lt.include=function(e){return s(this.prototype,e),this},lt.mergeOptions=function(e){return s(this.prototype.options,e),this},lt.addInitHook=function(e){var r=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function _t(e){if(!(typeof L=="undefined"||!L||!L.Mixin)){e=_(e)?e:[e];for(var r=0;r<e.length;r++)e[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ut={on:function(e,r,a){if(typeof e=="object")for(var f in e)this._on(f,e[f],r);else{e=y(e);for(var l=0,m=e.length;l<m;l++)this._on(e[l],r,a)}return this},off:function(e,r,a){if(!e)delete this._events;else if(typeof e=="object")for(var f in e)this._off(f,e[f],r);else{e=y(e);for(var l=0,m=e.length;l<m;l++)this._off(e[l],r,a)}return this},_on:function(e,r,a){this._events=this._events||{};var f=this._events[e];f||(f=[],this._events[e]=f),a===this&&(a=void 0);for(var l={fn:r,ctx:a},m=f,O=0,R=m.length;O<R;O++)if(m[O].fn===r&&m[O].ctx===a)return;m.push(l)},_off:function(e,r,a){var f,l,m;if(!!this._events&&(f=this._events[e],!!f)){if(!r){for(l=0,m=f.length;l<m;l++)f[l].fn=p;delete this._events[e];return}if(a===this&&(a=void 0),f)for(l=0,m=f.length;l<m;l++){var O=f[l];if(O.ctx===a&&O.fn===r){O.fn=p,this._firingCount&&(this._events[e]=f=f.slice()),f.splice(l,1);return}}}},fire:function(e,r,a){if(!this.listens(e,a))return this;var f=s({},r,{type:e,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var l=this._events[e];if(l){this._firingCount=this._firingCount+1||1;for(var m=0,O=l.length;m<O;m++){var R=l[m];R.fn.call(R.ctx||this,f)}this._firingCount--}}return a&&this._propagateEvent(f),this},listens:function(e,r){var a=this._events&&this._events[e];if(a&&a.length)return!0;if(r){for(var f in this._eventParents)if(this._eventParents[f].listens(e,r))return!0}return!1},once:function(e,r,a){if(typeof e=="object"){for(var f in e)this.once(f,e[f],r);return this}var l=c(function(){this.off(e,r,a).off(e,l,a)},this);return this.on(e,r,a).on(e,l,a)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[d(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[d(e)],this},_propagateEvent:function(e){for(var r in this._eventParents)this._eventParents[r].fire(e.type,s({layer:e.target,propagatedFrom:e.target},e),!0)}};ut.addEventListener=ut.on,ut.removeEventListener=ut.clearAllEventListeners=ut.off,ut.addOneTimeEventListener=ut.once,ut.fireEvent=ut.fire,ut.hasEventListeners=ut.listens;var k=lt.extend(ut);function I(e,r,a){this.x=a?Math.round(e):e,this.y=a?Math.round(r):r}var Z=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(e){return this.clone()._add($(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract($(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new I(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new I(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(e){e=$(e);var r=e.x-this.x,a=e.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(e){return e=$(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=$(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function $(e,r,a){return e instanceof I?e:_(e)?new I(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new I(e.x,e.y):new I(e,r,a)}function q(e,r){if(!!e)for(var a=r?[e,r]:e,f=0,l=a.length;f<l;f++)this.extend(a[f])}q.prototype={extend:function(e){return e=$(e),!this.min&&!this.max?(this.min=e.clone(),this.max=e.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)),this},getCenter:function(e){return new I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new I(this.min.x,this.max.y)},getTopRight:function(){return new I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var r,a;return typeof e[0]=="number"||e instanceof I?e=$(e):e=D(e),e instanceof q?(r=e.min,a=e.max):r=a=e,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=D(e);var r=this.min,a=this.max,f=e.min,l=e.max,m=l.x>=r.x&&f.x<=a.x,O=l.y>=r.y&&f.y<=a.y;return m&&O},overlaps:function(e){e=D(e);var r=this.min,a=this.max,f=e.min,l=e.max,m=l.x>r.x&&f.x<a.x,O=l.y>r.y&&f.y<a.y;return m&&O},isValid:function(){return!!(this.min&&this.max)}};function D(e,r){return!e||e instanceof q?e:new q(e,r)}function U(e,r){if(!!e)for(var a=r?[e,r]:e,f=0,l=a.length;f<l;f++)this.extend(a[f])}U.prototype={extend:function(e){var r=this._southWest,a=this._northEast,f,l;if(e instanceof V)f=e,l=e;else if(e instanceof U){if(f=e._southWest,l=e._northEast,!f||!l)return this}else return e?this.extend(st(e)||tt(e)):this;return!r&&!a?(this._southWest=new V(f.lat,f.lng),this._northEast=new V(l.lat,l.lng)):(r.lat=Math.min(f.lat,r.lat),r.lng=Math.min(f.lng,r.lng),a.lat=Math.max(l.lat,a.lat),a.lng=Math.max(l.lng,a.lng)),this},pad:function(e){var r=this._southWest,a=this._northEast,f=Math.abs(r.lat-a.lat)*e,l=Math.abs(r.lng-a.lng)*e;return new U(new V(r.lat-f,r.lng-l),new V(a.lat+f,a.lng+l))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof V||"lat"in e?e=st(e):e=tt(e);var r=this._southWest,a=this._northEast,f,l;return e instanceof U?(f=e.getSouthWest(),l=e.getNorthEast()):f=l=e,f.lat>=r.lat&&l.lat<=a.lat&&f.lng>=r.lng&&l.lng<=a.lng},intersects:function(e){e=tt(e);var r=this._southWest,a=this._northEast,f=e.getSouthWest(),l=e.getNorthEast(),m=l.lat>=r.lat&&f.lat<=a.lat,O=l.lng>=r.lng&&f.lng<=a.lng;return m&&O},overlaps:function(e){e=tt(e);var r=this._southWest,a=this._northEast,f=e.getSouthWest(),l=e.getNorthEast(),m=l.lat>r.lat&&f.lat<a.lat,O=l.lng>r.lng&&f.lng<a.lng;return m&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,r){return e?(e=tt(e),this._southWest.equals(e.getSouthWest(),r)&&this._northEast.equals(e.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function tt(e,r){return e instanceof U?e:new U(e,r)}function V(e,r,a){if(isNaN(e)||isNaN(r))throw new Error("Invalid LatLng object: ("+e+", "+r+")");this.lat=+e,this.lng=+r,a!==void 0&&(this.alt=+a)}V.prototype={equals:function(e,r){if(!e)return!1;e=st(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(r===void 0?1e-9:r)},toString:function(e){return"LatLng("+b(this.lat,e)+", "+b(this.lng,e)+")"},distanceTo:function(e){return G.distance(this,st(e))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(e){var r=180*e/40075017,a=r/Math.cos(Math.PI/180*this.lat);return tt([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new V(this.lat,this.lng,this.alt)}};function st(e,r,a){return e instanceof V?e:_(e)&&typeof e[0]!="object"?e.length===3?new V(e[0],e[1],e[2]):e.length===2?new V(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new V(e.lat,"lng"in e?e.lng:e.lon,e.alt):r===void 0?null:new V(e,r,a)}var ot={latLngToPoint:function(e,r){var a=this.projection.project(e),f=this.scale(r);return this.transformation._transform(a,f)},pointToLatLng:function(e,r){var a=this.scale(r),f=this.transformation.untransform(e,a);return this.projection.unproject(f)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(e),f=this.transformation.transform(r.min,a),l=this.transformation.transform(r.max,a);return new q(f,l)},infinite:!1,wrapLatLng:function(e){var r=this.wrapLng?T(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?T(e.lat,this.wrapLat,!0):e.lat,f=e.alt;return new V(a,r,f)},wrapLatLngBounds:function(e){var r=e.getCenter(),a=this.wrapLatLng(r),f=r.lat-a.lat,l=r.lng-a.lng;if(f===0&&l===0)return e;var m=e.getSouthWest(),O=e.getNorthEast(),R=new V(m.lat-f,m.lng-l),N=new V(O.lat-f,O.lng-l);return new U(R,N)}},G=s({},ot,{wrapLng:[-180,180],R:6371e3,distance:function(e,r){var a=Math.PI/180,f=e.lat*a,l=r.lat*a,m=Math.sin((r.lat-e.lat)*a/2),O=Math.sin((r.lng-e.lng)*a/2),R=m*m+Math.cos(f)*Math.cos(l)*O*O,N=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*N}}),ht=6378137,mt={R:ht,MAX_LATITUDE:85.0511287798,project:function(e){var r=Math.PI/180,a=this.MAX_LATITUDE,f=Math.max(Math.min(a,e.lat),-a),l=Math.sin(f*r);return new I(this.R*e.lng*r,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(e){var r=180/Math.PI;return new V((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*r,e.x*r/this.R)},bounds:function(){var e=ht*Math.PI;return new q([-e,-e],[e,e])}()};function St(e,r,a,f){if(_(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=r,this._c=a,this._d=f}St.prototype={transform:function(e,r){return this._transform(e.clone(),r)},_transform:function(e,r){return r=r||1,e.x=r*(this._a*e.x+this._b),e.y=r*(this._c*e.y+this._d),e},untransform:function(e,r){return r=r||1,new I((e.x/r-this._b)/this._a,(e.y/r-this._d)/this._c)}};function bt(e,r,a,f){return new St(e,r,a,f)}var S=s({},G,{code:"EPSG:3857",projection:mt,transformation:function(){var e=.5/(Math.PI*mt.R);return bt(e,.5,-e,.5)}()}),B=s({},S,{code:"EPSG:900913"});function z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function H(e,r){var a="",f,l,m,O,R,N;for(f=0,m=e.length;f<m;f++){for(R=e[f],l=0,O=R.length;l<O;l++)N=R[l],a+=(l?"L":"M")+N.x+" "+N.y;a+=r?fr?"z":"x":""}return a||"M0 0"}var j=document.documentElement.style,J="ActiveXObject"in window,et=J&&!document.addEventListener,Y="msLaunchUri"in navigator&&!("documentMode"in document),nt=Oe("webkit"),K=Oe("android"),dt=Oe("android 2")||Oe("android 3"),ct=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pt=K&&Oe("Google")&&ct<537&&!("AudioNode"in window),yt=!!window.opera,Ct=!Y&&Oe("chrome"),Rt=Oe("gecko")&&!nt&&!yt&&!J,Ot=!Ct&&Oe("safari"),Dt=Oe("phantom"),ue="OTransition"in j,Ue=navigator.platform.indexOf("Win")===0,qn=J&&"transition"in j,$e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!dt,xi="MozPerspective"in j,Zt=!window.L_DISABLE_3D&&(qn||$e||xi)&&!ue&&!Dt,Xt=typeof orientation!="undefined"||Oe("mobile"),ur=Xt&&nt,jl=Xt&&$e,rn=!window.PointerEvent&&window.MSPointerEvent,Se=!!(window.PointerEvent||rn),Ae=!window.L_NO_TOUCH&&(Se||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ga=Xt&&yt,Ul=Xt&&Rt,on=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fn=function(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",p,r),window.removeEventListener("testPassiveEventSupport",p,r)}catch{}return e}(),Ja=function(){return!!document.createElement("canvas").getContext}(),fr=!!(document.createElementNS&&z("svg").createSVGRect),cr=!fr&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var r=e.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}();function Oe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var $l={ie:J,ielt9:et,edge:Y,webkit:nt,android:K,android23:dt,androidStock:pt,opera:yt,chrome:Ct,gecko:Rt,safari:Ot,phantom:Dt,opera12:ue,win:Ue,ie3d:qn,webkit3d:$e,gecko3d:xi,any3d:Zt,mobile:Xt,mobileWebkit:ur,mobileWebkit3d:jl,msPointer:rn,pointer:Se,touch:Ae,mobileOpera:Ga,mobileGecko:Ul,retina:on,passiveEvents:Fn,canvas:Ja,svg:fr,vml:cr},bo=rn?"MSPointerDown":"pointerdown",xo=rn?"MSPointerMove":"pointermove",Po=rn?"MSPointerUp":"pointerup",Lo=rn?"MSPointerCancel":"pointercancel",jn={},Va=!1;function Hl(e,r,a,f){return r==="touchstart"?Kl(e,a,f):r==="touchmove"?Vl(e,a,f):r==="touchend"&&Yl(e,a,f),this}function Wl(e,r,a){var f=e["_leaflet_"+r+a];return r==="touchstart"?e.removeEventListener(bo,f,!1):r==="touchmove"?e.removeEventListener(xo,f,!1):r==="touchend"&&(e.removeEventListener(Po,f,!1),e.removeEventListener(Lo,f,!1)),this}function Kl(e,r,a){var f=c(function(l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ve(l),To(l,r)});e["_leaflet_touchstart"+a]=f,e.addEventListener(bo,f,!1),Va||(document.addEventListener(bo,Gl,!0),document.addEventListener(xo,Jl,!0),document.addEventListener(Po,Ya,!0),document.addEventListener(Lo,Ya,!0),Va=!0)}function Gl(e){jn[e.pointerId]=e}function Jl(e){jn[e.pointerId]&&(jn[e.pointerId]=e)}function Ya(e){delete jn[e.pointerId]}function To(e,r){e.touches=[];for(var a in jn)e.touches.push(jn[a]);e.changedTouches=[e],r(e)}function Vl(e,r,a){var f=function(l){l.pointerType===(l.MSPOINTER_TYPE_MOUSE||"mouse")&&l.buttons===0||To(l,r)};e["_leaflet_touchmove"+a]=f,e.addEventListener(xo,f,!1)}function Yl(e,r,a){var f=function(l){To(l,r)};e["_leaflet_touchend"+a]=f,e.addEventListener(Po,f,!1),e.addEventListener(Lo,f,!1)}var lr=rn?"MSPointerDown":Se?"pointerdown":"touchstart",hr=rn?"MSPointerUp":Se?"pointerup":"touchend",Un="_leaflet_";function Ql(e,r,a){var f,l,m=!1,O=250;function R(W){if(Se){if(!W.isPrimary||W.pointerType==="mouse")return}else if(W.touches.length>1)return;var at=Date.now(),vt=at-(f||at);l=W.touches?W.touches[0]:W,m=vt>0&&vt<=O,f=at}function N(W){if(m&&!l.cancelBubble){if(Se){if(W.pointerType==="mouse")return;var at={},vt,It;for(It in l)vt=l[It],at[It]=vt&&vt.bind?vt.bind(l):vt;l=at}l.type="dblclick",l.button=0,r(l),f=null}}return e[Un+lr+a]=R,e[Un+hr+a]=N,e[Un+"dblclick"+a]=r,e.addEventListener(lr,R,Fn?{passive:!1}:!1),e.addEventListener(hr,N,Fn?{passive:!1}:!1),e.addEventListener("dblclick",r,!1),this}function Xl(e,r){var a=e[Un+lr+r],f=e[Un+hr+r],l=e[Un+"dblclick"+r];return e.removeEventListener(lr,a,Fn?{passive:!1}:!1),e.removeEventListener(hr,f,Fn?{passive:!1}:!1),e.removeEventListener("dblclick",l,!1),this}var Co=pr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Pi=pr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qa=Pi==="webkitTransition"||Pi==="OTransition"?Pi+"End":"transitionend";function Xa(e){return typeof e=="string"?document.getElementById(e):e}function Li(e,r){var a=e.style[r]||e.currentStyle&&e.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(e,null);a=f?f[r]:null}return a==="auto"?null:a}function Mt(e,r,a){var f=document.createElement(e);return f.className=r||"",a&&a.appendChild(f),f}function jt(e){var r=e.parentNode;r&&r.removeChild(e)}function dr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function $n(e){var r=e.parentNode;r&&r.lastChild!==e&&r.appendChild(e)}function Hn(e){var r=e.parentNode;r&&r.firstChild!==e&&r.insertBefore(e,r.firstChild)}function Eo(e,r){if(e.classList!==void 0)return e.classList.contains(r);var a=_r(e);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function wt(e,r){if(e.classList!==void 0)for(var a=y(r),f=0,l=a.length;f<l;f++)e.classList.add(a[f]);else if(!Eo(e,r)){var m=_r(e);So(e,(m?m+" ":"")+r)}}function Ut(e,r){e.classList!==void 0?e.classList.remove(r):So(e,A((" "+_r(e)+" ").replace(" "+r+" "," ")))}function So(e,r){e.className.baseVal===void 0?e.className=r:e.className.baseVal=r}function _r(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function pe(e,r){"opacity"in e.style?e.style.opacity=r:"filter"in e.style&&th(e,r)}function th(e,r){var a=!1,f="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(f)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):e.style.filter+=" progid:"+f+"(opacity="+r+")"}function pr(e){for(var r=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in r)return e[a];return!1}function vn(e,r,a){var f=r||new I(0,0);e.style[Co]=(qn?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(a?" scale("+a+")":"")}function Ht(e,r){e._leaflet_pos=r,Zt?vn(e,r):(e.style.left=r.x+"px",e.style.top=r.y+"px")}function sn(e){return e._leaflet_pos||new I(0,0)}var Ti,Ci,Ao;if("onselectstart"in document)Ti=function(){Et(window,"selectstart",ve)},Ci=function(){$t(window,"selectstart",ve)};else{var Ei=pr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ti=function(){if(Ei){var e=document.documentElement.style;Ao=e[Ei],e[Ei]="none"}},Ci=function(){Ei&&(document.documentElement.style[Ei]=Ao,Ao=void 0)}}function Oo(){Et(window,"dragstart",ve)}function Mo(){$t(window,"dragstart",ve)}var vr,Io;function Bo(e){for(;e.tabIndex===-1;)e=e.parentNode;!e.style||(mr(),vr=e,Io=e.style.outline,e.style.outline="none",Et(window,"keydown",mr))}function mr(){!vr||(vr.style.outline=Io,vr=void 0,Io=void 0,$t(window,"keydown",mr))}function tu(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function ko(e){var r=e.getBoundingClientRect();return{x:r.width/e.offsetWidth||1,y:r.height/e.offsetHeight||1,boundingClientRect:r}}var eh={TRANSFORM:Co,TRANSITION:Pi,TRANSITION_END:Qa,get:Xa,getStyle:Li,create:Mt,remove:jt,empty:dr,toFront:$n,toBack:Hn,hasClass:Eo,addClass:wt,removeClass:Ut,setClass:So,getClass:_r,setOpacity:pe,testProp:pr,setTransform:vn,setPosition:Ht,getPosition:sn,disableTextSelection:Ti,enableTextSelection:Ci,disableImageDrag:Oo,enableImageDrag:Mo,preventOutline:Bo,restoreOutline:mr,getSizedParentNode:tu,getScale:ko};function Et(e,r,a,f){if(typeof r=="object")for(var l in r)gr(e,l,r[l],a);else{r=y(r);for(var m=0,O=r.length;m<O;m++)gr(e,r[m],a,f)}return this}var ye="_leaflet_events";function $t(e,r,a,f){if(typeof r=="object")for(var l in r)Do(e,l,r[l],a);else if(r){r=y(r);for(var m=0,O=r.length;m<O;m++)Do(e,r[m],a,f)}else{for(var R in e[ye])Do(e,R,e[ye][R]);delete e[ye]}return this}function eu(){if(Se)return!(Y||Ot)}var Ro={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function gr(e,r,a,f){var l=r+d(a)+(f?"_"+d(f):"");if(e[ye]&&e[ye][l])return this;var m=function(R){return a.call(f||e,R||window.event)},O=m;Se&&r.indexOf("touch")===0?Hl(e,r,m,l):Ae&&r==="dblclick"&&!eu()?Ql(e,m,l):"addEventListener"in e?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?e.addEventListener(Ro[r]||r,m,Fn?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(R){R=R||window.event,yr(e,R)&&O(R)},e.addEventListener(Ro[r],m,!1)):e.addEventListener(r,O,!1):"attachEvent"in e&&e.attachEvent("on"+r,m),e[ye]=e[ye]||{},e[ye][l]=m}function Do(e,r,a,f){var l=r+d(a)+(f?"_"+d(f):""),m=e[ye]&&e[ye][l];if(!m)return this;Se&&r.indexOf("touch")===0?Wl(e,r,l):Ae&&r==="dblclick"&&!eu()?Xl(e,l):"removeEventListener"in e?e.removeEventListener(Ro[r]||r,m,!1):"detachEvent"in e&&e.detachEvent("on"+r,m),e[ye][l]=null}function mn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,qo(e),this}function zo(e){return gr(e,"wheel",mn),this}function Si(e){return Et(e,"mousedown touchstart dblclick",mn),gr(e,"click",Zo),this}function ve(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function He(e){return ve(e),mn(e),this}function nu(e,r){if(!r)return new I(e.clientX,e.clientY);var a=ko(r),f=a.boundingClientRect;return new I((e.clientX-f.left)/a.x-r.clientLeft,(e.clientY-f.top)/a.y-r.clientTop)}var nh=Ue&&Ct?2*window.devicePixelRatio:Rt?window.devicePixelRatio:1;function iu(e){return Y?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/nh:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}var No={};function Zo(e){No[e.type]=!0}function qo(e){var r=No[e.type];return No[e.type]=!1,r}function yr(e,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var ih={on:Et,off:$t,stopPropagation:mn,disableScrollPropagation:zo,disableClickPropagation:Si,preventDefault:ve,stop:He,getMousePosition:nu,getWheelDelta:iu,fakeStop:Zo,skipped:qo,isExternalTarget:yr,addListener:Et,removeListener:$t},ru=k.extend({run:function(e,r,a,f){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=sn(e),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=rt(this._animate,this),this._step()},_step:function(e){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,r){var a=this._startPos.add(this._offset.multiplyBy(e));r&&a._round(),Ht(this._el,a),this.fire("step")},_complete:function(){ft(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),At=k.extend({options:{crs:S,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,r){r=E(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(st(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Pi&&Zt&&!Ga&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,Qa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),e=this._limitCenter(st(e),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=s({animate:a.animate},a.zoom),a.pan=s({animate:a.animate,duration:a.duration},a.pan));var f=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,r,a.zoom):this._tryAnimatedPan(e,a.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(e,r),this},setZoom:function(e,r){return this._loaded?this.setView(this.getCenter(),e,{zoom:r}):(this._zoom=e,this)},zoomIn:function(e,r){return e=e||(Zt?this.options.zoomDelta:1),this.setZoom(this._zoom+e,r)},zoomOut:function(e,r){return e=e||(Zt?this.options.zoomDelta:1),this.setZoom(this._zoom-e,r)},setZoomAround:function(e,r,a){var f=this.getZoomScale(r),l=this.getSize().divideBy(2),m=e instanceof I?e:this.latLngToContainerPoint(e),O=m.subtract(l).multiplyBy(1-1/f),R=this.containerPointToLatLng(l.add(O));return this.setView(R,r,{zoom:a})},_getBoundsCenterZoom:function(e,r){r=r||{},e=e.getBounds?e.getBounds():tt(e);var a=$(r.paddingTopLeft||r.padding||[0,0]),f=$(r.paddingBottomRight||r.padding||[0,0]),l=this.getBoundsZoom(e,!1,a.add(f));if(l=typeof r.maxZoom=="number"?Math.min(r.maxZoom,l):l,l===1/0)return{center:e.getCenter(),zoom:l};var m=f.subtract(a).divideBy(2),O=this.project(e.getSouthWest(),l),R=this.project(e.getNorthEast(),l),N=this.unproject(O.add(R).divideBy(2).add(m),l);return{center:N,zoom:l}},fitBounds:function(e,r){if(e=tt(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,r){return this.setView(e,this._zoom,{pan:r})},panBy:function(e,r){if(e=$(e).round(),r=r||{},!e.x&&!e.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ru,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,r,a){if(a=a||{},a.animate===!1||!Zt)return this.setView(e,r,a);this._stop();var f=this.project(this.getCenter()),l=this.project(e),m=this.getSize(),O=this._zoom;e=st(e),r=r===void 0?O:r;var R=Math.max(m.x,m.y),N=R*this.getZoomScale(O,r),W=l.distanceTo(f)||1,at=1.42,vt=at*at;function It(Wt){var Ar=Wt?-1:1,Uh=Wt?N:R,$h=N*N-R*R+Ar*vt*vt*W*W,Hh=2*Uh*vt*W,Xo=$h/Hh,zu=Math.sqrt(Xo*Xo+1)-Xo,Wh=zu<1e-9?-18:Math.log(zu);return Wh}function Ve(Wt){return(Math.exp(Wt)-Math.exp(-Wt))/2}function wn(Wt){return(Math.exp(Wt)+Math.exp(-Wt))/2}function Sr(Wt){return Ve(Wt)/wn(Wt)}var un=It(0);function Qo(Wt){return R*(wn(un)/wn(un+at*Wt))}function Zh(Wt){return R*(wn(un)*Sr(un+at*Wt)-Ve(un))/vt}function qh(Wt){return 1-Math.pow(1-Wt,1.5)}var Fh=Date.now(),Ru=(It(1)-un)/at,jh=a.duration?1e3*a.duration:1e3*Ru*.8;function Du(){var Wt=(Date.now()-Fh)/jh,Ar=qh(Wt)*Ru;Wt<=1?(this._flyToFrame=rt(Du,this),this._move(this.unproject(f.add(l.subtract(f).multiplyBy(Zh(Ar)/W)),O),this.getScaleZoom(R/Qo(Ar),O),{flyTo:!0})):this._move(e,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Du.call(this),this},flyToBounds:function(e,r){var a=this._getBoundsCenterZoom(e,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(e){if(e=tt(e),e.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(e){var r=this.options.minZoom;return this.options.minZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var r=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,r){this._enforcingBounds=!0;var a=this.getCenter(),f=this._limitCenter(a,this._zoom,tt(e));return a.equals(f)||this.panTo(f,r),this._enforcingBounds=!1,this},panInside:function(e,r){r=r||{};var a=$(r.paddingTopLeft||r.padding||[0,0]),f=$(r.paddingBottomRight||r.padding||[0,0]),l=this.getCenter(),m=this.project(l),O=this.project(e),R=this.getPixelBounds(),N=R.getSize().divideBy(2),W=D([R.min.add(a),R.max.subtract(f)]);if(!W.contains(O)){this._enforcingBounds=!0;var at=m.subtract(O),vt=$(O.x+at.x,O.y+at.y);(O.x<W.min.x||O.x>W.max.x)&&(vt.x=m.x-at.x,at.x>0?vt.x+=N.x-a.x:vt.x-=N.x-f.x),(O.y<W.min.y||O.y>W.max.y)&&(vt.y=m.y-at.y,at.y>0?vt.y+=N.y-a.y:vt.y-=N.y-f.y),this.panTo(this.unproject(vt),r),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=s({animate:!1,pan:!0},e===!0?{animate:!0}:e);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),f=r.divideBy(2).round(),l=a.divideBy(2).round(),m=f.subtract(l);return!m.x&&!m.y?this:(e.animate&&e.pan?this.panBy(m):(e.pan&&this._rawPanBy(m),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=s({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),a=c(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,e):navigator.geolocation.getCurrentPosition(r,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var r=e.code,a=e.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(e){var r=e.coords.latitude,a=e.coords.longitude,f=new V(r,a),l=f.toBounds(e.coords.accuracy*2),m=this._locateOptions;if(m.setView){var O=this.getBoundsZoom(l);this.setView(f,m.maxZoom?Math.min(O,m.maxZoom):O)}var R={latlng:f,bounds:l,timestamp:e.timestamp};for(var N in e.coords)typeof e.coords[N]=="number"&&(R[N]=e.coords[N]);this.fire("locationfound",R)},addHandler:function(e,r){if(!r)return this;var a=this[e]=new r(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ft(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)jt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,r){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),f=Mt("div",a,r||this._mapPane);return e&&(this._panes[e]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),r=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new U(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,r,a){e=tt(e),a=$(a||[0,0]);var f=this.getZoom()||0,l=this.getMinZoom(),m=this.getMaxZoom(),O=e.getNorthWest(),R=e.getSouthEast(),N=this.getSize().subtract(a),W=D(this.project(R,f),this.project(O,f)).getSize(),at=Zt?this.options.zoomSnap:1,vt=N.x/W.x,It=N.y/W.y,Ve=r?Math.max(vt,It):Math.min(vt,It);return f=this.getScaleZoom(Ve,f),at&&(f=Math.round(f/(at/100))*(at/100),f=r?Math.ceil(f/at)*at:Math.floor(f/at)*at),Math.max(l,Math.min(m,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,r){var a=this._getTopLeftPoint(e,r);return new q(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(e)/a.scale(r)},getScaleZoom:function(e,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var f=a.zoom(e*a.scale(r));return isNaN(f)?1/0:f},project:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(st(e),r)},unproject:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng($(e),r)},layerPointToLatLng:function(e){var r=$(e).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(e){var r=this.project(st(e))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(st(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(tt(e))},distance:function(e,r){return this.options.crs.distance(st(e),st(r))},containerPointToLayerPoint:function(e){return $(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return $(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var r=this.containerPointToLayerPoint($(e));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(st(e)))},mouseEventToContainerPoint:function(e){return nu(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var r=this._container=Xa(e);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Et(r,"scroll",this._onScroll,this),this._containerId=d(r)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Zt,wt(e,"leaflet-container"+(Ae?" leaflet-touch":"")+(on?" leaflet-retina":"")+(et?" leaflet-oldie":"")+(Ot?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Li(e,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ht(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(e.markerPane,"leaflet-zoom-hide"),wt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,r){Ht(this._mapPane,new I(0,0));var a=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var f=this._zoom!==r;this._moveStart(f,!1)._move(e,r)._moveEnd(f),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(e,r){return e&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(e,r,a){r===void 0&&(r=this._zoom);var f=this._zoom!==r;return this._zoom=r,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(f||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ft(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ht(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[d(this._container)]=this;var r=e?$t:Et;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),Zt&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ft(this._resizeRequest),this._resizeRequest=rt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,r){for(var a=[],f,l=r==="mouseout"||r==="mouseover",m=e.target||e.srcElement,O=!1;m;){if(f=this._targets[d(m)],f&&(r==="click"||r==="preclick")&&!e._simulated&&this._draggableMoved(f)){O=!0;break}if(f&&f.listens(r,!0)&&(l&&!yr(m,e)||(a.push(f),l))||m===this._container)break;m=m.parentNode}return!a.length&&!O&&!l&&yr(m,e)&&(a=[this]),a},_handleDOMEvent:function(e){if(!(!this._loaded||qo(e))){var r=e.type;(r==="mousedown"||r==="keypress"||r==="keyup"||r==="keydown")&&Bo(e.target||e.srcElement),this._fireDOMEvent(e,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,r,a){if(e.type==="click"){var f=s({},e);f.type="preclick",this._fireDOMEvent(f,f.type,a)}if(!e._stopped&&(a=(a||[]).concat(this._findEventTargets(e,r)),!!a.length)){var l=a[0];r==="contextmenu"&&l.listens(r,!0)&&ve(e);var m={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var O=l.getLatLng&&(!l._radius||l._radius<=10);m.containerPoint=O?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),m.layerPoint=this.containerPointToLayerPoint(m.containerPoint),m.latlng=O?l.getLatLng():this.layerPointToLatLng(m.layerPoint)}for(var R=0;R<a.length;R++)if(a[R].fire(r,m,!0),m.originalEvent._stopped||a[R].options.bubblingMouseEvents===!1&&v(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,r=this._handlers.length;e<r;e++)this._handlers[e].disable()},whenReady:function(e,r){return this._loaded?e.call(r||this,{target:this}):this.on("load",e,r),this},_getMapPanePos:function(){return sn(this._mapPane)||new I(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,r){var a=e&&r!==void 0?this._getNewPixelOrigin(e,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,r){var a=this.getSize()._divideBy(2);return this.project(e,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,r,a){var f=this._getNewPixelOrigin(a,r);return this.project(e,r)._subtract(f)},_latLngBoundsToNewLayerBounds:function(e,r,a){var f=this._getNewPixelOrigin(a,r);return D([this.project(e.getSouthWest(),r)._subtract(f),this.project(e.getNorthWest(),r)._subtract(f),this.project(e.getSouthEast(),r)._subtract(f),this.project(e.getNorthEast(),r)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,r,a){if(!a)return e;var f=this.project(e,r),l=this.getSize().divideBy(2),m=new q(f.subtract(l),f.add(l)),O=this._getBoundsOffset(m,a,r);return O.round().equals([0,0])?e:this.unproject(f.add(O),r)},_limitOffset:function(e,r){if(!r)return e;var a=this.getPixelBounds(),f=new q(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(f,r))},_getBoundsOffset:function(e,r,a){var f=D(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),l=f.min.subtract(e.min),m=f.max.subtract(e.max),O=this._rebound(l.x,-m.x),R=this._rebound(l.y,-m.y);return new I(O,R)},_rebound:function(e,r){return e+r>0?Math.round(e-r)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(r))},_limitZoom:function(e){var r=this.getMinZoom(),a=this.getMaxZoom(),f=Zt?this.options.zoomSnap:1;return f&&(e=Math.round(e/f)*f),Math.max(r,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,r){var a=this._getCenterOffset(e)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var e=this._proxy=Mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(r){var a=Co,f=this._proxy.style[a];vn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),f===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),r=this.getZoom();vn(this._proxy,this.project(e,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(r),l=this._getCenterOffset(e)._divideBy(1-1/f);return a.animate!==!0&&!this.getSize().contains(l)?!1:(rt(function(){this._moveStart(!0,!1)._animateZoom(e,r,!0)},this),!0)},_animateZoom:function(e,r,a,f){!this._mapPane||(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=r,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:r,noUpdate:f}),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),rt(function(){this._moveEnd(!0)},this))}});function rh(e,r){return new At(e,r)}var we=lt.extend({options:{position:"topright"},initialize:function(e){E(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var r=this._map;return r&&r.removeControl(this),this.options.position=e,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var r=this._container=this.onAdd(e),a=this.getPosition(),f=e._controlCorners[a];return wt(r,"leaflet-control"),a.indexOf("bottom")!==-1?f.insertBefore(r,f.firstChild):f.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Ai=function(e){return new we(e)};At.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},r="leaflet-",a=this._controlContainer=Mt("div",r+"control-container",this._container);function f(l,m){var O=r+l+" "+r+m;e[l+m]=Mt("div",O,a)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)jt(this._controlCorners[e]);jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ou=we.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,r,a,f){return a<f?-1:f<a?1:0}},initialize:function(e,r,a){E(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var f in e)this._addLayer(e[f],f);for(f in r)this._addLayer(r[f],f,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return we.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,r){return this._addLayer(e,r),this._map?this._update():this},addOverlay:function(e,r){return this._addLayer(e,r,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var r=this._getLayer(d(e));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",r=this._container=Mt("div",e),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Si(r),zo(r);var f=this._section=Mt("section",e+"-list");a&&(this._map.on("click",this.collapse,this),K||Et(r,{mouseenter:this.expand,mouseleave:this.collapse},this));var l=this._layersLink=Mt("a",e+"-toggle",r);l.href="#",l.title="Layers",Ae?(Et(l,"click",He),Et(l,"click",this.expand,this)):Et(l,"focus",this.expand,this),a||this.expand(),this._baseLayersList=Mt("div",e+"-base",f),this._separator=Mt("div",e+"-separator",f),this._overlaysList=Mt("div",e+"-overlays",f),r.appendChild(f)},_getLayer:function(e){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&d(this._layers[r].layer)===e)return this._layers[r]},_addLayer:function(e,r,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(c(function(f,l){return this.options.sortFunction(f.layer,l.layer,f.name,l.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;dr(this._baseLayersList),dr(this._overlaysList),this._layerControlInputs=[];var e,r,a,f,l=0;for(a=0;a<this._layers.length;a++)f=this._layers[a],this._addItem(f),r=r||f.overlay,e=e||!f.overlay,l+=f.overlay?0:1;return this.options.hideSingleBase&&(e=e&&l>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=r&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var r=this._getLayer(d(e.target)),a=r.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(e,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(r?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=a,f.firstChild},_addItem:function(e){var r=document.createElement("label"),a=this._map.hasLayer(e.layer),f;e.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=a):f=this._createRadioElement("leaflet-base-layers_"+d(this),a),this._layerControlInputs.push(f),f.layerId=d(e.layer),Et(f,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+e.name;var m=document.createElement("div");r.appendChild(m),m.appendChild(f),m.appendChild(l);var O=e.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){var e=this._layerControlInputs,r,a,f=[],l=[];this._handlingClick=!0;for(var m=e.length-1;m>=0;m--)r=e[m],a=this._getLayer(r.layerId).layer,r.checked?f.push(a):r.checked||l.push(a);for(m=0;m<l.length;m++)this._map.hasLayer(l[m])&&this._map.removeLayer(l[m]);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])||this._map.addLayer(f[m]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,r,a,f=this._map.getZoom(),l=e.length-1;l>=0;l--)r=e[l],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&f<a.options.minZoom||a.options.maxZoom!==void 0&&f>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),oh=function(e,r,a){return new ou(e,r,a)},Fo=we.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var r="leaflet-control-zoom",a=Mt("div",r+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,r,a,f,l){var m=Mt("a",a,f);return m.innerHTML=e,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),Si(m),Et(m,"click",He),Et(m,"click",l,this),Et(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var e=this._map,r="leaflet-disabled";Ut(this._zoomInButton,r),Ut(this._zoomOutButton,r),(this._disabled||e._zoom===e.getMinZoom())&&wt(this._zoomOutButton,r),(this._disabled||e._zoom===e.getMaxZoom())&&wt(this._zoomInButton,r)}});At.mergeOptions({zoomControl:!0}),At.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fo,this.addControl(this.zoomControl))});var sh=function(e){return new Fo(e)},su=we.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var r="leaflet-control-scale",a=Mt("div",r),f=this.options;return this._addScales(f,r+"-line",a),e.on(f.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,r,a){e.metric&&(this._mScale=Mt("div",r,a)),e.imperial&&(this._iScale=Mt("div",r,a))},_update:function(){var e=this._map,r=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,r]),e.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var r=this._getRoundNum(e),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/e)},_updateImperial:function(e){var r=e*3.2808399,a,f,l;r>5280?(a=r/5280,f=this._getRoundNum(a),this._updateScale(this._iScale,f+" mi",f/a)):(l=this._getRoundNum(r),this._updateScale(this._iScale,l+" ft",l/r))},_updateScale:function(e,r,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=r},_getRoundNum:function(e){var r=Math.pow(10,(Math.floor(e)+"").length-1),a=e/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),ah=function(e){return new su(e)},jo=we.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){E(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Mt("div","leaflet-control-attribution"),Si(this._container);for(var r in e._layers)e._layers[r].getAttribution&&this.addAttribution(e._layers[r].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(!!this._map){var e=[];for(var r in this._attributions)this._attributions[r]&&e.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(" | ")}}});At.mergeOptions({attributionControl:!0}),At.addInitHook(function(){this.options.attributionControl&&new jo().addTo(this)});var uh=function(e){return new jo(e)};we.Layers=ou,we.Zoom=Fo,we.Scale=su,we.Attribution=jo,Ai.layers=oh,Ai.zoom=sh,Ai.scale=ah,Ai.attribution=uh;var Me=lt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Me.addTo=function(e,r){return e.addHandler(r,this),this};var fh={Events:ut},au=Ae?"touchstart mousedown":"mousedown",uu={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Uo={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},gn=k.extend({options:{clickTolerance:3},initialize:function(e,r,a,f){E(this,f),this._element=e,this._dragStartTarget=r||e,this._preventOutline=a},enable:function(){this._enabled||(Et(this._dragStartTarget,au,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(gn._dragging===this&&this.finishDrag(),$t(this._dragStartTarget,au,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!(e._simulated||!this._enabled)&&(this._moved=!1,!Eo(this._element,"leaflet-zoom-anim")&&!(gn._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(gn._dragging=this,this._preventOutline&&Bo(this._element),Oo(),Ti(),!this._moving))){this.fire("down");var r=e.touches?e.touches[0]:e,a=tu(this._element);this._startPoint=new I(r.clientX,r.clientY),this._parentScale=ko(a),Et(document,Uo[e.type],this._onMove,this),Et(document,uu[e.type],this._onUp,this)}},_onMove:function(e){if(!(e._simulated||!this._enabled)){if(e.touches&&e.touches.length>1){this._moved=!0;return}var r=e.touches&&e.touches.length===1?e.touches[0]:e,a=new I(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,ve(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=sn(this._element).subtract(a),wt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,ft(this._animRequest),this._lastEvent=e,this._animRequest=rt(this._updatePosition,this,!0))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ht(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){e._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){Ut(document.body,"leaflet-dragging"),this._lastTarget&&(Ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in Uo)$t(document,Uo[e],this._onMove,this),$t(document,uu[e],this._onUp,this);Mo(),Ci(),this._moved&&this._moving&&(ft(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,gn._dragging=!1}});function fu(e,r){if(!r||!e.length)return e.slice();var a=r*r;return e=hh(e,a),e=lh(e,a),e}function cu(e,r,a){return Math.sqrt(Oi(e,r,a,!0))}function ch(e,r,a){return Oi(e,r,a)}function lh(e,r){var a=e.length,f=typeof Uint8Array!=void 0+""?Uint8Array:Array,l=new f(a);l[0]=l[a-1]=1,$o(e,l,r,0,a-1);var m,O=[];for(m=0;m<a;m++)l[m]&&O.push(e[m]);return O}function $o(e,r,a,f,l){var m=0,O,R,N;for(R=f+1;R<=l-1;R++)N=Oi(e[R],e[f],e[l],!0),N>m&&(O=R,m=N);m>a&&(r[O]=1,$o(e,r,a,f,O),$o(e,r,a,O,l))}function hh(e,r){for(var a=[e[0]],f=1,l=0,m=e.length;f<m;f++)dh(e[f],e[l])>r&&(a.push(e[f]),l=f);return l<m-1&&a.push(e[m-1]),a}var lu;function hu(e,r,a,f,l){var m=f?lu:yn(e,a),O=yn(r,a),R,N,W;for(lu=O;;){if(!(m|O))return[e,r];if(m&O)return!1;R=m||O,N=wr(e,r,R,a,l),W=yn(N,a),R===m?(e=N,m=W):(r=N,O=W)}}function wr(e,r,a,f,l){var m=r.x-e.x,O=r.y-e.y,R=f.min,N=f.max,W,at;return a&8?(W=e.x+m*(N.y-e.y)/O,at=N.y):a&4?(W=e.x+m*(R.y-e.y)/O,at=R.y):a&2?(W=N.x,at=e.y+O*(N.x-e.x)/m):a&1&&(W=R.x,at=e.y+O*(R.x-e.x)/m),new I(W,at,l)}function yn(e,r){var a=0;return e.x<r.min.x?a|=1:e.x>r.max.x&&(a|=2),e.y<r.min.y?a|=4:e.y>r.max.y&&(a|=8),a}function dh(e,r){var a=r.x-e.x,f=r.y-e.y;return a*a+f*f}function Oi(e,r,a,f){var l=r.x,m=r.y,O=a.x-l,R=a.y-m,N=O*O+R*R,W;return N>0&&(W=((e.x-l)*O+(e.y-m)*R)/N,W>1?(l=a.x,m=a.y):W>0&&(l+=O*W,m+=R*W)),O=e.x-l,R=e.y-m,f?O*O+R*R:new I(l,m)}function We(e){return!_(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]!="undefined"}function du(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),We(e)}var _h={simplify:fu,pointToSegmentDistance:cu,closestPointOnSegment:ch,clipSegment:hu,_getEdgeIntersection:wr,_getBitCode:yn,_sqClosestPointOnSegment:Oi,isFlat:We,_flat:du};function _u(e,r,a){var f,l=[1,4,2,8],m,O,R,N,W,at,vt,It;for(m=0,at=e.length;m<at;m++)e[m]._code=yn(e[m],r);for(R=0;R<4;R++){for(vt=l[R],f=[],m=0,at=e.length,O=at-1;m<at;O=m++)N=e[m],W=e[O],N._code&vt?W._code&vt||(It=wr(W,N,vt,r,a),It._code=yn(It,r),f.push(It)):(W._code&vt&&(It=wr(W,N,vt,r,a),It._code=yn(It,r),f.push(It)),f.push(N));e=f}return e}var ph={clipPolygon:_u},Ho={project:function(e){return new I(e.lng,e.lat)},unproject:function(e){return new V(e.y,e.x)},bounds:new q([-180,-90],[180,90])},Wo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var r=Math.PI/180,a=this.R,f=e.lat*r,l=this.R_MINOR/a,m=Math.sqrt(1-l*l),O=m*Math.sin(f),R=Math.tan(Math.PI/4-f/2)/Math.pow((1-O)/(1+O),m/2);return f=-a*Math.log(Math.max(R,1e-10)),new I(e.lng*r*a,f)},unproject:function(e){for(var r=180/Math.PI,a=this.R,f=this.R_MINOR/a,l=Math.sqrt(1-f*f),m=Math.exp(-e.y/a),O=Math.PI/2-2*Math.atan(m),R=0,N=.1,W;R<15&&Math.abs(N)>1e-7;R++)W=l*Math.sin(O),W=Math.pow((1-W)/(1+W),l/2),N=Math.PI/2-2*Math.atan(m*W)-O,O+=N;return new V(O*r,e.x*r/a)}},vh={LonLat:Ho,Mercator:Wo,SphericalMercator:mt},mh=s({},G,{code:"EPSG:3395",projection:Wo,transformation:function(){var e=.5/(Math.PI*Wo.R);return bt(e,.5,-e,.5)}()}),pu=s({},G,{code:"EPSG:4326",projection:Ho,transformation:bt(1/180,1,-1/180,.5)}),gh=s({},ot,{projection:Ho,transformation:bt(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,r){var a=r.lng-e.lng,f=r.lat-e.lat;return Math.sqrt(a*a+f*f)},infinite:!0});ot.Earth=G,ot.EPSG3395=mh,ot.EPSG3857=S,ot.EPSG900913=B,ot.EPSG4326=pu,ot.Simple=gh;var be=k.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[d(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[d(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var r=e.target;if(!!r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.getAttribution&&r.attributionControl&&r.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),r.fire("layeradd",{layer:this})}}});At.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var r=d(e);return this._layers[r]?this:(this._layers[r]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var r=d(e);return this._layers[r]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&d(e)in this._layers},eachLayer:function(e,r){for(var a in this._layers)e.call(r,this._layers[a]);return this},_addLayers:function(e){e=e?_(e)?e:[e]:[];for(var r=0,a=e.length;r<a;r++)this.addLayer(e[r])},_addZoomLimit:function(e){(isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[d(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var r=d(e);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,r=-1/0,a=this._getZoomSpan();for(var f in this._zoomBoundLayers){var l=this._zoomBoundLayers[f].options;e=l.minZoom===void 0?e:Math.min(e,l.minZoom),r=l.maxZoom===void 0?r:Math.max(r,l.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wn=be.extend({initialize:function(e,r){E(this,r),this._layers={};var a,f;if(e)for(a=0,f=e.length;a<f;a++)this.addLayer(e[a])},addLayer:function(e){var r=this.getLayerId(e);return this._layers[r]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var r=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(e){if(!e)return!1;var r=typeof e=="number"?e:this.getLayerId(e);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var r=Array.prototype.slice.call(arguments,1),a,f;for(a in this._layers)f=this._layers[a],f[e]&&f[e].apply(f,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,r){for(var a in this._layers)e.call(r,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return d(e)}}),yh=function(e,r){return new Wn(e,r)},Kn=Wn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Wn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Wn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new U;for(var r in this._layers){var a=this._layers[r];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),wh=function(e,r){return new Kn(e,r)},Gn=lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){E(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,r){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(f,e),f},_setIconStyles:function(e,r){var a=this.options,f=a[r+"Size"];typeof f=="number"&&(f=[f,f]);var l=$(f),m=$(r==="shadow"&&a.shadowAnchor||a.iconAnchor||l&&l.divideBy(2,!0));e.className="leaflet-marker-"+r+" "+(a.className||""),m&&(e.style.marginLeft=-m.x+"px",e.style.marginTop=-m.y+"px"),l&&(e.style.width=l.x+"px",e.style.height=l.y+"px")},_createImg:function(e,r){return r=r||document.createElement("img"),r.src=e,r},_getIconUrl:function(e){return on&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function bh(e){return new Gn(e)}var Mi=Gn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Mi.imagePath||(Mi.imagePath=this._detectIconPath()),(this.options.imagePath||Mi.imagePath)+Gn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=Mt("div","leaflet-default-icon-path",document.body),r=Li(e,"background-image")||Li(e,"backgroundImage");return document.body.removeChild(e),r===null||r.indexOf("url")!==0?r="":r=r.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),r}}),vu=Me.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new gn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var r=this._marker,a=r._map,f=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,m=sn(r._icon),O=a.getPixelBounds(),R=a.getPixelOrigin(),N=D(O.min._subtract(R).add(l),O.max._subtract(R).subtract(l));if(!N.contains(m)){var W=$((Math.max(N.max.x,m.x)-N.max.x)/(O.max.x-N.max.x)-(Math.min(N.min.x,m.x)-N.min.x)/(O.min.x-N.min.x),(Math.max(N.max.y,m.y)-N.max.y)/(O.max.y-N.max.y)-(Math.min(N.min.y,m.y)-N.min.y)/(O.min.y-N.min.y)).multiplyBy(f);a.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),Ht(r._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=rt(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(ft(this._panRequest),this._panRequest=rt(this._adjustPan.bind(this,e)))},_onDrag:function(e){var r=this._marker,a=r._shadow,f=sn(r._icon),l=r._map.layerPointToLatLng(f);a&&Ht(a,f),r._latlng=l,e.latlng=l,e.oldLatLng=this._oldLatLng,r.fire("move",e).fire("drag",e)},_onDragEnd:function(e){ft(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),br=be.extend({options:{icon:new Mi,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,r){E(this,r),this._latlng=st(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var r=this._latlng;return this._latlng=st(e),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),f=!1;a!==this._icon&&(this._icon&&this._removeIcon(),f=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),wt(a,r),e.keyboard&&(a.tabIndex="0"),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var l=e.icon.createShadow(this._shadow),m=!1;l!==this._shadow&&(this._removeShadow(),m=!0),l&&(wt(l,r),l.alt=""),this._shadow=l,e.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&m&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&jt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ht(this._icon,e),this._shadow&&Ht(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(r)},_initInteraction:function(){if(!!this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vu)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vu(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&pe(this._icon,e),this._shadow&&pe(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xh(e,r){return new br(e,r)}var an=be.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return E(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),xr=an.extend({options:{fill:!0,radius:10},initialize:function(e,r){E(this,r),this._latlng=st(e),this._radius=this.options.radius},setLatLng:function(e){var r=this._latlng;return this._latlng=st(e),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var r=e&&e.radius||this._radius;return an.prototype.setStyle.call(this,e),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,r=this._radiusY||e,a=this._clickTolerance(),f=[e+a,r+a];this._pxBounds=new q(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ph(e,r){return new xr(e,r)}var Ko=xr.extend({initialize:function(e,r,a){if(typeof r=="number"&&(r=s({},a,{radius:r})),E(this,r),this._latlng=st(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new U(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:an.prototype.setStyle,_project:function(){var e=this._latlng.lng,r=this._latlng.lat,a=this._map,f=a.options.crs;if(f.distance===G.distance){var l=Math.PI/180,m=this._mRadius/G.R/l,O=a.project([r+m,e]),R=a.project([r-m,e]),N=O.add(R).divideBy(2),W=a.unproject(N).lat,at=Math.acos((Math.cos(m*l)-Math.sin(r*l)*Math.sin(W*l))/(Math.cos(r*l)*Math.cos(W*l)))/l;(isNaN(at)||at===0)&&(at=m/Math.cos(Math.PI/180*r)),this._point=N.subtract(a.getPixelOrigin()),this._radius=isNaN(at)?0:N.x-a.project([W,e-at]).x,this._radiusY=N.y-O.y}else{var vt=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(vt).x}this._updateBounds()}});function Lh(e,r,a){return new Ko(e,r,a)}var Ke=an.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,r){E(this,r),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var r=1/0,a=null,f=Oi,l,m,O=0,R=this._parts.length;O<R;O++)for(var N=this._parts[O],W=1,at=N.length;W<at;W++){l=N[W-1],m=N[W];var vt=f(e,l,m,!0);vt<r&&(r=vt,a=f(e,l,m))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,r,a,f,l,m,O,R=this._rings[0],N=R.length;if(!N)return null;for(e=0,r=0;e<N-1;e++)r+=R[e].distanceTo(R[e+1])/2;if(r===0)return this._map.layerPointToLatLng(R[0]);for(e=0,f=0;e<N-1;e++)if(l=R[e],m=R[e+1],a=l.distanceTo(m),f+=a,f>r)return O=(f-r)/a,this._map.layerPointToLatLng([m.x-O*(m.x-l.x),m.y-O*(m.y-l.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,r){return r=r||this._defaultShape(),e=st(e),r.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new U,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return We(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var r=[],a=We(e),f=0,l=e.length;f<l;f++)a?(r[f]=st(e[f]),this._bounds.extend(r[f])):r[f]=this._convertLatLngs(e[f]);return r},_project:function(){var e=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),r=new I(e,e);this._pxBounds=new q([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)])},_projectLatlngs:function(e,r,a){var f=e[0]instanceof V,l=e.length,m,O;if(f){for(O=[],m=0;m<l;m++)O[m]=this._map.latLngToLayerPoint(e[m]),a.extend(O[m]);r.push(O)}else for(m=0;m<l;m++)this._projectLatlngs(e[m],r,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,f,l,m,O,R,N;for(a=0,l=0,m=this._rings.length;a<m;a++)for(N=this._rings[a],f=0,O=N.length;f<O-1;f++)R=hu(N[f],N[f+1],e,f,!0),!!R&&(r[l]=r[l]||[],r[l].push(R[0]),(R[1]!==N[f+1]||f===O-2)&&(r[l].push(R[1]),l++))}},_simplifyPoints:function(){for(var e=this._parts,r=this.options.smoothFactor,a=0,f=e.length;a<f;a++)e[a]=fu(e[a],r)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,r){var a,f,l,m,O,R,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,m=this._parts.length;a<m;a++)for(R=this._parts[a],f=0,O=R.length,l=O-1;f<O;l=f++)if(!(!r&&f===0)&&cu(e,R[l],R[f])<=N)return!0;return!1}});function Th(e,r){return new Ke(e,r)}Ke._flat=du;var Jn=Ke.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,r,a,f,l,m,O,R,N,W=this._rings[0],at=W.length;if(!at)return null;for(m=O=R=0,e=0,r=at-1;e<at;r=e++)a=W[e],f=W[r],l=a.y*f.x-f.y*a.x,O+=(a.x+f.x)*l,R+=(a.y+f.y)*l,m+=l*3;return m===0?N=W[0]:N=[O/m,R/m],this._map.layerPointToLatLng(N)},_convertLatLngs:function(e){var r=Ke.prototype._convertLatLngs.call(this,e),a=r.length;return a>=2&&r[0]instanceof V&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(e){Ke.prototype._setLatLngs.call(this,e),We(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return We(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,r=this.options.weight,a=new I(r,r);if(e=new q(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,l=this._rings.length,m;f<l;f++)m=_u(this._rings[f],e,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var r=!1,a,f,l,m,O,R,N,W;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(m=0,N=this._parts.length;m<N;m++)for(a=this._parts[m],O=0,W=a.length,R=W-1;O<W;R=O++)f=a[O],l=a[R],f.y>e.y!=l.y>e.y&&e.x<(l.x-f.x)*(e.y-f.y)/(l.y-f.y)+f.x&&(r=!r);return r||Ke.prototype._containsPoint.call(this,e,!0)}});function Ch(e,r){return new Jn(e,r)}var Ge=Kn.extend({initialize:function(e,r){E(this,r),this._layers={},e&&this.addData(e)},addData:function(e){var r=_(e)?e:e.features,a,f,l;if(r){for(a=0,f=r.length;a<f;a++)l=r[a],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var m=this.options;if(m.filter&&!m.filter(e))return this;var O=Go(e,m);return O?(O.feature=Tr(e),O.defaultOptions=O.options,this.resetStyle(O),m.onEachFeature&&m.onEachFeature(e,O),this.addLayer(O)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=s({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(r){this._setLayerStyle(r,e)},this)},_setLayerStyle:function(e,r){e.setStyle&&(typeof r=="function"&&(r=r(e.feature)),e.setStyle(r))}});function Go(e,r){var a=e.type==="Feature"?e.geometry:e,f=a?a.coordinates:null,l=[],m=r&&r.pointToLayer,O=r&&r.coordsToLatLng||Jo,R,N,W,at;if(!f&&!a)return null;switch(a.type){case"Point":return R=O(f),mu(m,e,R,r);case"MultiPoint":for(W=0,at=f.length;W<at;W++)R=O(f[W]),l.push(mu(m,e,R,r));return new Kn(l);case"LineString":case"MultiLineString":return N=Pr(f,a.type==="LineString"?0:1,O),new Ke(N,r);case"Polygon":case"MultiPolygon":return N=Pr(f,a.type==="Polygon"?1:2,O),new Jn(N,r);case"GeometryCollection":for(W=0,at=a.geometries.length;W<at;W++){var vt=Go({geometry:a.geometries[W],type:"Feature",properties:e.properties},r);vt&&l.push(vt)}return new Kn(l);default:throw new Error("Invalid GeoJSON object.")}}function mu(e,r,a,f){return e?e(r,a):new br(a,f&&f.markersInheritOptions&&f)}function Jo(e){return new V(e[1],e[0],e[2])}function Pr(e,r,a){for(var f=[],l=0,m=e.length,O;l<m;l++)O=r?Pr(e[l],r-1,a):(a||Jo)(e[l]),f.push(O);return f}function Vo(e,r){return r=typeof r=="number"?r:6,e.alt!==void 0?[b(e.lng,r),b(e.lat,r),b(e.alt,r)]:[b(e.lng,r),b(e.lat,r)]}function Lr(e,r,a,f){for(var l=[],m=0,O=e.length;m<O;m++)l.push(r?Lr(e[m],r-1,a,f):Vo(e[m],f));return!r&&a&&l.push(l[0]),l}function Vn(e,r){return e.feature?s({},e.feature,{geometry:r}):Tr(r)}function Tr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Yo={toGeoJSON:function(e){return Vn(this,{type:"Point",coordinates:Vo(this.getLatLng(),e)})}};br.include(Yo),Ko.include(Yo),xr.include(Yo),Ke.include({toGeoJSON:function(e){var r=!We(this._latlngs),a=Lr(this._latlngs,r?1:0,!1,e);return Vn(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),Jn.include({toGeoJSON:function(e){var r=!We(this._latlngs),a=r&&!We(this._latlngs[0]),f=Lr(this._latlngs,a?2:r?1:0,!0,e);return r||(f=[f]),Vn(this,{type:(a?"Multi":"")+"Polygon",coordinates:f})}}),Wn.include({toMultiPoint:function(e){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(e).geometry.coordinates)}),Vn(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(e){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(e);var a=r==="GeometryCollection",f=[];return this.eachLayer(function(l){if(l.toGeoJSON){var m=l.toGeoJSON(e);if(a)f.push(m.geometry);else{var O=Tr(m);O.type==="FeatureCollection"?f.push.apply(f,O.features):f.push(O)}}}),a?Vn(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function gu(e,r){return new Ge(e,r)}var Eh=gu,Cr=be.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,r,a){this._url=e,this._bounds=tt(r),E(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&$n(this._image),this},bringToBack:function(){return this._map&&Hn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=tt(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",r=this._image=e?this._url:Mt("img");if(wt(r,"leaflet-image-layer"),this._zoomAnimated&&wt(r,"leaflet-zoom-animated"),this.options.className&&wt(r,this.options.className),r.onselectstart=p,r.onmousemove=p,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(e){var r=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;vn(this._image,a,r)},_reset:function(){var e=this._image,r=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();Ht(e,r.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){pe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Sh=function(e,r,a){return new Cr(e,r,a)},yu=Cr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var e=this._url.tagName==="VIDEO",r=this._image=e?this._url:Mt("video");if(wt(r,"leaflet-image-layer"),this._zoomAnimated&&wt(r,"leaflet-zoom-animated"),this.options.className&&wt(r,this.options.className),r.onselectstart=p,r.onmousemove=p,r.onloadeddata=c(this.fire,this,"load"),e){for(var a=r.getElementsByTagName("source"),f=[],l=0;l<a.length;l++)f.push(a[l].src);this._url=a.length>0?f:[r.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted;for(var m=0;m<this._url.length;m++){var O=Mt("source");O.src=this._url[m],r.appendChild(O)}}});function Ah(e,r,a){return new yu(e,r,a)}var wu=Cr.extend({_initImage:function(){var e=this._image=this._url;wt(e,"leaflet-image-layer"),this._zoomAnimated&&wt(e,"leaflet-zoom-animated"),this.options.className&&wt(e,this.options.className),e.onselectstart=p,e.onmousemove=p}});function Oh(e,r,a){return new wu(e,r,a)}var Je=be.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,r){E(this,e),this._source=r},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&pe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&pe(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(pe(this._container,0),this._removeTimeout=setTimeout(c(jt,void 0,this._container),200)):jt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=st(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$n(this._container),this},bringToBack:function(){return this._map&&Hn(this._container),this},_prepareOpen:function(e,r,a){if(r instanceof be||(a=r,r=e),r instanceof Kn)for(var f in e._layers){r=e._layers[f];break}if(!a)if(r.getCenter)a=r.getCenter();else if(r.getLatLng)a=r.getLatLng();else throw new Error("Unable to get source layer LatLng.");return this._source=r,this.update(),a},_updateContent:function(){if(!!this._content){var e=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")e.innerHTML=r;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var e=this._map.latLngToLayerPoint(this._latlng),r=$(this.options.offset),a=this._getAnchor();this._zoomAnimated?Ht(this._container,e.add(a)):r=r.add(e).add(a);var f=this._containerBottom=-r.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=f+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}}),Yn=Je.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Je.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof an||this._source.on("preclick",mn))},onRemove:function(e){Je.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof an||this._source.off("preclick",mn))},getEvents:function(){var e=Je.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",r=this._container=Mt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Mt("div",e+"-content-wrapper",r);if(this._contentNode=Mt("div",e+"-content",a),Si(r),zo(this._contentNode),Et(r,"contextmenu",mn),this._tipContainer=Mt("div",e+"-tip-container",r),this._tip=Mt("div",e+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Mt("a",e+"-close-button",r);f.href="#close",f.innerHTML="&#215;",Et(f,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,r=e.style;r.width="",r.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var f=e.offsetHeight,l=this.options.maxHeight,m="leaflet-popup-scrolled";l&&f>l?(r.height=l+"px",wt(e,m)):Ut(e,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();Ht(this._container,r.add(a))},_adjustPan:function(){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,r=parseInt(Li(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,f=this._containerWidth,l=new I(this._containerLeft,-a-this._containerBottom);l._add(sn(this._container));var m=e.layerPointToContainerPoint(l),O=$(this.options.autoPanPadding),R=$(this.options.autoPanPaddingTopLeft||O),N=$(this.options.autoPanPaddingBottomRight||O),W=e.getSize(),at=0,vt=0;m.x+f+N.x>W.x&&(at=m.x+f-W.x+N.x),m.x-at-R.x<0&&(at=m.x-R.x),m.y+a+N.y>W.y&&(vt=m.y+a-W.y+N.y),m.y-vt-R.y<0&&(vt=m.y-R.y),(at||vt)&&e.fire("autopanstart").panBy([at,vt])}},_onCloseButtonClick:function(e){this._close(),He(e)},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mh=function(e,r){return new Yn(e,r)};At.mergeOptions({closePopupOnClick:!0}),At.include({openPopup:function(e,r,a){return e instanceof Yn||(e=new Yn(a).setContent(e)),r&&e.setLatLng(r),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return(!e||e===this._popup)&&(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),be.include({bindPopup:function(e,r){return e instanceof Yn?(E(e,r),this._popup=e,e._source=this):((!this._popup||r)&&(this._popup=new Yn(r,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,r){return this._popup&&this._map&&(r=this._popup._prepareOpen(this,e,r),this._map.openPopup(this._popup,r)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var r=e.layer||e.target;if(!!this._popup&&!!this._map){if(He(e),r instanceof an){this.openPopup(e.layer||e.target,e.latlng);return}this._map.hasLayer(this._popup)&&this._popup._source===r?this.closePopup():this.openPopup(r,e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Qn=Je.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Je.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Je.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Je.prototype.getEvents.call(this);return Ae&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip",r=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Mt("div",r)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var r,a,f=this._map,l=this._container,m=f.latLngToContainerPoint(f.getCenter()),O=f.layerPointToContainerPoint(e),R=this.options.direction,N=l.offsetWidth,W=l.offsetHeight,at=$(this.options.offset),vt=this._getAnchor();R==="top"?(r=N/2,a=W):R==="bottom"?(r=N/2,a=0):R==="center"?(r=N/2,a=W/2):R==="right"?(r=0,a=W/2):R==="left"?(r=N,a=W/2):O.x<m.x?(R="right",r=0,a=W/2):(R="left",r=N+(at.x+vt.x)*2,a=W/2),e=e.subtract($(r,a,!0)).add(at).add(vt),Ut(l,"leaflet-tooltip-right"),Ut(l,"leaflet-tooltip-left"),Ut(l,"leaflet-tooltip-top"),Ut(l,"leaflet-tooltip-bottom"),wt(l,"leaflet-tooltip-"+R),Ht(l,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&pe(this._container,e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(r)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ih=function(e,r){return new Qn(e,r)};At.include({openTooltip:function(e,r,a){return e instanceof Qn||(e=new Qn(a).setContent(e)),r&&e.setLatLng(r),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),be.include({bindTooltip:function(e,r){return e instanceof Qn?(E(e,r),this._tooltip=e,e._source=this):((!this._tooltip||r)&&(this._tooltip=new Qn(r,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var r=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),Ae&&(a.click=this._openTooltip)),this[r](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e,r){return this._tooltip&&this._map&&(r=this._tooltip._prepareOpen(this,e,r),this._map.openTooltip(this._tooltip,r),this._tooltip.options.interactive&&this._tooltip._container&&(wt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Ut(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var r=e.layer||e.target;!this._tooltip||!this._map||this.openTooltip(r,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var r=e.latlng,a,f;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),f=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(r)}});var bu=Gn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var r=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(dr(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var f=$(a.bgPos);r.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Bh(e){return new bu(e)}Gn.Default=Mi;var Ii=be.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){E(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),jt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Hn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof I?e:new I(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var r=this.getPane().children,a=-e(-1/0,1/0),f=0,l=r.length,m;f<l;f++)m=r[f].style.zIndex,r[f]!==this._container&&m&&(a=e(a,+m));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!et){pe(this._container,this.options.opacity);var e=+new Date,r=!1,a=!1;for(var f in this._tiles){var l=this._tiles[f];if(!(!l.current||!l.loaded)){var m=Math.min(1,(e-l.loaded)/200);pe(l.el,m),m<1?r=!0:(l.active?a=!0:this._onOpaqueTile(l),l.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(ft(this._fadeFrame),this._fadeFrame=rt(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,r=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=r-Math.abs(e-a),this._onUpdateLevel(a)):(jt(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var f=this._levels[e],l=this._map;return f||(f=this._levels[e]={},f.el=Mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=r,f.origin=l.project(l.unproject(l.getPixelOrigin()),e).round(),f.zoom=e,this._setZoomTransform(f,l.getCenter(),l.getZoom()),p(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(!!this._map){var e,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)r=this._tiles[e],r.retain=r.current;for(e in this._tiles)if(r=this._tiles[e],r.current&&!r.active){var f=r.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var r in this._tiles)this._tiles[r].coords.z===e&&this._removeTile(r)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)jt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,r,a,f){var l=Math.floor(e/2),m=Math.floor(r/2),O=a-1,R=new I(+l,+m);R.z=+O;var N=this._tileCoordsToKey(R),W=this._tiles[N];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),O>f?this._retainParent(l,m,O,f):!1)},_retainChildren:function(e,r,a,f){for(var l=2*e;l<2*e+2;l++)for(var m=2*r;m<2*r+2;m++){var O=new I(l,m);O.z=a+1;var R=this._tileCoordsToKey(O),N=this._tiles[R];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);a+1<f&&this._retainChildren(l,m,a+1,f)}},_resetView:function(e){var r=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var r=this.options;return r.minNativeZoom!==void 0&&e<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<e?r.maxNativeZoom:e},_setView:function(e,r,a,f){var l=Math.round(r);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var m=this.options.updateWhenZooming&&l!==this._tileZoom;(!f||m)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,r)},_setZoomTransforms:function(e,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,r)},_setZoomTransform:function(e,r,a){var f=this._map.getZoomScale(a,e.zoom),l=e.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(r,a)).round();Zt?vn(e.el,l,f):Ht(e.el,l)},_resetGrid:function(){var e=this._map,r=e.options.crs,a=this._tileSize=this.getTileSize(),f=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,r.wrapLng[0]],f).x/a.x),Math.ceil(e.project([0,r.wrapLng[1]],f).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([r.wrapLat[0],0],f).y/a.x),Math.ceil(e.project([r.wrapLat[1],0],f).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),f=r.getZoomScale(a,this._tileZoom),l=r.project(e,this._tileZoom).floor(),m=r.getSize().divideBy(f*2);return new q(l.subtract(m),l.add(m))},_update:function(e){var r=this._map;if(!!r){var a=this._clampZoom(r.getZoom());if(e===void 0&&(e=r.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(e),l=this._pxBoundsToTileRange(f),m=l.getCenter(),O=[],R=this.options.keepBuffer,N=new q(l.getBottomLeft().subtract([R,-R]),l.getTopRight().add([R,-R]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var at=this._tiles[W].coords;(at.z!==this._tileZoom||!N.contains(new I(at.x,at.y)))&&(this._tiles[W].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var vt=l.min.y;vt<=l.max.y;vt++)for(var It=l.min.x;It<=l.max.x;It++){var Ve=new I(It,vt);if(Ve.z=this._tileZoom,!!this._isValidTile(Ve)){var wn=this._tiles[this._tileCoordsToKey(Ve)];wn?wn.current=!0:O.push(Ve)}}if(O.sort(function(un,Qo){return un.distanceTo(m)-Qo.distanceTo(m)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Sr=document.createDocumentFragment();for(It=0;It<O.length;It++)this._addTile(O[It],Sr);this._level.el.appendChild(Sr)}}}},_isValidTile:function(e){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!r.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(e);return tt(this.options.bounds).overlaps(f)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var r=this._map,a=this.getTileSize(),f=e.scaleBy(a),l=f.add(a),m=r.unproject(f,e.z),O=r.unproject(l,e.z);return[m,O]},_tileCoordsToBounds:function(e){var r=this._tileCoordsToNwSe(e),a=new U(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var r=e.split(":"),a=new I(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(e){var r=this._tiles[e];!r||(jt(r.el),delete this._tiles[e],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){wt(e,"leaflet-tile");var r=this.getTileSize();e.style.width=r.x+"px",e.style.height=r.y+"px",e.onselectstart=p,e.onmousemove=p,et&&this.options.opacity<1&&pe(e,this.options.opacity),K&&!dt&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,r){var a=this._getTilePos(e),f=this._tileCoordsToKey(e),l=this.createTile(this._wrapCoords(e),c(this._tileReady,this,e));this._initTile(l),this.createTile.length<2&&rt(c(this._tileReady,this,e,null,l)),Ht(l,a),this._tiles[f]={el:l,coords:e,current:!0},r.appendChild(l),this.fire("tileloadstart",{tile:l,coords:e})},_tileReady:function(e,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:e});var f=this._tileCoordsToKey(e);a=this._tiles[f],!!a&&(a.loaded=+new Date,this._map._fadeAnimated?(pe(a.el,0),ft(this._fadeFrame),this._fadeFrame=rt(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(wt(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et||!this._map._fadeAnimated?rt(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var r=new I(this._wrapX?T(e.x,this._wrapX):e.x,this._wrapY?T(e.y,this._wrapY):e.y);return r.z=e.z,r},_pxBoundsToTileRange:function(e){var r=this.getTileSize();return new q(e.min.unscaleBy(r).floor(),e.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function kh(e){return new Ii(e)}var Xn=Ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,r){this._url=e,r=E(this,r),r.detectRetina&&on&&r.maxZoom>0&&(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom++):(r.zoomOffset++,r.maxZoom--),r.minZoom=Math.max(0,r.minZoom)),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),K||this.on("tileunload",this._onTileRemove)},setUrl:function(e,r){return this._url===e&&r===void 0&&(r=!0),this._url=e,r||this.redraw(),this},createTile:function(e,r){var a=document.createElement("img");return Et(a,"load",c(this._tileOnLoad,this,r,a)),Et(a,"error",c(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),a.alt="",a.setAttribute("role","presentation"),a.src=this.getTileUrl(e),a},getTileUrl:function(e){var r={r:on?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(r.y=a),r["-y"]=a}return x(this._url,s(r,this.options))},_tileOnLoad:function(e,r){et?setTimeout(c(e,this,null,r),0):e(null,r)},_tileOnError:function(e,r,a){var f=this.options.errorTileUrl;f&&r.getAttribute("src")!==f&&(r.src=f),e(a,r)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,f=this.options.zoomOffset;return a&&(e=r-e),e+f},_getSubdomain:function(e){var r=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var e,r;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&(r=this._tiles[e].el,r.onload=p,r.onerror=p,r.complete||(r.src=w,jt(r),delete this._tiles[e]))},_removeTile:function(e){var r=this._tiles[e];if(!!r)return pt||r.el.setAttribute("src",w),Ii.prototype._removeTile.call(this,e)},_tileReady:function(e,r,a){if(!(!this._map||a&&a.getAttribute("src")===w))return Ii.prototype._tileReady.call(this,e,r,a)}});function xu(e,r){return new Xn(e,r)}var Pu=Xn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,r){this._url=e;var a=s({},this.defaultWmsParams);for(var f in r)f in this.options||(a[f]=r[f]);r=E(this,r);var l=r.detectRetina&&on?2:1,m=this.getTileSize();a.width=m.x*l,a.height=m.y*l,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Xn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var r=this._tileCoordsToNwSe(e),a=this._crs,f=D(a.project(r[0]),a.project(r[1])),l=f.min,m=f.max,O=(this._wmsVersion>=1.3&&this._crs===pu?[l.y,l.x,m.y,m.x]:[l.x,l.y,m.x,m.y]).join(","),R=Xn.prototype.getTileUrl.call(this,e);return R+M(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(e,r){return s(this.wmsParams,e),r||this.redraw(),this}});function Rh(e,r){return new Pu(e,r)}Xn.WMS=Pu,xu.wms=Rh;var Ie=be.extend({options:{padding:.1,tolerance:0},initialize:function(e){E(this,e),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,r){var a=this._map.getZoomScale(r,this._zoom),f=sn(this._container),l=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,r),O=this._map.project(e,r),R=O.subtract(m),N=l.multiplyBy(-a).add(f).add(l).subtract(R);Zt?vn(this._container,N,a):Ht(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-e)).round();this._bounds=new q(a,a.add(r.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lu=Ie.extend({getEvents:function(){var e=Ie.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ie.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Et(e,"mousemove",this._onMouseMove,this),Et(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){ft(this._redrawRequest),delete this._ctx,jt(this._container),$t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var r in this._layers)e=this._layers[r],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ie.prototype._update.call(this);var e=this._bounds,r=this._container,a=e.getSize(),f=on?2:1;Ht(r,e.min),r.width=f*a.x,r.height=f*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",on&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ie.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[d(e)]=e;var r=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var r=e._order,a=r.next,f=r.prev;a?a.prev=f:this._drawLast=f,f?f.next=a:this._drawFirst=a,delete e._order,delete this._layers[d(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var r=e.options.dashArray.split(/[, ]+/),a=[],f,l;for(l=0;l<r.length;l++){if(f=Number(r[l]),isNaN(f))return;a.push(f)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){!this._map||(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||rt(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var r=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(e._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(e._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var r=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)e=f.layer,(!r||e._pxBounds&&e._pxBounds.intersects(r))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,r){if(!!this._drawing){var a,f,l,m,O=e._parts,R=O.length,N=this._ctx;if(!!R){for(N.beginPath(),a=0;a<R;a++){for(f=0,l=O[a].length;f<l;f++)m=O[a][f],N[f?"lineTo":"moveTo"](m.x,m.y);r&&N.closePath()}this._fillStroke(N,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var r=e._point,a=this._ctx,f=Math.max(Math.round(e._radius),1),l=(Math.max(Math.round(e._radiusY),1)||f)/f;l!==1&&(a.save(),a.scale(1,l)),a.beginPath(),a.arc(r.x,r.y/l,f,0,Math.PI*2,!1),l!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,r){var a=r.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(r.options&&r.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var r=this._map.mouseEventToLayerPoint(e),a,f,l=this._drawFirst;l;l=l.next)a=l.layer,a.options.interactive&&a._containsPoint(r)&&(!(e.type==="click"||e.type!=="preclick")||!this._map._draggableMoved(a))&&(f=a);f&&(Zo(e),this._fireEvent([f],e))},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,r)}},_handleMouseOut:function(e){var r=this._hoveredLayer;r&&(Ut(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,r){if(!this._mouseHoverThrottled){for(var a,f,l=this._drawFirst;l;l=l.next)a=l.layer,a.options.interactive&&a._containsPoint(r)&&(f=a);f!==this._hoveredLayer&&(this._handleMouseOut(e),f&&(wt(this._container,"leaflet-interactive"),this._fireEvent([f],e,"mouseover"),this._hoveredLayer=f)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,r,a){this._map._fireDOMEvent(r,a||r.type,e)},_bringToFront:function(e){var r=e._order;if(!!r){var a=r.next,f=r.prev;if(a)a.prev=f;else return;f?f.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(e)}},_bringToBack:function(e){var r=e._order;if(!!r){var a=r.next,f=r.prev;if(f)f.next=a;else return;a?a.prev=f:f&&(this._drawLast=f),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(e)}}});function Tu(e){return Ja?new Lu(e):null}var Bi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Dh={_initContainer:function(){this._container=Mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ie.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var r=e._container=Bi("shape");wt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",e._path=Bi("path"),r.appendChild(e._path),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){var r=e._container;this._container.appendChild(r),e.options.interactive&&e.addInteractiveTarget(r)},_removePath:function(e){var r=e._container;jt(r),e.removeInteractiveTarget(r),delete this._layers[d(e)]},_updateStyle:function(e){var r=e._stroke,a=e._fill,f=e.options,l=e._container;l.stroked=!!f.stroke,l.filled=!!f.fill,f.stroke?(r||(r=e._stroke=Bi("stroke")),l.appendChild(r),r.weight=f.weight+"px",r.color=f.color,r.opacity=f.opacity,f.dashArray?r.dashStyle=_(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=f.lineCap.replace("butt","flat"),r.joinstyle=f.lineJoin):r&&(l.removeChild(r),e._stroke=null),f.fill?(a||(a=e._fill=Bi("fill")),l.appendChild(a),a.color=f.fillColor||f.color,a.opacity=f.fillOpacity):a&&(l.removeChild(a),e._fill=null)},_updateCircle:function(e){var r=e._point.round(),a=Math.round(e._radius),f=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+f+" 0,"+65535*360)},_setPath:function(e,r){e._path.v=r},_bringToFront:function(e){$n(e._container)},_bringToBack:function(e){Hn(e._container)}},Er=cr?Bi:z,ki=Ie.extend({getEvents:function(){var e=Ie.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=Er("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Er("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){jt(this._container),$t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ie.prototype._update.call(this);var e=this._bounds,r=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),Ht(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(e){var r=e._path=Er("path");e.options.className&&wt(r,e.options.className),e.options.interactive&&wt(r,"leaflet-interactive"),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){jt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[d(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var r=e._path,a=e.options;!r||(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(e,r){this._setPath(e,H(e._parts,r))},_updateCircle:function(e){var r=e._point,a=Math.max(Math.round(e._radius),1),f=Math.max(Math.round(e._radiusY),1)||a,l="a"+a+","+f+" 0 1,0 ",m=e._empty()?"M0 0":"M"+(r.x-a)+","+r.y+l+a*2+",0 "+l+-a*2+",0 ";this._setPath(e,m)},_setPath:function(e,r){e._path.setAttribute("d",r)},_bringToFront:function(e){$n(e._path)},_bringToBack:function(e){Hn(e._path)}});cr&&ki.include(Dh);function Cu(e){return fr||cr?new ki(e):null}At.include({getRenderer:function(e){var r=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var r=this._paneRenderers[e];return r===void 0&&(r=this._createRenderer({pane:e}),this._paneRenderers[e]=r),r},_createRenderer:function(e){return this.options.preferCanvas&&Tu(e)||Cu(e)}});var Eu=Jn.extend({initialize:function(e,r){Jn.prototype.initialize.call(this,this._boundsToLatLngs(e),r)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=tt(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function zh(e,r){return new Eu(e,r)}ki.create=Er,ki.pointsToPath=H,Ge.geometryToLayer=Go,Ge.coordsToLatLng=Jo,Ge.coordsToLatLngs=Pr,Ge.latLngToCoords=Vo,Ge.latLngsToCoords=Lr,Ge.getFeature=Vn,Ge.asFeature=Tr,At.mergeOptions({boxZoom:!0});var Su=Me.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ti(),Oo(),this._startPoint=this._map.mouseEventToContainerPoint(e),Et(document,{contextmenu:He,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Mt("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var r=new q(this._point,this._startPoint),a=r.getSize();Ht(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(jt(this._box),Ut(this._container,"leaflet-crosshair")),Ci(),Mo(),$t(document,{contextmenu:He,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new U(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(e){e.keyCode===27&&this._finish()}});At.addInitHook("addHandler","boxZoom",Su),At.mergeOptions({doubleClickZoom:!0});var Au=Me.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var r=this._map,a=r.getZoom(),f=r.options.zoomDelta,l=e.originalEvent.shiftKey?a-f:a+f;r.options.doubleClickZoom==="center"?r.setZoom(l):r.setZoomAround(e.containerPoint,l)}});At.addInitHook("addHandler","doubleClickZoom",Au),At.mergeOptions({dragging:!0,inertia:!dt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ou=Me.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new gn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ut(this._map._container,"leaflet-grab"),Ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=tt(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,r){return e-(e-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;e.x<r.min.x&&(e.x=this._viscousLimit(e.x,r.min.x)),e.y<r.min.y&&(e.y=this._viscousLimit(e.y,r.min.y)),e.x>r.max.x&&(e.x=this._viscousLimit(e.x,r.max.x)),e.y>r.max.y&&(e.y=this._viscousLimit(e.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,r=Math.round(e/2),a=this._initialWorldOffset,f=this._draggable._newPos.x,l=(f-r+a)%e+r-a,m=(f+r+a)%e-r-a,O=Math.abs(l+a)<Math.abs(m+a)?l:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(e){var r=this._map,a=r.options,f=!a.inertia||this._times.length<2;if(r.fire("dragend",e),f)r.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,O=a.easeLinearity,R=l.multiplyBy(O/m),N=R.distanceTo([0,0]),W=Math.min(a.inertiaMaxSpeed,N),at=R.multiplyBy(W/N),vt=W/(a.inertiaDeceleration*O),It=at.multiplyBy(-vt/2).round();!It.x&&!It.y?r.fire("moveend"):(It=r._limitOffset(It,r.options.maxBounds),rt(function(){r.panBy(It,{duration:vt,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});At.addInitHook("addHandler","dragging",Ou),At.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mu=Me.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Et(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,r=document.documentElement,a=e.scrollTop||r.scrollTop,f=e.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(f,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var r=this._panKeys={},a=this.keyCodes,f,l;for(f=0,l=a.left.length;f<l;f++)r[a.left[f]]=[-1*e,0];for(f=0,l=a.right.length;f<l;f++)r[a.right[f]]=[e,0];for(f=0,l=a.down.length;f<l;f++)r[a.down[f]]=[0,e];for(f=0,l=a.up.length;f<l;f++)r[a.up[f]]=[0,-1*e]},_setZoomDelta:function(e){var r=this._zoomKeys={},a=this.keyCodes,f,l;for(f=0,l=a.zoomIn.length;f<l;f++)r[a.zoomIn[f]]=e;for(f=0,l=a.zoomOut.length;f<l;f++)r[a.zoomOut[f]]=-e},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=e.keyCode,a=this._map,f;if(r in this._panKeys)(!a._panAnim||!a._panAnim._inProgress)&&(f=this._panKeys[r],e.shiftKey&&(f=$(f).multiplyBy(3)),a.panBy(f),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds));else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;He(e)}}});At.addInitHook("addHandler","keyboard",Mu),At.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Iu=Me.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var r=iu(e),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var f=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),f),He(e)},_performZoom:function(){var e=this._map,r=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,m=a?Math.ceil(l/a)*a:l,O=e._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,!!O&&(e.options.scrollWheelZoom==="center"?e.setZoom(r+O):e.setZoomAround(this._lastMousePos,r+O))}});At.addInitHook("addHandler","scrollWheelZoom",Iu),At.mergeOptions({tap:!0,tapTolerance:15});var Bu=Me.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(!!e.touches){if(ve(e),this._fireClick=!0,e.touches.length>1){this._fireClick=!1,clearTimeout(this._holdTimeout);return}var r=e.touches[0],a=r.target;this._startPos=this._newPos=new I(r.clientX,r.clientY),a.tagName&&a.tagName.toLowerCase()==="a"&&wt(a,"leaflet-active"),this._holdTimeout=setTimeout(c(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",r))},this),1e3),this._simulateEvent("mousedown",r),Et(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),$t(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var r=e.changedTouches[0],a=r.target;a&&a.tagName&&a.tagName.toLowerCase()==="a"&&Ut(a,"leaflet-active"),this._simulateEvent("mouseup",r),this._isTapValid()&&this._simulateEvent("click",r)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var r=e.touches[0];this._newPos=new I(r.clientX,r.clientY),this._simulateEvent("mousemove",r)},_simulateEvent:function(e,r){var a=document.createEvent("MouseEvents");a._simulated=!0,r.target._simulatedClick=!0,a.initMouseEvent(e,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),r.target.dispatchEvent(a)}});Ae&&(!Se||Ot)&&At.addInitHook("addHandler","tap",Bu),At.mergeOptions({touchZoom:Ae&&!dt,bounceAtZoomLimits:!0});var ku=Me.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ut(this._map._container,"leaflet-touch-zoom"),$t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var r=this._map;if(!(!e.touches||e.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(e.touches[0]),f=r.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(f)._divideBy(2))),this._startDist=a.distanceTo(f),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend",this._onTouchEnd,this),ve(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(e.touches[0]),f=r.mouseEventToContainerPoint(e.touches[1]),l=a.distanceTo(f)/this._startDist;if(this._zoom=r.getScaleZoom(l,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&l<1||this._zoom>r.getMaxZoom()&&l>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var m=a._add(f)._divideBy(2)._subtract(this._centerPoint);if(l===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),ft(this._animRequest);var O=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=rt(O,this,!0),ve(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ft(this._animRequest),$t(document,"touchmove",this._onTouchMove,this),$t(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});At.addInitHook("addHandler","touchZoom",ku),At.BoxZoom=Su,At.DoubleClickZoom=Au,At.Drag=Ou,At.Keyboard=Mu,At.ScrollWheelZoom=Iu,At.Tap=Bu,At.TouchZoom=ku,i.version=o,i.Control=we,i.control=Ai,i.Browser=$l,i.Evented=k,i.Mixin=fh,i.Util=gt,i.Class=lt,i.Handler=Me,i.extend=s,i.bind=c,i.stamp=d,i.setOptions=E,i.DomEvent=ih,i.DomUtil=eh,i.PosAnimation=ru,i.Draggable=gn,i.LineUtil=_h,i.PolyUtil=ph,i.Point=I,i.point=$,i.Bounds=q,i.bounds=D,i.Transformation=St,i.transformation=bt,i.Projection=vh,i.LatLng=V,i.latLng=st,i.LatLngBounds=U,i.latLngBounds=tt,i.CRS=ot,i.GeoJSON=Ge,i.geoJSON=gu,i.geoJson=Eh,i.Layer=be,i.LayerGroup=Wn,i.layerGroup=yh,i.FeatureGroup=Kn,i.featureGroup=wh,i.ImageOverlay=Cr,i.imageOverlay=Sh,i.VideoOverlay=yu,i.videoOverlay=Ah,i.SVGOverlay=wu,i.svgOverlay=Oh,i.DivOverlay=Je,i.Popup=Yn,i.popup=Mh,i.Tooltip=Qn,i.tooltip=Ih,i.Icon=Gn,i.icon=bh,i.DivIcon=bu,i.divIcon=Bh,i.Marker=br,i.marker=xh,i.TileLayer=Xn,i.tileLayer=xu,i.GridLayer=Ii,i.gridLayer=kh,i.SVG=ki,i.svg=Cu,i.Renderer=Ie,i.Canvas=Lu,i.canvas=Tu,i.Path=an,i.CircleMarker=xr,i.circleMarker=Ph,i.Circle=Ko,i.circle=Lh,i.Polyline=Ke,i.polyline=Th,i.Polygon=Jn,i.polygon=Ch,i.Rectangle=Eu,i.rectangle=zh,i.Map=At,i.map=rh;var Nh=window.L;i.noConflict=function(){return window.L=Nh,this},window.L=i})})(Ks,Ks.exports);var ny=Ks.exports,Mp={},Ip=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mp}),Bp=Op(Ip),Gs={};Gs.test=function(){return typeof _e.queueMicrotask=="function"};Gs.install=function(t){return function(){_e.queueMicrotask(t)}};var Js={},rc=_e.MutationObserver||_e.WebKitMutationObserver;Js.test=function(){return rc};Js.install=function(t){var n=0,i=new rc(t),o=_e.document.createTextNode("");return i.observe(o,{characterData:!0}),function(){o.data=n=++n%2}};var Vs={};Vs.test=function(){return _e.setImmediate?!1:typeof _e.MessageChannel!="undefined"};Vs.install=function(t){var n=new _e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}};var Ys={};Ys.test=function(){return"document"in _e&&"onreadystatechange"in _e.document.createElement("script")};Ys.install=function(t){return function(){var n=_e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},_e.document.documentElement.appendChild(n),t}};var Qs={};Qs.test=function(){return!0};Qs.install=function(t){return function(){setTimeout(t,0)}};var Gi=[Bp,Gs,Js,Vs,Ys,Qs],ci,On,Ji=-1,_n=[],Xs=!1;function kp(){!ci||!On||(ci=!1,On.length?_n=On.concat(_n):Ji=-1,_n.length&&oc())}function oc(){if(!ci){Xs=!1,ci=!0;for(var t=_n.length,n=setTimeout(kp);t;){for(On=_n,_n=[];On&&++Ji<t;)On[Ji].run();Ji=-1,t=_n.length}On=null,Ji=-1,ci=!1,clearTimeout(n)}}var sc,Vi=-1,Rp=Gi.length;for(;++Vi<Rp;)if(Gi[Vi]&&Gi[Vi].test&&Gi[Vi].test()){sc=Gi[Vi].install(oc);break}function ac(t,n){this.fun=t,this.array=n}ac.prototype.run=function(){var t=this.fun,n=this.array;switch(n.length){case 0:return t();case 1:return t(n[0]);case 2:return t(n[0],n[1]);case 3:return t(n[0],n[1],n[2]);default:return t.apply(null,n)}};var Ne=Dp;function Dp(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];_n.push(new ac(t,n)),!Xs&&!ci&&(Xs=!0,sc())}var uc=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),zp=new Uint8Array(16);function Np(){if(!uc)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uc(zp)}var fc=[];for(var ta=0;ta<256;++ta)fc.push((ta+256).toString(16).substr(1));function Zp(t,n){var i=n||0,o=fc;return(o[t[i+0]]+o[t[i+1]]+o[t[i+2]]+o[t[i+3]]+"-"+o[t[i+4]]+o[t[i+5]]+"-"+o[t[i+6]]+o[t[i+7]]+"-"+o[t[i+8]]+o[t[i+9]]+"-"+o[t[i+10]]+o[t[i+11]]+o[t[i+12]]+o[t[i+13]]+o[t[i+14]]+o[t[i+15]]).toLowerCase()}function cc(t,n,i){typeof t=="string"&&(n=t==="binary"?new Uint8Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||Np)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,n){for(var s=i||0,u=0;u<16;++u)n[s+u]=o[u];return n}return Zp(o)}var lc={exports:{}};(function(t,n){(function(i){t.exports=i()})(function(i){var o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(P,x){var _=P[0],v=P[1],w=P[2],C=P[3];_+=(v&w|~v&C)+x[0]-680876936|0,_=(_<<7|_>>>25)+v|0,C+=(_&v|~_&w)+x[1]-389564586|0,C=(C<<12|C>>>20)+_|0,w+=(C&_|~C&v)+x[2]+606105819|0,w=(w<<17|w>>>15)+C|0,v+=(w&C|~w&_)+x[3]-1044525330|0,v=(v<<22|v>>>10)+w|0,_+=(v&w|~v&C)+x[4]-176418897|0,_=(_<<7|_>>>25)+v|0,C+=(_&v|~_&w)+x[5]+1200080426|0,C=(C<<12|C>>>20)+_|0,w+=(C&_|~C&v)+x[6]-1473231341|0,w=(w<<17|w>>>15)+C|0,v+=(w&C|~w&_)+x[7]-45705983|0,v=(v<<22|v>>>10)+w|0,_+=(v&w|~v&C)+x[8]+1770035416|0,_=(_<<7|_>>>25)+v|0,C+=(_&v|~_&w)+x[9]-1958414417|0,C=(C<<12|C>>>20)+_|0,w+=(C&_|~C&v)+x[10]-42063|0,w=(w<<17|w>>>15)+C|0,v+=(w&C|~w&_)+x[11]-1990404162|0,v=(v<<22|v>>>10)+w|0,_+=(v&w|~v&C)+x[12]+1804603682|0,_=(_<<7|_>>>25)+v|0,C+=(_&v|~_&w)+x[13]-40341101|0,C=(C<<12|C>>>20)+_|0,w+=(C&_|~C&v)+x[14]-1502002290|0,w=(w<<17|w>>>15)+C|0,v+=(w&C|~w&_)+x[15]+1236535329|0,v=(v<<22|v>>>10)+w|0,_+=(v&C|w&~C)+x[1]-165796510|0,_=(_<<5|_>>>27)+v|0,C+=(_&w|v&~w)+x[6]-1069501632|0,C=(C<<9|C>>>23)+_|0,w+=(C&v|_&~v)+x[11]+643717713|0,w=(w<<14|w>>>18)+C|0,v+=(w&_|C&~_)+x[0]-373897302|0,v=(v<<20|v>>>12)+w|0,_+=(v&C|w&~C)+x[5]-701558691|0,_=(_<<5|_>>>27)+v|0,C+=(_&w|v&~w)+x[10]+38016083|0,C=(C<<9|C>>>23)+_|0,w+=(C&v|_&~v)+x[15]-660478335|0,w=(w<<14|w>>>18)+C|0,v+=(w&_|C&~_)+x[4]-405537848|0,v=(v<<20|v>>>12)+w|0,_+=(v&C|w&~C)+x[9]+568446438|0,_=(_<<5|_>>>27)+v|0,C+=(_&w|v&~w)+x[14]-1019803690|0,C=(C<<9|C>>>23)+_|0,w+=(C&v|_&~v)+x[3]-187363961|0,w=(w<<14|w>>>18)+C|0,v+=(w&_|C&~_)+x[8]+1163531501|0,v=(v<<20|v>>>12)+w|0,_+=(v&C|w&~C)+x[13]-1444681467|0,_=(_<<5|_>>>27)+v|0,C+=(_&w|v&~w)+x[2]-51403784|0,C=(C<<9|C>>>23)+_|0,w+=(C&v|_&~v)+x[7]+1735328473|0,w=(w<<14|w>>>18)+C|0,v+=(w&_|C&~_)+x[12]-1926607734|0,v=(v<<20|v>>>12)+w|0,_+=(v^w^C)+x[5]-378558|0,_=(_<<4|_>>>28)+v|0,C+=(_^v^w)+x[8]-2022574463|0,C=(C<<11|C>>>21)+_|0,w+=(C^_^v)+x[11]+1839030562|0,w=(w<<16|w>>>16)+C|0,v+=(w^C^_)+x[14]-35309556|0,v=(v<<23|v>>>9)+w|0,_+=(v^w^C)+x[1]-1530992060|0,_=(_<<4|_>>>28)+v|0,C+=(_^v^w)+x[4]+1272893353|0,C=(C<<11|C>>>21)+_|0,w+=(C^_^v)+x[7]-155497632|0,w=(w<<16|w>>>16)+C|0,v+=(w^C^_)+x[10]-1094730640|0,v=(v<<23|v>>>9)+w|0,_+=(v^w^C)+x[13]+681279174|0,_=(_<<4|_>>>28)+v|0,C+=(_^v^w)+x[0]-358537222|0,C=(C<<11|C>>>21)+_|0,w+=(C^_^v)+x[3]-722521979|0,w=(w<<16|w>>>16)+C|0,v+=(w^C^_)+x[6]+76029189|0,v=(v<<23|v>>>9)+w|0,_+=(v^w^C)+x[9]-640364487|0,_=(_<<4|_>>>28)+v|0,C+=(_^v^w)+x[12]-421815835|0,C=(C<<11|C>>>21)+_|0,w+=(C^_^v)+x[15]+530742520|0,w=(w<<16|w>>>16)+C|0,v+=(w^C^_)+x[2]-995338651|0,v=(v<<23|v>>>9)+w|0,_+=(w^(v|~C))+x[0]-198630844|0,_=(_<<6|_>>>26)+v|0,C+=(v^(_|~w))+x[7]+1126891415|0,C=(C<<10|C>>>22)+_|0,w+=(_^(C|~v))+x[14]-1416354905|0,w=(w<<15|w>>>17)+C|0,v+=(C^(w|~_))+x[5]-57434055|0,v=(v<<21|v>>>11)+w|0,_+=(w^(v|~C))+x[12]+1700485571|0,_=(_<<6|_>>>26)+v|0,C+=(v^(_|~w))+x[3]-1894986606|0,C=(C<<10|C>>>22)+_|0,w+=(_^(C|~v))+x[10]-1051523|0,w=(w<<15|w>>>17)+C|0,v+=(C^(w|~_))+x[1]-2054922799|0,v=(v<<21|v>>>11)+w|0,_+=(w^(v|~C))+x[8]+1873313359|0,_=(_<<6|_>>>26)+v|0,C+=(v^(_|~w))+x[15]-30611744|0,C=(C<<10|C>>>22)+_|0,w+=(_^(C|~v))+x[6]-1560198380|0,w=(w<<15|w>>>17)+C|0,v+=(C^(w|~_))+x[13]+1309151649|0,v=(v<<21|v>>>11)+w|0,_+=(w^(v|~C))+x[4]-145523070|0,_=(_<<6|_>>>26)+v|0,C+=(v^(_|~w))+x[11]-1120210379|0,C=(C<<10|C>>>22)+_|0,w+=(_^(C|~v))+x[2]+718787259|0,w=(w<<15|w>>>17)+C|0,v+=(C^(w|~_))+x[9]-343485551|0,v=(v<<21|v>>>11)+w|0,P[0]=_+P[0]|0,P[1]=v+P[1]|0,P[2]=w+P[2]|0,P[3]=C+P[3]|0}function u(P){var x=[],_;for(_=0;_<64;_+=4)x[_>>2]=P.charCodeAt(_)+(P.charCodeAt(_+1)<<8)+(P.charCodeAt(_+2)<<16)+(P.charCodeAt(_+3)<<24);return x}function c(P){var x=[],_;for(_=0;_<64;_+=4)x[_>>2]=P[_]+(P[_+1]<<8)+(P[_+2]<<16)+(P[_+3]<<24);return x}function h(P){var x=P.length,_=[1732584193,-271733879,-1732584194,271733878],v,w,C,F,Q,it;for(v=64;v<=x;v+=64)s(_,u(P.substring(v-64,v)));for(P=P.substring(v-64),w=P.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0;v<w;v+=1)C[v>>2]|=P.charCodeAt(v)<<(v%4<<3);if(C[v>>2]|=128<<(v%4<<3),v>55)for(s(_,C),v=0;v<16;v+=1)C[v]=0;return F=x*8,F=F.toString(16).match(/(.*?)(.{0,8})$/),Q=parseInt(F[2],16),it=parseInt(F[1],16)||0,C[14]=Q,C[15]=it,s(_,C),_}function d(P){var x=P.length,_=[1732584193,-271733879,-1732584194,271733878],v,w,C,F,Q,it;for(v=64;v<=x;v+=64)s(_,c(P.subarray(v-64,v)));for(P=v-64<x?P.subarray(v-64):new Uint8Array(0),w=P.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0;v<w;v+=1)C[v>>2]|=P[v]<<(v%4<<3);if(C[v>>2]|=128<<(v%4<<3),v>55)for(s(_,C),v=0;v<16;v+=1)C[v]=0;return F=x*8,F=F.toString(16).match(/(.*?)(.{0,8})$/),Q=parseInt(F[2],16),it=parseInt(F[1],16)||0,C[14]=Q,C[15]=it,s(_,C),_}function g(P){var x="",_;for(_=0;_<4;_+=1)x+=o[P>>_*8+4&15]+o[P>>_*8&15];return x}function T(P){var x;for(x=0;x<P.length;x+=1)P[x]=g(P[x]);return P.join("")}T(h("hello"))!=="5d41402abc4b2a76b9719d911017c592",typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function P(x,_){return x=x|0||0,x<0?Math.max(x+_,0):Math.min(x,_)}ArrayBuffer.prototype.slice=function(x,_){var v=this.byteLength,w=P(x,v),C=v,F,Q,it,X;return _!==i&&(C=P(_,v)),w>C?new ArrayBuffer(0):(F=C-w,Q=new ArrayBuffer(F),it=new Uint8Array(Q),X=new Uint8Array(this,w,F),it.set(X),Q)}}();function p(P){return/[\u0080-\uFFFF]/.test(P)&&(P=unescape(encodeURIComponent(P))),P}function b(P,x){var _=P.length,v=new ArrayBuffer(_),w=new Uint8Array(v),C;for(C=0;C<_;C+=1)w[C]=P.charCodeAt(C);return x?w:v}function A(P){return String.fromCharCode.apply(null,new Uint8Array(P))}function y(P,x,_){var v=new Uint8Array(P.byteLength+x.byteLength);return v.set(new Uint8Array(P)),v.set(new Uint8Array(x),P.byteLength),_?v:v.buffer}function E(P){var x=[],_=P.length,v;for(v=0;v<_-1;v+=2)x.push(parseInt(P.substr(v,2),16));return String.fromCharCode.apply(String,x)}function M(){this.reset()}return M.prototype.append=function(P){return this.appendBinary(p(P)),this},M.prototype.appendBinary=function(P){this._buff+=P,this._length+=P.length;var x=this._buff.length,_;for(_=64;_<=x;_+=64)s(this._hash,u(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},M.prototype.end=function(P){var x=this._buff,_=x.length,v,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C;for(v=0;v<_;v+=1)w[v>>2]|=x.charCodeAt(v)<<(v%4<<3);return this._finish(w,_),C=T(this._hash),P&&(C=E(C)),this.reset(),C},M.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},M.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},M.prototype.setState=function(P){return this._buff=P.buff,this._length=P.length,this._hash=P.hash,this},M.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},M.prototype._finish=function(P,x){var _=x,v,w,C;if(P[_>>2]|=128<<(_%4<<3),_>55)for(s(this._hash,P),_=0;_<16;_+=1)P[_]=0;v=this._length*8,v=v.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(v[2],16),C=parseInt(v[1],16)||0,P[14]=w,P[15]=C,s(this._hash,P)},M.hash=function(P,x){return M.hashBinary(p(P),x)},M.hashBinary=function(P,x){var _=h(P),v=T(_);return x?E(v):v},M.ArrayBuffer=function(){this.reset()},M.ArrayBuffer.prototype.append=function(P){var x=y(this._buff.buffer,P,!0),_=x.length,v;for(this._length+=P.byteLength,v=64;v<=_;v+=64)s(this._hash,c(x.subarray(v-64,v)));return this._buff=v-64<_?new Uint8Array(x.buffer.slice(v-64)):new Uint8Array(0),this},M.ArrayBuffer.prototype.end=function(P){var x=this._buff,_=x.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w,C;for(w=0;w<_;w+=1)v[w>>2]|=x[w]<<(w%4<<3);return this._finish(v,_),C=T(this._hash),P&&(C=E(C)),this.reset(),C},M.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},M.ArrayBuffer.prototype.getState=function(){var P=M.prototype.getState.call(this);return P.buff=A(P.buff),P},M.ArrayBuffer.prototype.setState=function(P){return P.buff=b(P.buff,!0),M.prototype.setState.call(this,P)},M.ArrayBuffer.prototype.destroy=M.prototype.destroy,M.ArrayBuffer.prototype._finish=M.prototype._finish,M.ArrayBuffer.hash=function(P,x){var _=d(new Uint8Array(P)),v=T(_);return x?E(v):v},M})})(lc);var ea=lc.exports,no={};no.stringify=function(n){var i=[];i.push({obj:n});for(var o="",s,u,c,h,d,g,T,p,b,A,y;s=i.pop();)if(u=s.obj,c=s.prefix||"",h=s.val||"",o+=c,h)o+=h;else if(typeof u!="object")o+=typeof u=="undefined"?null:JSON.stringify(u);else if(u===null)o+="null";else if(Array.isArray(u)){for(i.push({val:"]"}),d=u.length-1;d>=0;d--)g=d===0?"":",",i.push({obj:u[d],prefix:g});i.push({val:"["})}else{T=[];for(p in u)u.hasOwnProperty(p)&&T.push(p);for(i.push({val:"}"}),d=T.length-1;d>=0;d--)b=T[d],A=u[b],y=d>0?",":"",y+=JSON.stringify(b)+":",i.push({obj:A,prefix:y});i.push({val:"{"})}return o};function li(t,n,i){var o=i[i.length-1];t===o.element&&(i.pop(),o=i[i.length-1]);var s=o.element,u=o.index;if(Array.isArray(s))s.push(t);else if(u===n.length-2){var c=n.pop();s[c]=t}else n.push(t)}no.parse=function(t){for(var n=[],i=[],o=0,s,u,c,h,d,g,T,p,b;;){if(s=t[o++],s==="}"||s==="]"||typeof s=="undefined"){if(n.length===1)return n.pop();li(n.pop(),n,i);continue}switch(s){case" ":case"	":case`
`:case":":case",":break;case"n":o+=3,li(null,n,i);break;case"t":o+=3,li(!0,n,i);break;case"f":o+=4,li(!1,n,i);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(u="",o--;;)if(c=t[o++],/[\d\.\-e\+]/.test(c))u+=c;else{o--;break}li(parseFloat(u),n,i);break;case'"':for(h="",d=void 0,g=0;T=t[o++],T!=='"'||d==="\\"&&g%2==1;)h+=T,d=T,d==="\\"?g++:g=0;li(JSON.parse('"'+h+'"'),n,i);break;case"[":p={element:[],index:n.length},n.push(p.element),i.push(p);break;case"{":b={element:{},index:n.length},n.push(b.element),i.push(b);break;default:throw new Error("unexpectedly reached end of input: "+s)}}};var hi=qp;function qp(t){return function(){var n=arguments.length;if(n){for(var i=[],o=-1;++o<n;)i[o]=arguments[o];return t.call(this,i)}else return t.call(this,[])}}var na={exports:{}};typeof Object.create=="function"?na.exports=function(n,i){i&&(n.super_=i,n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:na.exports=function(n,i){if(i){n.super_=i;var o=function(){};o.prototype=i.prototype,n.prototype=new o,n.prototype.constructor=n}};var Le=na.exports,ia={exports:{}},di=typeof Reflect=="object"?Reflect:null,hc=di&&typeof di.apply=="function"?di.apply:function(n,i,o){return Function.prototype.apply.call(n,i,o)},io;di&&typeof di.ownKeys=="function"?io=di.ownKeys:Object.getOwnPropertySymbols?io=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:io=function(n){return Object.getOwnPropertyNames(n)};function Fp(t){console&&console.warn&&console.warn(t)}var dc=Number.isNaN||function(n){return n!==n};function zt(){zt.init.call(this)}ia.exports=zt;ia.exports.once=Hp;zt.EventEmitter=zt;zt.prototype._events=void 0;zt.prototype._eventsCount=0;zt.prototype._maxListeners=void 0;var _c=10;function ro(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(zt,"defaultMaxListeners",{enumerable:!0,get:function(){return _c},set:function(t){if(typeof t!="number"||t<0||dc(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");_c=t}});zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};zt.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||dc(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function pc(t){return t._maxListeners===void 0?zt.defaultMaxListeners:t._maxListeners}zt.prototype.getMaxListeners=function(){return pc(this)};zt.prototype.emit=function(n){for(var i=[],o=1;o<arguments.length;o++)i.push(arguments[o]);var s=n==="error",u=this._events;if(u!==void 0)s=s&&u.error===void 0;else if(!s)return!1;if(s){var c;if(i.length>0&&(c=i[0]),c instanceof Error)throw c;var h=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw h.context=c,h}var d=u[n];if(d===void 0)return!1;if(typeof d=="function")hc(d,this,i);else for(var g=d.length,T=wc(d,g),o=0;o<g;++o)hc(T[o],this,i);return!0};function vc(t,n,i,o){var s,u,c;if(ro(i),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",n,i.listener?i.listener:i),u=t._events),c=u[n]),c===void 0)c=u[n]=i,++t._eventsCount;else if(typeof c=="function"?c=u[n]=o?[i,c]:[c,i]:o?c.unshift(i):c.push(i),s=pc(t),s>0&&c.length>s&&!c.warned){c.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=c.length,Fp(h)}return t}zt.prototype.addListener=function(n,i){return vc(this,n,i,!1)};zt.prototype.on=zt.prototype.addListener;zt.prototype.prependListener=function(n,i){return vc(this,n,i,!0)};function jp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function mc(t,n,i){var o={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},s=jp.bind(o);return s.listener=i,o.wrapFn=s,s}zt.prototype.once=function(n,i){return ro(i),this.on(n,mc(this,n,i)),this};zt.prototype.prependOnceListener=function(n,i){return ro(i),this.prependListener(n,mc(this,n,i)),this};zt.prototype.removeListener=function(n,i){var o,s,u,c,h;if(ro(i),s=this._events,s===void 0)return this;if(o=s[n],o===void 0)return this;if(o===i||o.listener===i)--this._eventsCount==0?this._events=Object.create(null):(delete s[n],s.removeListener&&this.emit("removeListener",n,o.listener||i));else if(typeof o!="function"){for(u=-1,c=o.length-1;c>=0;c--)if(o[c]===i||o[c].listener===i){h=o[c].listener,u=c;break}if(u<0)return this;u===0?o.shift():Up(o,u),o.length===1&&(s[n]=o[0]),s.removeListener!==void 0&&this.emit("removeListener",n,h||i)}return this};zt.prototype.off=zt.prototype.removeListener;zt.prototype.removeAllListeners=function(n){var i,o,s;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[n]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete o[n]),this;if(arguments.length===0){var u=Object.keys(o),c;for(s=0;s<u.length;++s)c=u[s],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=o[n],typeof i=="function")this.removeListener(n,i);else if(i!==void 0)for(s=i.length-1;s>=0;s--)this.removeListener(n,i[s]);return this};function gc(t,n,i){var o=t._events;if(o===void 0)return[];var s=o[n];return s===void 0?[]:typeof s=="function"?i?[s.listener||s]:[s]:i?$p(s):wc(s,s.length)}zt.prototype.listeners=function(n){return gc(this,n,!0)};zt.prototype.rawListeners=function(n){return gc(this,n,!1)};zt.listenerCount=function(t,n){return typeof t.listenerCount=="function"?t.listenerCount(n):yc.call(t,n)};zt.prototype.listenerCount=yc;function yc(t){var n=this._events;if(n!==void 0){var i=n[t];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}zt.prototype.eventNames=function(){return this._eventsCount>0?io(this._events):[]};function wc(t,n){for(var i=new Array(n),o=0;o<n;++o)i[o]=t[o];return i}function Up(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function $p(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}function Hp(t,n){return new Promise(function(i,o){function s(c){t.removeListener(n,u),o(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",s),i([].slice.call(arguments))}bc(t,n,u,{once:!0}),n!=="error"&&Wp(t,s,{once:!0})})}function Wp(t,n,i){typeof t.on=="function"&&bc(t,"error",n,i)}function bc(t,n,i,o){if(typeof t.on=="function")o.once?t.once(n,i):t.on(n,i);else if(typeof t.addEventListener=="function")t.addEventListener(n,function s(u){o.once&&t.removeEventListener(n,s),i(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ce=ia.exports;function oo(t){return"$"+t}function Kp(t){return t.substring(1)}function pn(){this._store={}}pn.prototype.get=function(t){var n=oo(t);return this._store[n]};pn.prototype.set=function(t,n){var i=oo(t);return this._store[i]=n,!0};pn.prototype.has=function(t){var n=oo(t);return n in this._store};pn.prototype.delete=function(t){var n=oo(t),i=n in this._store;return delete this._store[n],i};pn.prototype.forEach=function(t){for(var n=Object.keys(this._store),i=0,o=n.length;i<o;i++){var s=n[i],u=this._store[s];s=Kp(s),t(u,s)}};Object.defineProperty(pn.prototype,"size",{get:function(){return Object.keys(this._store).length}});function Yi(t){if(this._store=new pn,t&&Array.isArray(t))for(var n=0,i=t.length;n<i;n++)this.add(t[n])}Yi.prototype.add=function(t){return this._store.set(t,!0)};Yi.prototype.has=function(t){return this._store.has(t)};Yi.prototype.forEach=function(t){this._store.forEach(function(n,i){t(i)})};Object.defineProperty(Yi.prototype,"size",{get:function(){return this._store.size}});function Gp(){if(typeof Symbol=="undefined"||typeof Map=="undefined"||typeof Set=="undefined")return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}var _i,le;Gp()?(_i=Set,le=Map):(_i=Yi,le=pn);function Jp(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer||typeof Blob!="undefined"&&t instanceof Blob}function Vp(t){if(typeof t.slice=="function")return t.slice(0);var n=new ArrayBuffer(t.byteLength),i=new Uint8Array(n),o=new Uint8Array(t);return i.set(o),n}function Yp(t){if(t instanceof ArrayBuffer)return Vp(t);var n=t.size,i=t.type;return typeof t.slice=="function"?t.slice(0,n,i):t.webkitSlice(0,n,i)}var xc=Function.prototype.toString,Qp=xc.call(Object);function Xp(t){var n=Object.getPrototypeOf(t);if(n===null)return!0;var i=n.constructor;return typeof i=="function"&&i instanceof i&&xc.call(i)==Qp}function Jt(t){var n,i,o;if(!t||typeof t!="object")return t;if(Array.isArray(t)){for(n=[],i=0,o=t.length;i<o;i++)n[i]=Jt(t[i]);return n}if(t instanceof Date)return t.toISOString();if(Jp(t))return Yp(t);if(!Xp(t))return t;n={};for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=Jt(t[i]);typeof s!="undefined"&&(n[i]=s)}return n}function Pc(t){var n=!1;return hi(function(i){if(n)throw new Error("once called more than once");n=!0,t.apply(this,i)})}function Lc(t){return hi(function(n){n=Jt(n);var i=this,o=typeof n[n.length-1]=="function"?n.pop():!1,s=new Promise(function(u,c){var h;try{var d=Pc(function(g,T){g?c(g):u(T)});n.push(d),h=t.apply(i,n),h&&typeof h.then=="function"&&u(h)}catch(g){c(g)}});return o&&s.then(function(u){o(null,u)},o),s})}function tv(t,n,i){if(t.constructor.listeners("debug").length){for(var o=["api",t.name,n],s=0;s<i.length-1;s++)o.push(i[s]);t.constructor.emit("debug",o);var u=i[i.length-1];i[i.length-1]=function(c,h){var d=["api",t.name,n];d=d.concat(c?["error",c]:["success",h]),t.constructor.emit("debug",d),u(c,h)}}}function Kt(t,n){return Lc(hi(function(i){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var o=this;return tv(o,t,i),this.taskqueue.isReady?n.apply(this,i):new Promise(function(s,u){o.taskqueue.addTask(function(c){c?u(c):s(o[t].apply(o,i))})})}))}function Qi(t,n){for(var i={},o=0,s=n.length;o<s;o++){var u=n[o];u in t&&(i[u]=t[u])}return i}var ev=6;function Tc(t){return t}function nv(t){return[{ok:t}]}function Cc(t,n,i){var o=n.docs,s=new le;o.forEach(function(E){s.has(E.id)?s.get(E.id).push(E):s.set(E.id,[E])});var u=s.size,c=0,h=new Array(u);function d(){var E=[];h.forEach(function(M){M.docs.forEach(function(P){E.push({id:M.id,docs:[P]})})}),i(null,{results:E})}function g(){++c===u&&d()}function T(E,M,P){h[E]={id:M,docs:P},g()}var p=[];s.forEach(function(E,M){p.push(M)});var b=0;function A(){if(!(b>=p.length)){var E=Math.min(b+ev,p.length),M=p.slice(b,E);y(M,b),b+=M.length}}function y(E,M){E.forEach(function(P,x){var _=M+x,v=s.get(P),w=Qi(v[0],["atts_since","attachments"]);w.open_revs=v.map(function(F){return F.rev}),w.open_revs=w.open_revs.filter(Tc);var C=Tc;w.open_revs.length===0&&(delete w.open_revs,C=nv),["revs","attachments","binary","ajax","latest"].forEach(function(F){F in n&&(w[F]=n[F])}),t.get(P,w,function(F,Q){var it;F?it=[{error:F}]:it=C(Q),T(_,P,it),A()})})}A()}var ra;try{localStorage.setItem("_pouch_check_localstorage",1),ra=!!localStorage.getItem("_pouch_check_localstorage")}catch{ra=!1}function so(){return ra}Le(pi,ce);function iv(t){so()&&addEventListener("storage",function(n){t.emit(n.key)})}function pi(){ce.call(this),this._listeners={},iv(this)}pi.prototype.addListener=function(t,n,i,o){if(this._listeners[n])return;var s=this,u=!1;function c(){if(!s._listeners[n])return;if(u){u="waiting";return}u=!0;var h=Qi(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function d(){u=!1}i.changes(h).on("change",function(g){g.seq>o.since&&!o.cancelled&&(o.since=g.seq,o.onChange(g))}).on("complete",function(){u==="waiting"&&Ne(c),u=!1}).on("error",d)}this._listeners[n]=c,this.on(t,c)};pi.prototype.removeListener=function(t,n){n in this._listeners&&(ce.prototype.removeListener.call(this,t,this._listeners[n]),delete this._listeners[n])};pi.prototype.notifyLocalWindows=function(t){so()&&(localStorage[t]=localStorage[t]==="a"?"b":"a")};pi.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};function me(t){if(typeof console!="undefined"&&typeof console[t]=="function"){var n=Array.prototype.slice.call(arguments,1);console[t].apply(console,n)}}function rv(t,n){var i=6e5;t=parseInt(t,10)||0,n=parseInt(n,10),n!==n||n<=t?n=(t||1)<<1:n=n+1,n>i&&(t=i>>1,n=i);var o=Math.random(),s=n-t;return~~(s*o+t)}function ov(t){var n=0;return t||(n=2e3),rv(t,n)}function oa(t,n){me("info","The above "+t+" is totally normal. "+n)}var sa;typeof Object.assign=="function"?sa=Object.assign:sa=function(t){for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n};var vi=sa;Le(Nt,Error);function Nt(t,n,i){Error.call(this,i),this.status=t,this.name=n,this.message=i,this.error=!0}Nt.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new Nt(401,"unauthorized","Name or password is incorrect.");var sv=new Nt(400,"bad_request","Missing JSON list of 'docs'"),Te=new Nt(404,"not_found","missing"),mi=new Nt(409,"conflict","Document update conflict"),Ec=new Nt(400,"bad_request","_id field must contain a string"),av=new Nt(412,"missing_id","_id is required for puts"),uv=new Nt(400,"bad_request","Only reserved document ids may start with underscore.");new Nt(412,"precondition_failed","Database not open");var Sc=new Nt(500,"unknown_error","Database encountered an unknown error"),Ac=new Nt(500,"badarg","Some query argument is invalid");new Nt(400,"invalid_request","Request was invalid");var fv=new Nt(400,"query_parse_error","Some query parameter is invalid"),Oc=new Nt(500,"doc_validation","Bad special document member"),ao=new Nt(400,"bad_request","Something wrong with the request"),aa=new Nt(400,"bad_request","Document must be a JSON object");new Nt(404,"not_found","Database not found");var ua=new Nt(500,"indexed_db_went_bad","unknown");new Nt(500,"web_sql_went_bad","unknown");new Nt(500,"levelDB_went_went_bad","unknown");new Nt(403,"forbidden","Forbidden by design doc validate_doc_update function");var Mc=new Nt(400,"bad_request","Invalid rev format");new Nt(412,"file_exists","The database could not be created, the file already exists.");var cv=new Nt(412,"missing_stub","A pre-existing attachment stub wasn't found");new Nt(413,"invalid_url","Provided URL is invalid");function Pt(t,n){function i(o){for(var s=Object.getOwnPropertyNames(t),u=0,c=s.length;u<c;u++)typeof t[s[u]]!="function"&&(this[s[u]]=t[s[u]]);o!==void 0&&(this.reason=o)}return i.prototype=Nt.prototype,new i(n)}function gi(t){if(typeof t!="object"){var n=t;t=Sc,t.data=n}return"error"in t&&t.error==="conflict"&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function lv(t,n,i){try{return!t(n,i)}catch(s){var o="Filter function threw: "+s.toString();return Pt(ao,o)}}function fa(t){var n={},i=t.filter&&typeof t.filter=="function";return n.query=t.query_params,function(s){s.doc||(s.doc={});var u=i&&lv(t.filter,s.doc,n);if(typeof u=="object")return u;if(u)return!1;if(!t.include_docs)delete s.doc;else if(!t.attachments)for(var c in s.doc._attachments)s.doc._attachments.hasOwnProperty(c)&&(s.doc._attachments[c].stub=!0);return!0}}function uo(t){for(var n=[],i=0,o=t.length;i<o;i++)n=n.concat(t[i]);return n}function Ic(t){var n;if(t?typeof t!="string"?n=Pt(Ec):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(n=Pt(uv)):n=Pt(av),n)throw n}function Ze(t){return typeof t._remote=="boolean"?t._remote:typeof t.type=="function"?(me("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),t.type()==="http"):!1}function hv(t,n){return"listenerCount"in t?t.listenerCount(n):ce.listenerCount(t,n)}function ca(t){if(!t)return null;var n=t.split("/");return n.length===2?n:n.length===1?[t,t]:null}function Bc(t){var n=ca(t);return n?n.join("/"):null}var kc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Rc="queryKey",dv=/(?:^|&)([^&=]*)=?([^&]*)/g,_v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Dc(t){for(var n=_v.exec(t),i={},o=14;o--;){var s=kc[o],u=n[o]||"",c=["user","password"].indexOf(s)!==-1;i[s]=c?decodeURIComponent(u):u}return i[Rc]={},i[kc[12]].replace(dv,function(h,d,g){d&&(i[Rc][d]=g)}),i}function la(t,n){var i=[],o=[];for(var s in n)n.hasOwnProperty(s)&&(i.push(s),o.push(n[s]));return i.push(t),Function.apply(null,i).apply(null,o)}function fo(t,n,i){return new Promise(function(o,s){t.get(n,function(u,c){if(u){if(u.status!==404)return s(u);c={}}var h=c._rev,d=i(c);if(!d)return o({updated:!1,rev:h});d._id=n,d._rev=h,o(pv(t,d,i))})})}function pv(t,n,i){return t.put(n).then(function(o){return{updated:!0,rev:o.rev}},function(o){if(o.status!==409)throw o;return fo(t,n._id,i)})}var ha=function(t){return atob(t)},Xi=function(t){return btoa(t)};function da(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(u){if(u.name!=="TypeError")throw u;for(var i=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,o=new i,s=0;s<t.length;s+=1)o.append(t[s]);return o.getBlob(n.type)}}function vv(t){for(var n=t.length,i=new ArrayBuffer(n),o=new Uint8Array(i),s=0;s<n;s++)o[s]=t.charCodeAt(s);return i}function _a(t,n){return da([vv(t)],{type:n})}function pa(t,n){return _a(ha(t),n)}function mv(t){for(var n="",i=new Uint8Array(t),o=i.byteLength,s=0;s<o;s++)n+=String.fromCharCode(i[s]);return n}function zc(t,n){var i=new FileReader,o=typeof i.readAsBinaryString=="function";i.onloadend=function(s){var u=s.target.result||"";if(o)return n(u);n(mv(u))},o?i.readAsBinaryString(t):i.readAsArrayBuffer(t)}function Nc(t,n){zc(t,function(i){n(i)})}function va(t,n){Nc(t,function(i){n(Xi(i))})}function gv(t,n){var i=new FileReader;i.onloadend=function(o){var s=o.target.result||new ArrayBuffer(0);n(s)},i.readAsArrayBuffer(t)}var yv=self.setImmediate||self.setTimeout,wv=32768;function bv(t){return Xi(t)}function xv(t,n,i){return t.webkitSlice?t.webkitSlice(n,i):t.slice(n,i)}function Pv(t,n,i,o,s){(i>0||o<n.size)&&(n=xv(n,i,o)),gv(n,function(u){t.append(u),s()})}function Lv(t,n,i,o,s){(i>0||o<n.length)&&(n=n.substring(i,o)),t.appendBinary(n),s()}function ma(t,n){var i=typeof t=="string",o=i?t.length:t.size,s=Math.min(wv,o),u=Math.ceil(o/s),c=0,h=i?new ea:new ea.ArrayBuffer,d=i?Lv:Pv;function g(){yv(p)}function T(){var b=h.end(!0),A=bv(b);n(A),h.destroy()}function p(){var b=c*s,A=b+s;c++,c<u?d(h,t,b,A,g):d(h,t,b,A,T)}p()}function Zc(t){return ea.hash(t)}function qc(t,n){var i=Jt(t);return n?(delete i._rev_tree,Zc(JSON.stringify(i))):cc().replace(/-/g,"").toLowerCase()}var co=cc;function Mn(t){for(var n,i,o,s=t.rev_tree.slice(),u;u=s.pop();){var c=u.ids,h=c[2],d=u.pos;if(h.length){for(var g=0,T=h.length;g<T;g++)s.push({pos:d+1,ids:h[g]});continue}var p=!!c[1].deleted,b=c[0];(!n||(o!==p?o:i!==d?i<d:n<b))&&(n=b,i=d,o=p)}return i+"-"+n}function In(t,n){for(var i=t.slice(),o;o=i.pop();)for(var s=o.pos,u=o.ids,c=u[2],h=n(c.length===0,s,u[0],o.ctx,u[1]),d=0,g=c.length;d<g;d++)i.push({pos:s+1,ids:c[d],ctx:h})}function Tv(t,n){return t.pos-n.pos}function ga(t){var n=[];In(t,function(s,u,c,h,d){s&&n.push({rev:u+"-"+c,pos:u,opts:d})}),n.sort(Tv).reverse();for(var i=0,o=n.length;i<o;i++)delete n[i].pos;return n}function ya(t){for(var n=Mn(t),i=ga(t.rev_tree),o=[],s=0,u=i.length;s<u;s++){var c=i[s];c.rev!==n&&!c.opts.deleted&&o.push(c.rev)}return o}function Cv(t){var n=[];return In(t.rev_tree,function(i,o,s,u,c){c.status==="available"&&!i&&(n.push(o+"-"+s),c.status="missing")}),n}function Fc(t){for(var n=[],i=t.slice(),o;o=i.pop();){var s=o.pos,u=o.ids,c=u[0],h=u[1],d=u[2],g=d.length===0,T=o.history?o.history.slice():[];T.push({id:c,opts:h}),g&&n.push({pos:s+1-T.length,ids:T});for(var p=0,b=d.length;p<b;p++)i.push({pos:s+1,ids:d[p],history:T})}return n.reverse()}function Ev(t,n){return t.pos-n.pos}function Sv(t,n,i){for(var o=0,s=t.length,u;o<s;)u=o+s>>>1,i(t[u],n)<0?o=u+1:s=u;return o}function Av(t,n,i){var o=Sv(t,n,i);t.splice(o,0,n)}function jc(t,n){for(var i,o,s=n,u=t.length;s<u;s++){var c=t[s],h=[c.id,c.opts,[]];o?(o[2].push(h),o=h):i=o=h}return i}function Ov(t,n){return t[0]<n[0]?-1:1}function Uc(t,n){for(var i=[{tree1:t,tree2:n}],o=!1;i.length>0;){var s=i.pop(),u=s.tree1,c=s.tree2;(u[1].status||c[1].status)&&(u[1].status=u[1].status==="available"||c[1].status==="available"?"available":"missing");for(var h=0;h<c[2].length;h++){if(!u[2][0]){o="new_leaf",u[2][0]=c[2][h];continue}for(var d=!1,g=0;g<u[2].length;g++)u[2][g][0]===c[2][h][0]&&(i.push({tree1:u[2][g],tree2:c[2][h]}),d=!0);d||(o="new_branch",Av(u[2],c[2][h],Ov))}}return{conflicts:o,tree:t}}function $c(t,n,i){var o=[],s=!1,u=!1,c;if(!t.length)return{tree:[n],conflicts:"new_leaf"};for(var h=0,d=t.length;h<d;h++){var g=t[h];if(g.pos===n.pos&&g.ids[0]===n.ids[0])c=Uc(g.ids,n.ids),o.push({pos:g.pos,ids:c.tree}),s=s||c.conflicts,u=!0;else if(i!==!0){var T=g.pos<n.pos?g:n,p=g.pos<n.pos?n:g,b=p.pos-T.pos,A=[],y=[];for(y.push({ids:T.ids,diff:b,parent:null,parentIdx:null});y.length>0;){var E=y.pop();if(E.diff===0){E.ids[0]===p.ids[0]&&A.push(E);continue}for(var M=E.ids[2],P=0,x=M.length;P<x;P++)y.push({ids:M[P],diff:E.diff-1,parent:E.ids,parentIdx:P})}var _=A[0];_?(c=Uc(_.ids,p.ids),_.parent[2][_.parentIdx]=c.tree,o.push({pos:T.pos,ids:T.ids}),s=s||c.conflicts,u=!0):o.push(g)}else o.push(g)}return u||o.push(n),o.sort(Ev),{tree:o,conflicts:s||"internal_node"}}function Mv(t,n){for(var i=Fc(t),o,s,u=0,c=i.length;u<c;u++){var h=i[u],d=h.ids,g;if(d.length>n){o||(o={});var T=d.length-n;g={pos:h.pos+T,ids:jc(d,T)};for(var p=0;p<T;p++){var b=h.pos+p+"-"+d[p].id;o[b]=!0}}else g={pos:h.pos,ids:jc(d,0)};s?s=$c(s,g,!0).tree:s=[g]}return o&&In(s,function(A,y,E){delete o[y+"-"+E]}),{tree:s,revs:o?Object.keys(o):[]}}function Hc(t,n,i){var o=$c(t,n),s=Mv(o.tree,i);return{tree:s.tree,stemmedRevs:s.revs,conflicts:o.conflicts}}function Iv(t,n){for(var i=t.slice(),o=n.split("-"),s=parseInt(o[0],10),u=o[1],c;c=i.pop();){if(c.pos===s&&c.ids[0]===u)return!0;for(var h=c.ids[2],d=0,g=h.length;d<g;d++)i.push({pos:c.pos+1,ids:h[d]})}return!1}function Bv(t){return t.ids}function nn(t,n){n||(n=Mn(t));for(var i=n.substring(n.indexOf("-")+1),o=t.rev_tree.map(Bv),s;s=o.pop();){if(s[0]===i)return!!s[1].deleted;o=o.concat(s[2])}}function Bn(t){return/^_local/.test(t)}function kv(t,n){for(var i=n.rev_tree.slice(),o;o=i.pop();){var s=o.pos,u=o.ids,c=u[0],h=u[1],d=u[2],g=d.length===0,T=o.history?o.history.slice():[];if(T.push({id:c,pos:s,opts:h}),g)for(var p=0,b=T.length;p<b;p++){var A=T[p],y=A.pos+"-"+A.id;if(y===t)return s+"-"+c}for(var E=0,M=d.length;E<M;E++)i.push({pos:s+1,ids:d[E],history:T})}throw new Error("Unable to resolve latest revision for id "+n.id+", rev "+t)}Le(tr,ce);function Rv(t,n,i,o){try{t.emit("change",n,i,o)}catch(s){me("error",'Error in .on("change", function):',s)}}function tr(t,n,i){ce.call(this);var o=this;this.db=t,n=n?Jt(n):{};var s=n.complete=Pc(function(h,d){h?hv(o,"error")>0&&o.emit("error",h):o.emit("complete",d),o.removeAllListeners(),t.removeListener("destroyed",u)});i&&(o.on("complete",function(h){i(null,h)}),o.on("error",i));function u(){o.cancel()}t.once("destroyed",u),n.onChange=function(h,d,g){o.isCancelled||Rv(o,h,d,g)};var c=new Promise(function(h,d){n.complete=function(g,T){g?d(g):h(T)}});o.once("cancel",function(){t.removeListener("destroyed",u),n.complete(null,{status:"cancelled"})}),this.then=c.then.bind(c),this.catch=c.catch.bind(c),this.then(function(h){s(null,h)},s),t.taskqueue.isReady?o.validateChanges(n):t.taskqueue.addTask(function(h){h?n.complete(h):o.isCancelled?o.emit("cancel"):o.validateChanges(n)})}tr.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")};function Dv(t,n,i){var o=[{rev:t._rev}];i.style==="all_docs"&&(o=ga(n.rev_tree).map(function(u){return{rev:u.rev}}));var s={id:n.id,changes:o,doc:t};return nn(n,t._rev)&&(s.deleted=!0),i.conflicts&&(s.doc._conflicts=ya(n),s.doc._conflicts.length||delete s.doc._conflicts),s}tr.prototype.validateChanges=function(t){var n=t.complete,i=this;Lt._changesFilterPlugin?Lt._changesFilterPlugin.validate(t,function(o){if(o)return n(o);i.doChanges(t)}):i.doChanges(t)};tr.prototype.doChanges=function(t){var n=this,i=t.complete;if(t=Jt(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=Dv,t.since==="latest"&&(t.since="now"),t.since||(t.since=0),t.since==="now"){this.db.info().then(function(u){if(n.isCancelled){i(null,{status:"cancelled"});return}t.since=u.update_seq,n.doChanges(t)},i);return}if(Lt._changesFilterPlugin){if(Lt._changesFilterPlugin.normalize(t),Lt._changesFilterPlugin.shouldFilter(this,t))return Lt._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(u){u in t&&me("warn",'The "'+u+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=t.limit===0?1:t.limit,t.complete=i;var o=this.db._changes(t);if(o&&typeof o.cancel=="function"){var s=n.cancel;n.cancel=hi(function(u){o.cancel(),s.apply(this,u)})}};function Wc(t,n){return t<n?-1:t>n?1:0}function wa(t,n){return function(i,o){i||o[0]&&o[0].error?(i=i||o[0],i.docId=n,t(i)):t(null,o.length?o[0]:o)}}function zv(t){for(var n=0;n<t.length;n++){var i=t[n];if(i._deleted)delete i._attachments;else if(i._attachments)for(var o=Object.keys(i._attachments),s=0;s<o.length;s++){var u=o[s];i._attachments[u]=Qi(i._attachments[u],["data","digest","content_type","length","revpos","stub"])}}}function Nv(t,n){var i=Wc(t._id,n._id);if(i!==0)return i;var o=t._revisions?t._revisions.start:0,s=n._revisions?n._revisions.start:0;return Wc(o,s)}function Zv(t){var n={},i=[];return In(t,function(o,s,u,c){var h=s+"-"+u;return o&&(n[h]=0),c!==void 0&&i.push({from:c,to:h}),h}),i.reverse(),i.forEach(function(o){n[o.from]===void 0?n[o.from]=1+n[o.to]:n[o.from]=Math.min(n[o.from],1+n[o.to])}),n}function qv(t){var n="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=n,t.skip=0,delete t.limit,t.descending&&(n.reverse(),t.descending=!1)}function Kc(t){var n=t._compactionQueue[0],i=n.opts,o=n.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(s){s&&s.last_seq&&(i.last_seq=s.last_seq),t._compact(i,function(u,c){u?o(u):o(null,c),Ne(function(){t._compactionQueue.shift(),t._compactionQueue.length&&Kc(t)})})})}function Fv(t){return t.charAt(0)==="_"?t+" is not a valid attachment name, attachment names cannot start with '_'":!1}Le(Ft,ce);function Ft(){ce.call(this);for(var t in Ft.prototype)typeof this[t]=="function"&&(this[t]=this[t].bind(this))}Ft.prototype.post=Kt("post",function(t,n,i){if(typeof n=="function"&&(i=n,n={}),typeof t!="object"||Array.isArray(t))return i(Pt(aa));this.bulkDocs({docs:[t]},n,wa(i,t._id))});Ft.prototype.put=Kt("put",function(t,n,i){if(typeof n=="function"&&(i=n,n={}),typeof t!="object"||Array.isArray(t))return i(Pt(aa));if(Ic(t._id),Bn(t._id)&&typeof this._putLocal=="function")return t._deleted?this._removeLocal(t,i):this._putLocal(t,i);var o=this;n.force&&t._rev?(s(),u(function(c){var h=c?null:{ok:!0,id:t._id,rev:t._rev};i(c,h)})):u(i);function s(){var c=t._rev.split("-"),h=c[1],d=parseInt(c[0],10),g=d+1,T=qc();t._revisions={start:g,ids:[T,h]},t._rev=g+"-"+T,n.new_edits=!1}function u(c){typeof o._put=="function"&&n.new_edits!==!1?o._put(t,n,c):o.bulkDocs({docs:[t]},n,wa(c,t._id))}});Ft.prototype.putAttachment=Kt("putAttachment",function(t,n,i,o,s){var u=this;typeof s=="function"&&(s=o,o=i,i=null),typeof s=="undefined"&&(s=o,o=i,i=null),s||me("warn","Attachment",n,"on document",t,"is missing content_type");function c(h){var d="_rev"in h?parseInt(h._rev,10):0;return h._attachments=h._attachments||{},h._attachments[n]={content_type:s,data:o,revpos:++d},u.put(h)}return u.get(t).then(function(h){if(h._rev!==i)throw Pt(mi);return c(h)},function(h){if(h.reason===Te.message)return c({_id:t});throw h})});Ft.prototype.removeAttachment=Kt("removeAttachment",function(t,n,i,o){var s=this;s.get(t,function(u,c){if(u){o(u);return}if(c._rev!==i){o(Pt(mi));return}if(!c._attachments)return o();delete c._attachments[n],Object.keys(c._attachments).length===0&&delete c._attachments,s.put(c,o)})});Ft.prototype.remove=Kt("remove",function(t,n,i,o){var s;typeof n=="string"?(s={_id:t,_rev:n},typeof i=="function"&&(o=i,i={})):(s=t,typeof n=="function"?(o=n,i={}):(o=i,i=n)),i=i||{},i.was_delete=!0;var u={_id:s._id,_rev:s._rev||i.rev};if(u._deleted=!0,Bn(u._id)&&typeof this._removeLocal=="function")return this._removeLocal(s,o);this.bulkDocs({docs:[u]},i,wa(o,u._id))});Ft.prototype.revsDiff=Kt("revsDiff",function(t,n,i){typeof n=="function"&&(i=n,n={});var o=Object.keys(t);if(!o.length)return i(null,{});var s=0,u=new le;function c(d,g){u.has(d)||u.set(d,{missing:[]}),u.get(d).missing.push(g)}function h(d,g){var T=t[d].slice(0);In(g,function(p,b,A,y,E){var M=b+"-"+A,P=T.indexOf(M);P!==-1&&(T.splice(P,1),E.status!=="available"&&c(d,M))}),T.forEach(function(p){c(d,p)})}o.map(function(d){this._getRevisionTree(d,function(g,T){if(g&&g.status===404&&g.message==="missing")u.set(d,{missing:t[d]});else{if(g)return i(g);h(d,T)}if(++s===o.length){var p={};return u.forEach(function(b,A){p[A]=b}),i(null,p)}})},this)});Ft.prototype.bulkGet=Kt("bulkGet",function(t,n){Cc(this,t,n)});Ft.prototype.compactDocument=Kt("compactDocument",function(t,n,i){var o=this;this._getRevisionTree(t,function(s,u){if(s)return i(s);var c=Zv(u),h=[],d=[];Object.keys(c).forEach(function(g){c[g]>n&&h.push(g)}),In(u,function(g,T,p,b,A){var y=T+"-"+p;A.status==="available"&&h.indexOf(y)!==-1&&d.push(y)}),o._doCompaction(t,d,i)})});Ft.prototype.compact=Kt("compact",function(t,n){typeof t=="function"&&(n=t,t={});var i=this;t=t||{},i._compactionQueue=i._compactionQueue||[],i._compactionQueue.push({opts:t,callback:n}),i._compactionQueue.length===1&&Kc(i)});Ft.prototype._compact=function(t,n){var i=this,o={return_docs:!1,last_seq:t.last_seq||0},s=[];function u(h){s.push(i.compactDocument(h.id,0))}function c(h){var d=h.last_seq;Promise.all(s).then(function(){return fo(i,"_local/compaction",function(T){return!T.last_seq||T.last_seq<d?(T.last_seq=d,T):!1})}).then(function(){n(null,{ok:!0})}).catch(n)}i.changes(o).on("change",u).on("complete",c).on("error",n)};Ft.prototype.get=Kt("get",function(t,n,i){if(typeof n=="function"&&(i=n,n={}),typeof t!="string")return i(Pt(Ec));if(Bn(t)&&typeof this._getLocal=="function")return this._getLocal(t,i);var o=[],s=this;function u(){var d=[],g=o.length;if(!g)return i(null,d);o.forEach(function(T){s.get(t,{rev:T,revs:n.revs,latest:n.latest,attachments:n.attachments,binary:n.binary},function(p,b){if(p)d.push({missing:T});else{for(var A,y=0,E=d.length;y<E;y++)if(d[y].ok&&d[y].ok._rev===b._rev){A=!0;break}A||d.push({ok:b})}g--,g||i(null,d)})})}if(n.open_revs){if(n.open_revs==="all")this._getRevisionTree(t,function(d,g){if(d)return i(d);o=ga(g).map(function(T){return T.rev}),u()});else if(Array.isArray(n.open_revs)){o=n.open_revs;for(var c=0;c<o.length;c++){var h=o[c];if(!(typeof h=="string"&&/^\d+-/.test(h)))return i(Pt(Mc))}u()}else return i(Pt(Sc,"function_clause"));return}return this._get(t,n,function(d,g){if(d)return d.docId=t,i(d);var T=g.doc,p=g.metadata,b=g.ctx;if(n.conflicts){var A=ya(p);A.length&&(T._conflicts=A)}if(nn(p,T._rev)&&(T._deleted=!0),n.revs||n.revs_info){for(var y=T._rev.split("-"),E=parseInt(y[0],10),M=y[1],P=Fc(p.rev_tree),x=null,_=0;_<P.length;_++){var v=P[_],w=v.ids.map(function(gt){return gt.id}).indexOf(M),C=w===E-1;(C||!x&&w!==-1)&&(x=v)}if(!x)return d=new Error("invalid rev tree"),d.docId=t,i(d);var F=x.ids.map(function(gt){return gt.id}).indexOf(T._rev.split("-")[1])+1,Q=x.ids.length-F;if(x.ids.splice(F,Q),x.ids.reverse(),n.revs&&(T._revisions={start:x.pos+x.ids.length-1,ids:x.ids.map(function(gt){return gt.id})}),n.revs_info){var it=x.pos+x.ids.length;T._revs_info=x.ids.map(function(gt){return it--,{rev:it+"-"+gt.id,status:gt.opts.status}})}}if(n.attachments&&T._attachments){var X=T._attachments,rt=Object.keys(X).length;if(rt===0)return i(null,T);Object.keys(X).forEach(function(gt){this._getAttachment(T._id,gt,X[gt],{rev:T._rev,binary:n.binary,ctx:b},function(lt,_t){var ut=T._attachments[gt];ut.data=_t,delete ut.stub,delete ut.length,--rt||i(null,T)})},s)}else{if(T._attachments)for(var ft in T._attachments)T._attachments.hasOwnProperty(ft)&&(T._attachments[ft].stub=!0);i(null,T)}})});Ft.prototype.getAttachment=Kt("getAttachment",function(t,n,i,o){var s=this;i instanceof Function&&(o=i,i={}),this._get(t,i,function(u,c){if(u)return o(u);if(c.doc._attachments&&c.doc._attachments[n])i.ctx=c.ctx,i.binary=!0,s._getAttachment(t,n,c.doc._attachments[n],i,o);else return o(Pt(Te))})});Ft.prototype.allDocs=Kt("allDocs",function(t,n){if(typeof t=="function"&&(n=t,t={}),t.skip=typeof t.skip!="undefined"?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return n(new TypeError("options.keys must be an array"));var i=["startkey","endkey","key"].filter(function(o){return o in t})[0];if(i){n(Pt(fv,"Query parameter `"+i+"` is not compatible with multi-get"));return}if(!Ze(this)&&(qv(t),t.keys.length===0))return this._allDocs({limit:0},n)}return this._allDocs(t,n)});Ft.prototype.changes=function(t,n){return typeof t=="function"&&(n=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new tr(this,t,n)};Ft.prototype.close=Kt("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)});Ft.prototype.info=Kt("info",function(t){var n=this;this._info(function(i,o){if(i)return t(i);o.db_name=o.db_name||n.name,o.auto_compaction=!!(n.auto_compaction&&!Ze(n)),o.adapter=n.adapter,t(null,o)})});Ft.prototype.id=Kt("id",function(t){return this._id(t)});Ft.prototype.type=function(){return typeof this._type=="function"?this._type():this.adapter};Ft.prototype.bulkDocs=Kt("bulkDocs",function(t,n,i){if(typeof n=="function"&&(i=n,n={}),n=n||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return i(Pt(sv));for(var o=0;o<t.docs.length;++o)if(typeof t.docs[o]!="object"||Array.isArray(t.docs[o]))return i(Pt(aa));var s;if(t.docs.forEach(function(h){h._attachments&&Object.keys(h._attachments).forEach(function(d){s=s||Fv(d),h._attachments[d].content_type||me("warn","Attachment",d,"on document",h._id,"is missing content_type")})}),s)return i(Pt(ao,s));"new_edits"in n||("new_edits"in t?n.new_edits=t.new_edits:n.new_edits=!0);var u=this;!n.new_edits&&!Ze(u)&&t.docs.sort(Nv),zv(t.docs);var c=t.docs.map(function(h){return h._id});return this._bulkDocs(t,n,function(h,d){if(h)return i(h);if(n.new_edits||(d=d.filter(function(p){return p.error})),!Ze(u))for(var g=0,T=d.length;g<T;g++)d[g].id=d[g].id||c[g];i(null,d)})});Ft.prototype.registerDependentDatabase=Kt("registerDependentDatabase",function(t,n){var i=new this.constructor(t,this.__opts);function o(s){return s.dependentDbs=s.dependentDbs||{},s.dependentDbs[t]?!1:(s.dependentDbs[t]=!0,s)}fo(this,"_local/_pouch_dependentDbs",o).then(function(){n(null,{db:i})}).catch(n)});Ft.prototype.destroy=Kt("destroy",function(t,n){typeof t=="function"&&(n=t,t={});var i=this,o="use_prefix"in i?i.use_prefix:!0;function s(){i._destroy(t,function(u,c){if(u)return n(u);i._destroyed=!0,i.emit("destroyed"),n(null,c||{ok:!0})})}if(Ze(i))return s();i.get("_local/_pouch_dependentDbs",function(u,c){if(u)return u.status!==404?n(u):s();var h=c.dependentDbs,d=i.constructor,g=Object.keys(h).map(function(T){var p=o?T.replace(new RegExp("^"+d.prefix),""):T;return new d(p,i.__opts).destroy()});Promise.all(g).then(s,n)})});function er(){this.isReady=!1,this.failed=!1,this.queue=[]}er.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()};er.prototype.fail=function(t){this.failed=t,this.execute()};er.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()};er.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()};function jv(t,n){var i=t.match(/([a-z-]*):\/\/(.*)/);if(i)return{name:/https?/.test(i[1])?i[1]+"://"+i[2]:i[2],adapter:i[1]};var o=Lt.adapters,s=Lt.preferredAdapters,u=Lt.prefix,c=n.adapter;if(!c)for(var h=0;h<s.length;++h){if(c=s[h],c==="idb"&&"websql"in o&&so()&&localStorage["_pouch__websqldb_"+u+t]){me("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var d=o[c],g=d&&"use_prefix"in d?d.use_prefix:!0;return{name:g?u+t:t,adapter:c}}function Uv(t){function n(o){t.removeListener("closed",i),o||t.constructor.emit("destroyed",t.name)}function i(){t.removeListener("destroyed",n),t.constructor.emit("unref",t)}t.once("destroyed",n),t.once("closed",i),t.constructor.emit("ref",t)}Le(Lt,Ft);function Lt(t,n){if(!(this instanceof Lt))return new Lt(t,n);var i=this;if(n=n||{},t&&typeof t=="object"&&(n=t,t=n.name,delete n.name),n.deterministic_revs===void 0&&(n.deterministic_revs=!0),this.__opts=n=Jt(n),i.auto_compaction=n.auto_compaction,i.prefix=Lt.prefix,typeof t!="string")throw new Error("Missing/invalid DB name");var o=(n.prefix||"")+t,s=jv(o,n);if(n.name=s.name,n.adapter=n.adapter||s.adapter,i.name=t,i._adapter=n.adapter,Lt.emit("debug",["adapter","Picked adapter: ",n.adapter]),!Lt.adapters[n.adapter]||!Lt.adapters[n.adapter].valid())throw new Error("Invalid Adapter: "+n.adapter);Ft.call(i),i.taskqueue=new er,i.adapter=n.adapter,Lt.adapters[n.adapter].call(i,n,function(u){if(u)return i.taskqueue.fail(u);Uv(i),i.emit("created",i),Lt.emit("created",i.name),i.taskqueue.ready(i)})}var $v=typeof AbortController!="undefined"?AbortController:function(){return{abort:function(){}}},Gc=fetch,yi=Headers;Lt.adapters={};Lt.preferredAdapters=[];Lt.prefix="_pouch_";var Jc=new ce;function Hv(t){Object.keys(ce.prototype).forEach(function(i){typeof ce.prototype[i]=="function"&&(t[i]=Jc[i].bind(Jc))});var n=t._destructionListeners=new le;t.on("ref",function(o){n.has(o.name)||n.set(o.name,[]),n.get(o.name).push(o)}),t.on("unref",function(o){if(!!n.has(o.name)){var s=n.get(o.name),u=s.indexOf(o);u<0||(s.splice(u,1),s.length>1?n.set(o.name,s):n.delete(o.name))}}),t.on("destroyed",function(o){if(!!n.has(o)){var s=n.get(o);n.delete(o),s.forEach(function(u){u.emit("destroyed",!0)})}})}Hv(Lt);Lt.adapter=function(t,n,i){n.valid()&&(Lt.adapters[t]=n,i&&Lt.preferredAdapters.push(t))};Lt.plugin=function(t){if(typeof t=="function")t(Lt);else{if(typeof t!="object"||Object.keys(t).length===0)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(n){Lt.prototype[n]=t[n]})}return this.__defaults&&(Lt.__defaults=vi({},this.__defaults)),Lt};Lt.defaults=function(t){function n(i,o){if(!(this instanceof n))return new n(i,o);o=o||{},i&&typeof i=="object"&&(o=i,i=o.name,delete o.name),o=vi({},n.__defaults,o),Lt.call(this,i,o)}return Le(n,Lt),n.preferredAdapters=Lt.preferredAdapters.slice(),Object.keys(Lt).forEach(function(i){i in n||(n[i]=Lt[i])}),n.__defaults=vi({},this.__defaults,t),n};Lt.fetch=function(t,n){return Gc(t,n)};var Wv="7.2.2";function Vc(t,n){for(var i=t,o=0,s=n.length;o<s;o++){var u=n[o];if(i=i[u],!i)break}return i}function Kv(t,n){return t<n?-1:t>n?1:0}function Yc(t){for(var n=[],i="",o=0,s=t.length;o<s;o++){var u=t[o];u==="."?o>0&&t[o-1]==="\\"?i=i.substring(0,i.length-1)+".":(n.push(i),i=""):i+=u}return n.push(i),n}var Gv=["$or","$nor","$not"];function Qc(t){return Gv.indexOf(t)>-1}function Xc(t){return Object.keys(t)[0]}function Jv(t){return t[Xc(t)]}function nr(t){var n={};return t.forEach(function(i){Object.keys(i).forEach(function(o){var s=i[o];if(typeof s!="object"&&(s={$eq:s}),Qc(o))s instanceof Array?n[o]=s.map(function(c){return nr([c])}):n[o]=nr([s]);else{var u=n[o]=n[o]||{};Object.keys(s).forEach(function(c){var h=s[c];if(c==="$gt"||c==="$gte")return Vv(c,h,u);if(c==="$lt"||c==="$lte")return Yv(c,h,u);if(c==="$ne")return Qv(h,u);if(c==="$eq")return Xv(h,u);u[c]=h})}})}),n}function Vv(t,n,i){typeof i.$eq=="undefined"&&(typeof i.$gte!="undefined"?t==="$gte"?n>i.$gte&&(i.$gte=n):n>=i.$gte&&(delete i.$gte,i.$gt=n):typeof i.$gt!="undefined"?t==="$gte"?n>i.$gt&&(delete i.$gt,i.$gte=n):n>i.$gt&&(i.$gt=n):i[t]=n)}function Yv(t,n,i){typeof i.$eq=="undefined"&&(typeof i.$lte!="undefined"?t==="$lte"?n<i.$lte&&(i.$lte=n):n<=i.$lte&&(delete i.$lte,i.$lt=n):typeof i.$lt!="undefined"?t==="$lte"?n<i.$lt&&(delete i.$lt,i.$lte=n):n<i.$lt&&(i.$lt=n):i[t]=n)}function Qv(t,n){"$ne"in n?n.$ne.push(t):n.$ne=[t]}function Xv(t,n){delete n.$gt,delete n.$gte,delete n.$lt,delete n.$lte,delete n.$ne,n.$eq=t}function tl(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=nr(t[i].$and));var o=t[n];typeof o=="object"&&tl(o)}return t}function el(t,n){for(var i in t){i==="$and"&&(n=!0);var o=t[i];typeof o=="object"&&(n=el(o,n))}return n}function tm(t){var n=Jt(t),i=!1;el(n,!1)&&(n=tl(n),"$and"in n&&(n=nr(n.$and)),i=!0),["$or","$nor"].forEach(function(h){h in n&&n[h].forEach(function(d){for(var g=Object.keys(d),T=0;T<g.length;T++){var p=g[T],b=d[p];(typeof b!="object"||b===null)&&(d[p]={$eq:b})}})}),"$not"in n&&(n.$not=nr([n.$not]));for(var o=Object.keys(n),s=0;s<o.length;s++){var u=o[s],c=n[u];typeof c!="object"||c===null?c={$eq:c}:"$ne"in c&&!i&&(c.$ne=[c.$ne]),n[u]=c}return n}function em(t,n,i){for(var o="",s=i-t.length;o.length<s;)o+=n;return o}function nm(t,n,i){var o=em(t,n,i);return o+t}var nl=-324,ba=3,xa="";function Qt(t,n){if(t===n)return 0;t=kn(t),n=kn(n);var i=Pa(t),o=Pa(n);if(i-o!=0)return i-o;switch(typeof t){case"number":return t-n;case"boolean":return t<n?-1:1;case"string":return um(t,n)}return Array.isArray(t)?am(t,n):fm(t,n)}function kn(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var n=t;if(Array.isArray(t)){var i=t.length;t=new Array(i);for(var o=0;o<i;o++)t[o]=kn(n[o])}else{if(t instanceof Date)return t.toJSON();if(t!==null){t={};for(var s in n)if(n.hasOwnProperty(s)){var u=n[s];typeof u!="undefined"&&(t[s]=kn(u))}}}}return t}function im(t){if(t!==null)switch(typeof t){case"boolean":return t?1:0;case"number":return cm(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(t),i=n?t:Object.keys(t),o=-1,s=i.length,u="";if(n)for(;++o<s;)u+=Ce(i[o]);else for(;++o<s;){var c=i[o];u+=Ce(c)+Ce(t[c])}return u}return""}function Ce(t){var n="\0";return t=kn(t),Pa(t)+xa+im(t)+n}function rm(t,n){var i=n,o,s=t[n]==="1";if(s)o=0,n++;else{var u=t[n]==="0";n++;var c="",h=t.substring(n,n+ba),d=parseInt(h,10)+nl;for(u&&(d=-d),n+=ba;;){var g=t[n];if(g==="\0")break;c+=g,n++}c=c.split("."),c.length===1?o=parseInt(c,10):o=parseFloat(c[0]+"."+c[1]),u&&(o=o-10),d!==0&&(o=parseFloat(o+"e"+d))}return{num:o,length:n-i}}function om(t,n){var i=t.pop();if(n.length){var o=n[n.length-1];i===o.element&&(n.pop(),o=n[n.length-1]);var s=o.element,u=o.index;if(Array.isArray(s))s.push(i);else if(u===t.length-2){var c=t.pop();s[c]=i}else t.push(i)}}function sm(t){for(var n=[],i=[],o=0;;){var s=t[o++];if(s==="\0"){if(n.length===1)return n.pop();om(n,i);continue}switch(s){case"1":n.push(null);break;case"2":n.push(t[o]==="1"),o++;break;case"3":var u=rm(t,o);n.push(u.num),o+=u.length;break;case"4":for(var c="";;){var h=t[o];if(h==="\0")break;c+=h,o++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),n.push(c);break;case"5":var d={element:[],index:n.length};n.push(d.element),i.push(d);break;case"6":var g={element:{},index:n.length};n.push(g.element),i.push(g);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}}}function am(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=Qt(t[o],n[o]);if(s!==0)return s}return t.length===n.length?0:t.length>n.length?1:-1}function um(t,n){return t===n?0:t>n?1:-1}function fm(t,n){for(var i=Object.keys(t),o=Object.keys(n),s=Math.min(i.length,o.length),u=0;u<s;u++){var c=Qt(i[u],o[u]);if(c!==0||(c=Qt(t[i[u]],n[o[u]]),c!==0))return c}return i.length===o.length?0:i.length>o.length?1:-1}function Pa(t){var n=["boolean","number","string","object"],i=n.indexOf(typeof t);if(~i)return t===null?1:Array.isArray(t)?5:i<3?i+2:i+3;if(Array.isArray(t))return 5}function cm(t){if(t===0)return"1";var n=t.toExponential().split(/e\+?/),i=parseInt(n[1],10),o=t<0,s=o?"0":"2",u=(o?-i:i)-nl,c=nm(u.toString(),"0",ba);s+=xa+c;var h=Math.abs(parseFloat(n[0]));o&&(h=10-h);var d=h.toFixed(20);return d=d.replace(/\.?0+$/,""),s+=xa+d,s}function lm(t){function n(i){return t.map(function(o){var s=Xc(o),u=Yc(s),c=Vc(i,u);return c})}return function(i,o){var s=n(i.doc),u=n(o.doc),c=Qt(s,u);return c!==0?c:Kv(i.doc._id,o.doc._id)}}function hm(t,n,i){if(t=t.filter(function(c){return wi(c.doc,n.selector,i)}),n.sort){var o=lm(n.sort);t=t.sort(o),typeof n.sort[0]!="string"&&Jv(n.sort[0])==="desc"&&(t=t.reverse())}if("limit"in n||"skip"in n){var s=n.skip||0,u=("limit"in n?n.limit:t.length)+s;t=t.slice(s,u)}return t}function wi(t,n,i){return i.every(function(o){var s=n[o],u=Yc(o),c=Vc(t,u);return Qc(o)?dm(o,s,t):La(s,t,u,c)})}function La(t,n,i,o){return t?typeof t=="object"?Object.keys(t).every(function(s){var u=t[s];return _m(s,n,u,i,o)}):t===o:!0}function dm(t,n,i){return t==="$or"?n.some(function(o){return wi(i,o,Object.keys(o))}):t==="$not"?!wi(i,n,Object.keys(n)):!n.find(function(o){return wi(i,o,Object.keys(o))})}function _m(t,n,i,o,s){if(!rl[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return rl[t](n,i,o,s)}function ir(t){return typeof t!="undefined"&&t!==null}function Rn(t){return typeof t!="undefined"}function pm(t,n){var i=n[0],o=n[1];if(i===0)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(i,10)!==i)throw new Error("Divisor is not an integer");if(parseInt(o,10)!==o)throw new Error("Modulus is not an integer");return parseInt(t,10)!==t?!1:t%i===o}function il(t,n){return n.some(function(i){return t instanceof Array?t.indexOf(i)>-1:t===i})}function vm(t,n){return n.every(function(i){return t.indexOf(i)>-1})}function mm(t,n){return t.length===n}function gm(t,n){var i=new RegExp(n);return i.test(t)}function ym(t,n){switch(n){case"null":return t===null;case"boolean":return typeof t=="boolean";case"number":return typeof t=="number";case"string":return typeof t=="string";case"array":return t instanceof Array;case"object":return{}.toString.call(t)==="[object Object]"}throw new Error(n+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var rl={$elemMatch:function(t,n,i,o){return!Array.isArray(o)||o.length===0?!1:typeof o[0]=="object"?o.some(function(s){return wi(s,n,Object.keys(n))}):o.some(function(s){return La(n,t,i,s)})},$allMatch:function(t,n,i,o){return!Array.isArray(o)||o.length===0?!1:typeof o[0]=="object"?o.every(function(s){return wi(s,n,Object.keys(n))}):o.every(function(s){return La(n,t,i,s)})},$eq:function(t,n,i,o){return Rn(o)&&Qt(o,n)===0},$gte:function(t,n,i,o){return Rn(o)&&Qt(o,n)>=0},$gt:function(t,n,i,o){return Rn(o)&&Qt(o,n)>0},$lte:function(t,n,i,o){return Rn(o)&&Qt(o,n)<=0},$lt:function(t,n,i,o){return Rn(o)&&Qt(o,n)<0},$exists:function(t,n,i,o){return n?Rn(o):!Rn(o)},$mod:function(t,n,i,o){return ir(o)&&pm(o,n)},$ne:function(t,n,i,o){return n.every(function(s){return Qt(o,s)!==0})},$in:function(t,n,i,o){return ir(o)&&il(o,n)},$nin:function(t,n,i,o){return ir(o)&&!il(o,n)},$size:function(t,n,i,o){return ir(o)&&mm(o,n)},$all:function(t,n,i,o){return Array.isArray(o)&&vm(o,n)},$regex:function(t,n,i,o){return ir(o)&&gm(o,n)},$type:function(t,n,i,o){return ym(o,n)}};function wm(t,n){if(typeof n!="object")throw new Error("Selector error: expected a JSON object");n=tm(n);var i={doc:t},o=hm([i],{selector:n},Object.keys(n));return o&&o.length===1}function bm(t){return la(`"use strict";
return `+t+";",{})}function xm(t){var n=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return la(n,{})}function Pm(t,n){if(t.selector&&t.filter&&t.filter!=="_selector"){var i=typeof t.filter=="string"?t.filter:"function";return n(new Error('selector invalid for filter "'+i+'"'))}n()}function Lm(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&typeof t.filter=="string"&&(t.filter==="_view"?t.view=Bc(t.view):t.filter=Bc(t.filter))}function Tm(t,n){return n.filter&&typeof n.filter=="string"&&!n.doc_ids&&!Ze(t.db)}function Cm(t,n){var i=n.complete;if(n.filter==="_view"){if(!n.view||typeof n.view!="string"){var o=Pt(ao,"`view` filter parameter not found or invalid.");return i(o)}var s=ca(n.view);t.db.get("_design/"+s[0],function(c,h){if(t.isCancelled)return i(null,{status:"cancelled"});if(c)return i(gi(c));var d=h&&h.views&&h.views[s[1]]&&h.views[s[1]].map;if(!d)return i(Pt(Te,h.views?"missing json key: "+s[1]:"missing json key: views"));n.filter=xm(d),t.doChanges(n)})}else if(n.selector)n.filter=function(c){return wm(c,n.selector)},t.doChanges(n);else{var u=ca(n.filter);t.db.get("_design/"+u[0],function(c,h){if(t.isCancelled)return i(null,{status:"cancelled"});if(c)return i(gi(c));var d=h&&h.filters&&h.filters[u[1]];if(!d)return i(Pt(Te,h&&h.filters?"missing json key: "+u[1]:"missing json key: filters"));n.filter=bm(d),t.doChanges(n)})}}function Em(t){t._changesFilterPlugin={validate:Pm,normalize:Lm,shouldFilter:Tm,filter:Cm}}Lt.plugin(Em);Lt.version=Wv;function ol(t){return t.reduce(function(n,i){return n[i]=!0,n},{})}var Sm=ol(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Am=ol(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function sl(t){if(!/^\d+-/.test(t))return Pt(Mc);var n=t.indexOf("-"),i=t.substring(0,n),o=t.substring(n+1);return{prefix:parseInt(i,10),id:o}}function Om(t,n){for(var i=t.start-t.ids.length+1,o=t.ids,s=[o[0],n,[]],u=1,c=o.length;u<c;u++)s=[o[u],{status:"missing"},[s]];return[{pos:i,ids:s}]}function al(t,n,i){i||(i={deterministic_revs:!0});var o,s,u,c={status:"available"};if(t._deleted&&(c.deleted=!0),n)if(t._id||(t._id=co()),s=qc(t,i.deterministic_revs),t._rev){if(u=sl(t._rev),u.error)return u;t._rev_tree=[{pos:u.prefix,ids:[u.id,{status:"missing"},[[s,c,[]]]]}],o=u.prefix+1}else t._rev_tree=[{pos:1,ids:[s,c,[]]}],o=1;else if(t._revisions&&(t._rev_tree=Om(t._revisions,c),o=t._revisions.start,s=t._revisions.ids[0]),!t._rev_tree){if(u=sl(t._rev),u.error)return u;o=u.prefix,s=u.id,t._rev_tree=[{pos:o,ids:[s,c,[]]}]}Ic(t._id),t._rev=o+"-"+s;var h={metadata:{},data:{}};for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var g=d[0]==="_";if(g&&!Sm[d]){var T=Pt(Oc,d);throw T.message=Oc.message+": "+d,T}else g&&!Am[d]?h.metadata[d.slice(1)]=t[d]:h.data[d]=t[d]}return h}function Mm(t){try{return ha(t)}catch{var n=Pt(Ac,"Attachment is not a valid base64 string");return{error:n}}}function Im(t,n,i){var o=Mm(t.data);if(o.error)return i(o.error);t.length=o.length,n==="blob"?t.data=_a(o,t.content_type):n==="base64"?t.data=Xi(o):t.data=o,ma(o,function(s){t.digest="md5-"+s,i()})}function Bm(t,n,i){ma(t.data,function(o){t.digest="md5-"+o,t.length=t.data.size||t.data.length||0,n==="binary"?Nc(t.data,function(s){t.data=s,i()}):n==="base64"?va(t.data,function(s){t.data=s,i()}):i()})}function km(t,n,i){if(t.stub)return i();typeof t.data=="string"?Im(t,n,i):Bm(t,n,i)}function Rm(t,n,i){if(!t.length)return i();var o=0,s;t.forEach(function(c){var h=c.data&&c.data._attachments?Object.keys(c.data._attachments):[],d=0;if(!h.length)return u();function g(p){s=p,d++,d===h.length&&u()}for(var T in c.data._attachments)c.data._attachments.hasOwnProperty(T)&&km(c.data._attachments[T],n,g)});function u(){o++,t.length===o&&(s?i(s):i())}}function Dm(t,n,i,o,s,u,c,h){if(Iv(n.rev_tree,i.metadata.rev)&&!h)return o[s]=i,u();var d=n.winningRev||Mn(n),g="deleted"in n?n.deleted:nn(n,d),T="deleted"in i.metadata?i.metadata.deleted:nn(i.metadata),p=/^1-/.test(i.metadata.rev);if(g&&!T&&h&&p){var b=i.data;b._rev=d,b._id=i.metadata.id,i=al(b,h)}var A=Hc(n.rev_tree,i.metadata.rev_tree[0],t),y=h&&(g&&T&&A.conflicts!=="new_leaf"||!g&&A.conflicts!=="new_leaf"||g&&!T&&A.conflicts==="new_branch");if(y){var E=Pt(mi);return o[s]=E,u()}var M=i.metadata.rev;i.metadata.rev_tree=A.tree,i.stemmedRevs=A.stemmedRevs||[],n.rev_map&&(i.metadata.rev_map=n.rev_map);var P=Mn(i.metadata),x=nn(i.metadata,P),_=g===x?0:g<x?-1:1,v;M===P?v=x:v=nn(i.metadata,M),c(i,P,x,v,!0,_,s,u)}function zm(t){return t.metadata.rev_tree[0].ids[1].status==="missing"}function Nm(t,n,i,o,s,u,c,h,d){t=t||1e3;function g(E,M,P){var x=Mn(E.metadata),_=nn(E.metadata,x);if("was_delete"in h&&_)return u[M]=Pt(Te,"deleted"),P();var v=T&&zm(E);if(v){var w=Pt(mi);return u[M]=w,P()}var C=_?0:1;c(E,x,_,_,!1,C,M,P)}var T=h.new_edits,p=new le,b=0,A=n.length;function y(){++b===A&&d&&d()}n.forEach(function(E,M){if(E._id&&Bn(E._id)){var P=E._deleted?"_removeLocal":"_putLocal";i[P](E,{ctx:s},function(_,v){u[M]=_||v,y()});return}var x=E.metadata.id;p.has(x)?(A--,p.get(x).push([E,M])):p.set(x,[[E,M]])}),p.forEach(function(E,M){var P=0;function x(){++P<E.length?_():y()}function _(){var v=E[P],w=v[0],C=v[1];if(o.has(M))Dm(t,o.get(M),w,u,C,x,c,T);else{var F=Hc([],w.metadata.rev_tree[0],t);w.metadata.rev_tree=F.tree,w.stemmedRevs=F.stemmedRevs||[],g(w,C,x)}}_()})}var Zm=5,Gt="document-store",ee="by-sequence",ge="attach-store",Dn="attach-seq-store",ae="meta-store",qe="local-store",Ta="detect-blob-support";function qm(t){try{return JSON.parse(t)}catch{return no.parse(t)}}function Fm(t){try{return JSON.stringify(t)}catch{return no.stringify(t)}}function Fe(t){return function(n){var i="unknown_error";n.target&&n.target.error&&(i=n.target.error.name||n.target.error.message),t(Pt(ua,i,n.type))}}function Ca(t,n,i){return{data:Fm(t),winningRev:n,deletedOrLocal:i?"1":"0",seq:t.seq,id:t.id}}function zn(t){if(!t)return null;var n=qm(t.data);return n.winningRev=t.winningRev,n.deleted=t.deletedOrLocal==="1",n.seq=t.seq,n}function lo(t){if(!t)return t;var n=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,n-1),t._rev=t._doc_id_rev.substring(n+1),delete t._doc_id_rev,t}function ul(t,n,i,o){i?o(t?typeof t!="string"?t:pa(t,n):da([""],{type:n})):t?typeof t!="string"?zc(t,function(s){o(Xi(s))}):o(t):o("")}function fl(t,n,i,o){var s=Object.keys(t._attachments||{});if(!s.length)return o&&o();var u=0;function c(){++u===s.length&&o&&o()}function h(d,g){var T=d._attachments[g],p=T.digest,b=i.objectStore(ge).get(p);b.onsuccess=function(A){T.body=A.target.result.body,c()}}s.forEach(function(d){n.attachments&&n.include_docs?h(t,d):(t._attachments[d].stub=!0,c())})}function Ea(t,n){return Promise.all(t.map(function(i){if(i.doc&&i.doc._attachments){var o=Object.keys(i.doc._attachments);return Promise.all(o.map(function(s){var u=i.doc._attachments[s];if("body"in u){var c=u.body,h=u.content_type;return new Promise(function(d){ul(c,h,n,function(g){i.doc._attachments[s]=vi(Qi(u,["digest","content_type"]),{data:g}),d()})})}}))}}))}function cl(t,n,i){var o=[],s=i.objectStore(ee),u=i.objectStore(ge),c=i.objectStore(Dn),h=t.length;function d(){h--,h||g()}function g(){!o.length||o.forEach(function(T){var p=c.index("digestSeq").count(IDBKeyRange.bound(T+"::",T+"::\uFFFF",!1,!1));p.onsuccess=function(b){var A=b.target.result;A||u.delete(T)}})}t.forEach(function(T){var p=s.index("_doc_id_rev"),b=n+"::"+T;p.getKey(b).onsuccess=function(A){var y=A.target.result;if(typeof y!="number")return d();s.delete(y);var E=c.index("seq").openCursor(IDBKeyRange.only(y));E.onsuccess=function(M){var P=M.target.result;if(P){var x=P.value.digestSeq.split("::")[0];o.push(x),c.delete(P.primaryKey),P.continue()}else d()}}})}function Ee(t,n,i){try{return{txn:t.transaction(n,i)}}catch(o){return{error:o}}}var rr=new pi;function jm(t,n,i,o,s,u){for(var c=n.docs,h,d,g,T,p,b,A,y,E=0,M=c.length;E<M;E++){var P=c[E];P._id&&Bn(P._id)||(P=c[E]=al(P,i.new_edits,t),P.error&&!A&&(A=P))}if(A)return u(A);var x=!1,_=0,v=new Array(c.length),w=new le,C=!1,F=o._meta.blobSupport?"blob":"base64";Rm(c,F,function(q){if(q)return u(q);Q()});function Q(){var q=[Gt,ee,ge,qe,Dn,ae],D=Ee(s,q,"readwrite");if(D.error)return u(D.error);h=D.txn,h.onabort=Fe(u),h.ontimeout=Fe(u),h.oncomplete=gt,d=h.objectStore(Gt),g=h.objectStore(ee),T=h.objectStore(ge),p=h.objectStore(Dn),b=h.objectStore(ae),b.get(ae).onsuccess=function(U){y=U.target.result,rt()},_t(function(U){if(U)return C=!0,u(U);ft()})}function it(){x=!0,rt()}function X(){Nm(t.revs_limit,c,o,w,h,v,ut,i,it)}function rt(){!y||!x||(y.docCount+=_,b.put(y))}function ft(){if(!c.length)return;var q=0;function D(){++q===c.length&&X()}function U(G){var ht=zn(G.target.result);ht&&w.set(ht.id,ht),D()}for(var tt=0,V=c.length;tt<V;tt++){var st=c[tt];if(st._id&&Bn(st._id)){D();continue}var ot=d.get(st.metadata.id);ot.onsuccess=U}}function gt(){C||(rr.notify(o._meta.name),u(null,v))}function lt(q,D){var U=T.get(q);U.onsuccess=function(tt){if(tt.target.result)D();else{var V=Pt(cv,"unknown stub attachment with digest "+q);V.status=412,D(V)}}}function _t(q){var D=[];if(c.forEach(function(st){st.data&&st.data._attachments&&Object.keys(st.data._attachments).forEach(function(ot){var G=st.data._attachments[ot];G.stub&&D.push(G.digest)})}),!D.length)return q();var U=0,tt;function V(){++U===D.length&&q(tt)}D.forEach(function(st){lt(st,function(ot){ot&&!tt&&(tt=ot),V()})})}function ut(q,D,U,tt,V,st,ot,G){q.metadata.winningRev=D,q.metadata.deleted=U;var ht=q.data;ht._id=q.metadata.id,ht._rev=q.metadata.rev,tt&&(ht._deleted=!0);var mt=ht._attachments&&Object.keys(ht._attachments).length;if(mt)return I(q,D,U,V,ot,G);_+=st,rt(),k(q,D,U,V,ot,G)}function k(q,D,U,tt,V,st){var ot=q.data,G=q.metadata;ot._doc_id_rev=G.id+"::"+G.rev,delete ot._id,delete ot._rev;function ht(S){var B=q.stemmedRevs||[];tt&&o.auto_compaction&&(B=B.concat(Cv(q.metadata))),B&&B.length&&cl(B,q.metadata.id,h),G.seq=S.target.result;var z=Ca(G,D,U),H=d.put(z);H.onsuccess=St}function mt(S){S.preventDefault(),S.stopPropagation();var B=g.index("_doc_id_rev"),z=B.getKey(ot._doc_id_rev);z.onsuccess=function(H){var j=g.put(ot,H.target.result);j.onsuccess=ht}}function St(){v[V]={ok:!0,id:G.id,rev:G.rev},w.set(q.metadata.id,q.metadata),Z(q,G.seq,st)}var bt=g.put(ot);bt.onsuccess=ht,bt.onerror=mt}function I(q,D,U,tt,V,st){var ot=q.data,G=0,ht=Object.keys(ot._attachments);function mt(){G===ht.length&&k(q,D,U,tt,V,st)}function St(){G++,mt()}ht.forEach(function(bt){var S=q.data._attachments[bt];if(S.stub)G++,mt();else{var B=S.data;delete S.data,S.revpos=parseInt(D,10);var z=S.digest;$(z,B,St)}})}function Z(q,D,U){var tt=0,V=Object.keys(q.data._attachments||{});if(!V.length)return U();function st(){++tt===V.length&&U()}function ot(ht){var mt=q.data._attachments[ht].digest,St=p.put({seq:D,digestSeq:mt+"::"+D});St.onsuccess=st,St.onerror=function(bt){bt.preventDefault(),bt.stopPropagation(),st()}}for(var G=0;G<V.length;G++)ot(V[G])}function $(q,D,U){var tt=T.count(q);tt.onsuccess=function(V){var st=V.target.result;if(st)return U();var ot={digest:q,body:D},G=T.put(ot);G.onsuccess=U}}}function ll(t,n,i,o,s){o===-1&&(o=1e3);var u=typeof t.getAll=="function"&&typeof t.getAllKeys=="function"&&o>1&&!i,c,h,d;function g(A){h=A.target.result,c&&s(c,h,d)}function T(A){c=A.target.result,h&&s(c,h,d)}function p(){if(!c.length)return s();var A=c[c.length-1],y;if(n&&n.upper)try{y=IDBKeyRange.bound(A,n.upper,!0,n.upperOpen)}catch(E){if(E.name==="DataError"&&E.code===0)return s()}else y=IDBKeyRange.lowerBound(A,!0);n=y,c=null,h=null,t.getAll(n,o).onsuccess=g,t.getAllKeys(n,o).onsuccess=T}function b(A){var y=A.target.result;if(!y)return s();s([y.key],[y.value],y)}u?(d={continue:p},t.getAll(n,o).onsuccess=g,t.getAllKeys(n,o).onsuccess=T):i?t.openCursor(n,"prev").onsuccess=b:t.openCursor(n).onsuccess=b}function Um(t,n,i){if(typeof t.getAll=="function"){t.getAll(n).onsuccess=i;return}var o=[];function s(u){var c=u.target.result;c?(o.push(c.value),c.continue()):i({target:{result:o}})}t.openCursor(n).onsuccess=s}function $m(t,n,i){var o=new Array(t.length),s=0;t.forEach(function(u,c){n.get(u).onsuccess=function(h){h.target.result?o[c]=h.target.result:o[c]={key:u,error:"not_found"},s++,s===t.length&&i(t,o,{})}})}function Hm(t,n,i,o,s){try{if(t&&n)return s?IDBKeyRange.bound(n,t,!i,!1):IDBKeyRange.bound(t,n,!1,!i);if(t)return s?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(n)return s?IDBKeyRange.lowerBound(n,!i):IDBKeyRange.upperBound(n,!i);if(o)return IDBKeyRange.only(o)}catch(u){return{error:u}}return null}function Wm(t,n,i){var o="startkey"in t?t.startkey:!1,s="endkey"in t?t.endkey:!1,u="key"in t?t.key:!1,c="keys"in t?t.keys:!1,h=t.skip||0,d=typeof t.limit=="number"?t.limit:-1,g=t.inclusive_end!==!1,T,p;if(!c&&(T=Hm(o,s,g,u,t.descending),p=T&&T.error,p&&!(p.name==="DataError"&&p.code===0)))return i(Pt(ua,p.name,p.message));var b=[Gt,ee,ae];t.attachments&&b.push(ge);var A=Ee(n,b,"readonly");if(A.error)return i(A.error);var y=A.txn;y.oncomplete=gt,y.onabort=Fe(i);var E=y.objectStore(Gt),M=y.objectStore(ee),P=y.objectStore(ae),x=M.index("_doc_id_rev"),_=[],v,w;P.get(ae).onsuccess=function(lt){v=lt.target.result.docCount},t.update_seq&&C(M,function(lt){lt.target.result&&lt.target.result.length>0&&(w=lt.target.result[0])});function C(lt,_t){function ut(k){var I=k.target.result,Z=void 0;return I&&I.key&&(Z=I.key),_t({target:{result:[Z]}})}lt.openCursor(null,"prev").onsuccess=ut}function F(lt,_t,ut){var k=lt.id+"::"+ut;x.get(k).onsuccess=function(Z){if(_t.doc=lo(Z.target.result)||{},t.conflicts){var $=ya(lt);$.length&&(_t.doc._conflicts=$)}fl(_t.doc,t,y)}}function Q(lt,_t){var ut={id:_t.id,key:_t.id,value:{rev:lt}},k=_t.deleted;k?c&&(_.push(ut),ut.value.deleted=!0,ut.doc=null):h--<=0&&(_.push(ut),t.include_docs&&F(_t,ut,lt))}function it(lt){for(var _t=0,ut=lt.length;_t<ut&&_.length!==d;_t++){var k=lt[_t];if(k.error&&c){_.push(k);continue}var I=zn(k),Z=I.winningRev;Q(Z,I)}}function X(lt,_t,ut){!ut||(it(_t),_.length<d&&ut.continue())}function rt(lt){var _t=lt.target.result;t.descending&&(_t=_t.reverse()),it(_t)}function ft(){var lt={total_rows:v,offset:t.skip,rows:_};t.update_seq&&w!==void 0&&(lt.update_seq=w),i(null,lt)}function gt(){t.attachments?Ea(_,t.binary).then(ft):ft()}if(!(p||d===0)){if(c)return $m(t.keys,E,X);if(d===-1)return Um(E,T,rt);ll(E,T,t.descending,d+h,X)}}function Km(t){return new Promise(function(n){var i=da([""]),o=t.objectStore(Ta).put(i,"key");o.onsuccess=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),u=navigator.userAgent.match(/Edge\//);n(u||!s||parseInt(s[1],10)>=43)},o.onerror=t.onabort=function(s){s.preventDefault(),s.stopPropagation(),n(!1)}}).catch(function(){return!1})}function Gm(t,n){var i=t.objectStore(Gt).index("deletedOrLocal");i.count(IDBKeyRange.only("0")).onsuccess=function(o){n(o.target.result)}}var Sa=!1,Aa=[];function Jm(t,n,i,o){try{t(n,i)}catch(s){o.emit("error",s)}}function hl(){Sa||!Aa.length||(Sa=!0,Aa.shift()())}function Vm(t,n,i){Aa.push(function(){t(function(u,c){Jm(n,u,c,i),Sa=!1,Ne(function(){hl()})})}),hl()}function Ym(t,n,i,o){if(t=Jt(t),t.continuous){var s=i+":"+co();return rr.addListener(i,s,n,t),rr.notify(i),{cancel:function(){rr.removeListener(i,s)}}}var u=t.doc_ids&&new _i(t.doc_ids);t.since=t.since||0;var c=t.since,h="limit"in t?t.limit:-1;h===0&&(h=1);var d=[],g=0,T=fa(t),p=new le,b,A,y,E;function M(Q,it,X){if(!X||!Q.length)return;var rt=new Array(Q.length),ft=new Array(Q.length);function gt(ut,k){var I=t.processChange(k,ut,t);c=I.seq=ut.seq;var Z=T(I);return typeof Z=="object"?Promise.reject(Z):Z?(g++,t.return_docs&&d.push(I),t.attachments&&t.include_docs?new Promise(function($){fl(k,t,b,function(){Ea([I],t.binary).then(function(){$(I)})})}):Promise.resolve(I)):Promise.resolve()}function lt(){for(var ut=[],k=0,I=rt.length;k<I&&g!==h;k++){var Z=rt[k];if(!!Z){var $=ft[k];ut.push(gt($,Z))}}Promise.all(ut).then(function(q){for(var D=0,U=q.length;D<U;D++)q[D]&&t.onChange(q[D])}).catch(t.complete),g!==h&&X.continue()}var _t=0;it.forEach(function(ut,k){var I=lo(ut),Z=Q[k];x(I,Z,function($,q){ft[k]=$,rt[k]=q,++_t===Q.length&&lt()})})}function P(Q,it,X,rt){if(X.seq!==it)return rt();if(X.winningRev===Q._rev)return rt(X,Q);var ft=Q._id+"::"+X.winningRev,gt=E.get(ft);gt.onsuccess=function(lt){rt(X,lo(lt.target.result))}}function x(Q,it,X){if(u&&!u.has(Q._id))return X();var rt=p.get(Q._id);if(rt)return P(Q,it,rt,X);y.get(Q._id).onsuccess=function(ft){rt=zn(ft.target.result),p.set(Q._id,rt),P(Q,it,rt,X)}}function _(){t.complete(null,{results:d,last_seq:c})}function v(){!t.continuous&&t.attachments?Ea(d).then(_):_()}var w=[Gt,ee];t.attachments&&w.push(ge);var C=Ee(o,w,"readonly");if(C.error)return t.complete(C.error);b=C.txn,b.onabort=Fe(t.complete),b.oncomplete=v,A=b.objectStore(ee),y=b.objectStore(Gt),E=A.index("_doc_id_rev");var F=t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null;ll(A,F,t.descending,h,M)}var bi=new le,Oa,Ma=new le;function dl(t,n){var i=this;Vm(function(o){Qm(i,t,o)},n,i.constructor)}function Qm(t,n,i){var o=n.name,s=null;t._meta=null;function u(y){var E=y.createObjectStore(Gt,{keyPath:"id"});y.createObjectStore(ee,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),y.createObjectStore(ge,{keyPath:"digest"}),y.createObjectStore(ae,{keyPath:"id",autoIncrement:!1}),y.createObjectStore(Ta),E.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),y.createObjectStore(qe,{keyPath:"_id"});var M=y.createObjectStore(Dn,{autoIncrement:!0});M.createIndex("seq","seq"),M.createIndex("digestSeq","digestSeq",{unique:!0})}function c(y,E){var M=y.objectStore(Gt);M.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),M.openCursor().onsuccess=function(P){var x=P.target.result;if(x){var _=x.value,v=nn(_);_.deletedOrLocal=v?"1":"0",M.put(_),x.continue()}else E()}}function h(y){y.createObjectStore(qe,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function d(y,E){var M=y.objectStore(qe),P=y.objectStore(Gt),x=y.objectStore(ee),_=P.openCursor();_.onsuccess=function(v){var w=v.target.result;if(w){var C=w.value,F=C.id,Q=Bn(F),it=Mn(C);if(Q){var X=F+"::"+it,rt=F+"::",ft=F+"::~",gt=x.index("_doc_id_rev"),lt=IDBKeyRange.bound(rt,ft,!1,!1),_t=gt.openCursor(lt);_t.onsuccess=function(ut){if(_t=ut.target.result,!_t)P.delete(w.primaryKey),w.continue();else{var k=_t.value;k._doc_id_rev===X&&M.put(k),x.delete(_t.primaryKey),_t.continue()}}}else w.continue()}else E&&E()}}function g(y){var E=y.createObjectStore(Dn,{autoIncrement:!0});E.createIndex("seq","seq"),E.createIndex("digestSeq","digestSeq",{unique:!0})}function T(y,E){var M=y.objectStore(ee),P=y.objectStore(ge),x=y.objectStore(Dn),_=P.count();_.onsuccess=function(v){var w=v.target.result;if(!w)return E();M.openCursor().onsuccess=function(C){var F=C.target.result;if(!F)return E();for(var Q=F.value,it=F.primaryKey,X=Object.keys(Q._attachments||{}),rt={},ft=0;ft<X.length;ft++){var gt=Q._attachments[X[ft]];rt[gt.digest]=!0}var lt=Object.keys(rt);for(ft=0;ft<lt.length;ft++){var _t=lt[ft];x.put({seq:it,digestSeq:_t+"::"+it})}F.continue()}}}function p(y){function E(_){return _.data?zn(_):(_.deleted=_.deletedOrLocal==="1",_)}var M=y.objectStore(ee),P=y.objectStore(Gt),x=P.openCursor();x.onsuccess=function(_){var v=_.target.result;if(!v)return;var w=E(v.value);w.winningRev=w.winningRev||Mn(w);function C(){var Q=w.id+"::",it=w.id+"::\uFFFF",X=M.index("_doc_id_rev").openCursor(IDBKeyRange.bound(Q,it)),rt=0;X.onsuccess=function(ft){var gt=ft.target.result;if(!gt)return w.seq=rt,F();var lt=gt.primaryKey;lt>rt&&(rt=lt),gt.continue()}}function F(){var Q=Ca(w,w.winningRev,w.deleted),it=P.put(Q);it.onsuccess=function(){v.continue()}}if(w.seq)return F();C()}}t._remote=!1,t.type=function(){return"idb"},t._id=Lc(function(y){y(null,t._meta.instanceId)}),t._bulkDocs=function(E,M,P){jm(n,E,M,t,s,P)},t._get=function(E,M,P){var x,_,v,w=M.ctx;if(!w){var C=Ee(s,[Gt,ee,ge],"readonly");if(C.error)return P(C.error);w=C.txn}function F(){P(v,{doc:x,metadata:_,ctx:w})}w.objectStore(Gt).get(E).onsuccess=function(Q){if(_=zn(Q.target.result),!_)return v=Pt(Te,"missing"),F();var it;if(M.rev)it=M.latest?kv(M.rev,_):M.rev;else{it=_.winningRev;var X=nn(_);if(X)return v=Pt(Te,"deleted"),F()}var rt=w.objectStore(ee),ft=_.id+"::"+it;rt.index("_doc_id_rev").get(ft).onsuccess=function(gt){if(x=gt.target.result,x&&(x=lo(x)),!x)return v=Pt(Te,"missing"),F();F()}}},t._getAttachment=function(y,E,M,P,x){var _;if(P.ctx)_=P.ctx;else{var v=Ee(s,[Gt,ee,ge],"readonly");if(v.error)return x(v.error);_=v.txn}var w=M.digest,C=M.content_type;_.objectStore(ge).get(w).onsuccess=function(F){var Q=F.target.result.body;ul(Q,C,P.binary,function(it){x(null,it)})}},t._info=function(E){var M,P,x=Ee(s,[ae,ee],"readonly");if(x.error)return E(x.error);var _=x.txn;_.objectStore(ae).get(ae).onsuccess=function(v){P=v.target.result.docCount},_.objectStore(ee).openCursor(null,"prev").onsuccess=function(v){var w=v.target.result;M=w?w.key:0},_.oncomplete=function(){E(null,{doc_count:P,update_seq:M,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(E,M){Wm(E,s,M)},t._changes=function(E){return Ym(E,t,o,s)},t._close=function(y){s.close(),bi.delete(o),y()},t._getRevisionTree=function(y,E){var M=Ee(s,[Gt],"readonly");if(M.error)return E(M.error);var P=M.txn,x=P.objectStore(Gt).get(y);x.onsuccess=function(_){var v=zn(_.target.result);v?E(null,v.rev_tree):E(Pt(Te))}},t._doCompaction=function(y,E,M){var P=[Gt,ee,ge,Dn],x=Ee(s,P,"readwrite");if(x.error)return M(x.error);var _=x.txn,v=_.objectStore(Gt);v.get(y).onsuccess=function(w){var C=zn(w.target.result);In(C.rev_tree,function(it,X,rt,ft,gt){var lt=X+"-"+rt;E.indexOf(lt)!==-1&&(gt.status="missing")}),cl(E,y,_);var F=C.winningRev,Q=C.deleted;_.objectStore(Gt).put(Ca(C,F,Q))},_.onabort=Fe(M),_.oncomplete=function(){M()}},t._getLocal=function(y,E){var M=Ee(s,[qe],"readonly");if(M.error)return E(M.error);var P=M.txn,x=P.objectStore(qe).get(y);x.onerror=Fe(E),x.onsuccess=function(_){var v=_.target.result;v?(delete v._doc_id_rev,E(null,v)):E(Pt(Te))}},t._putLocal=function(y,E,M){typeof E=="function"&&(M=E,E={}),delete y._revisions;var P=y._rev,x=y._id;P?y._rev="0-"+(parseInt(P.split("-")[1],10)+1):y._rev="0-1";var _=E.ctx,v;if(!_){var w=Ee(s,[qe],"readwrite");if(w.error)return M(w.error);_=w.txn,_.onerror=Fe(M),_.oncomplete=function(){v&&M(null,v)}}var C=_.objectStore(qe),F;P?(F=C.get(x),F.onsuccess=function(Q){var it=Q.target.result;if(!it||it._rev!==P)M(Pt(mi));else{var X=C.put(y);X.onsuccess=function(){v={ok:!0,id:y._id,rev:y._rev},E.ctx&&M(null,v)}}}):(F=C.add(y),F.onerror=function(Q){M(Pt(mi)),Q.preventDefault(),Q.stopPropagation()},F.onsuccess=function(){v={ok:!0,id:y._id,rev:y._rev},E.ctx&&M(null,v)})},t._removeLocal=function(y,E,M){typeof E=="function"&&(M=E,E={});var P=E.ctx;if(!P){var x=Ee(s,[qe],"readwrite");if(x.error)return M(x.error);P=x.txn,P.oncomplete=function(){_&&M(null,_)}}var _,v=y._id,w=P.objectStore(qe),C=w.get(v);C.onerror=Fe(M),C.onsuccess=function(F){var Q=F.target.result;!Q||Q._rev!==y._rev?M(Pt(Te)):(w.delete(v),_={ok:!0,id:v,rev:"0-0"},E.ctx&&M(null,_))}},t._destroy=function(y,E){rr.removeAllListeners(o);var M=Ma.get(o);M&&M.result&&(M.result.close(),bi.delete(o));var P=indexedDB.deleteDatabase(o);P.onsuccess=function(){Ma.delete(o),so()&&o in localStorage&&delete localStorage[o],E(null,{ok:!0})},P.onerror=Fe(E)};var b=bi.get(o);if(b)return s=b.idb,t._meta=b.global,Ne(function(){i(null,t)});var A=indexedDB.open(o,Zm);Ma.set(o,A),A.onupgradeneeded=function(y){var E=y.target.result;if(y.oldVersion<1)return u(E);var M=y.currentTarget.transaction;y.oldVersion<3&&h(E),y.oldVersion<4&&g(E);var P=[c,d,T,p],x=y.oldVersion;function _(){var v=P[x-1];x++,v&&v(M,_)}_()},A.onsuccess=function(y){s=y.target.result,s.onversionchange=function(){s.close(),bi.delete(o)},s.onabort=function(F){me("error","Database has a global failure",F.target.error),s.close(),bi.delete(o)};var E=s.transaction([ae,Ta,Gt],"readwrite"),M=!1,P,x,_,v;function w(){typeof _=="undefined"||!M||(t._meta={name:o,instanceId:v,blobSupport:_},bi.set(o,{idb:s,global:t._meta}),i(null,t))}function C(){if(!(typeof x=="undefined"||typeof P=="undefined")){var F=o+"_id";F in P?v=P[F]:P[F]=v=co(),P.docCount=x,E.objectStore(ae).put(P)}}E.objectStore(ae).get(ae).onsuccess=function(F){P=F.target.result||{id:ae},C()},Gm(E,function(F){x=F,C()}),Oa||(Oa=Km(E)),Oa.then(function(F){_=F,w()}),E.oncomplete=function(){M=!0,w()},E.onabort=Fe(i)},A.onerror=function(y){var E=y.target.error&&y.target.error.message;E?E.indexOf("stored database is a higher version")!==-1&&(E=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):E="Failed to open indexedDB, are you in private browsing mode?",me("error",E),i(Pt(ua,E))}}dl.valid=function(){try{return typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}};function Xm(t){t.adapter("idb",dl,!0)}function tg(t,n){return new Promise(function(i,o){var s=0,u=0,c=0,h=t.length,d;function g(){s++,t[u++]().then(p,b)}function T(){++c===h?d?o(d):i():A()}function p(){s--,T()}function b(y){s--,d=d||y,T()}function A(){for(;s<n&&u<h;)g()}A()})}var eg=25,ng=50,ho=5e3,ig=1e4,Ia={};function Ba(t){var n=t.doc||t.ok,i=n&&n._attachments;!i||Object.keys(i).forEach(function(o){var s=i[o];s.data=pa(s.data,s.content_type)})}function Nn(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function _l(t){return!t._attachments||!Object.keys(t._attachments)?Promise.resolve():Promise.all(Object.keys(t._attachments).map(function(n){var i=t._attachments[n];if(i.data&&typeof i.data!="string")return new Promise(function(o){va(i.data,o)}).then(function(o){i.data=o})}))}function rg(t){if(!t.prefix)return!1;var n=Dc(t.prefix).protocol;return n==="http"||n==="https"}function og(t,n){if(rg(n)){var i=n.name.substr(n.prefix.length),o=n.prefix.replace(/\/?$/,"/");t=o+encodeURIComponent(i)}var s=Dc(t);(s.user||s.password)&&(s.auth={username:s.user,password:s.password});var u=s.path.replace(/(^\/|\/$)/g,"").split("/");return s.db=u.pop(),s.db.indexOf("%")===-1&&(s.db=encodeURIComponent(s.db)),s.path=u.join("/"),s}function Vt(t,n){return _o(t,t.db+"/"+n)}function _o(t,n){var i=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+i+n}function po(t){return"?"+Object.keys(t).map(function(n){return n+"="+encodeURIComponent(t[n])}).join("&")}function sg(t){var n=typeof navigator!="undefined"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i=n.indexOf("msie")!==-1,o=n.indexOf("trident")!==-1,s=n.indexOf("edge")!==-1,u=!("method"in t)||t.method==="GET";return(i||o||s)&&u}function ka(t,n){var i=this,o=og(t.name,t),s=Vt(o,"");t=Jt(t);var u=function(p,b){if(b=b||{},b.headers=b.headers||new yi,b.credentials="include",t.auth||o.auth){var A=t.auth||o.auth,y=A.username+":"+A.password,E=Xi(unescape(encodeURIComponent(y)));b.headers.set("Authorization","Basic "+E)}var M=t.headers||{};Object.keys(M).forEach(function(x){b.headers.append(x,M[x])}),sg(b)&&(p+=(p.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now());var P=t.fetch||Gc;return P(p,b)};function c(p,b){return Kt(p,hi(function(A){g().then(function(){return b.apply(this,A)}).catch(function(y){var E=A.pop();E(y)})})).bind(i)}function h(p,b,A){var y={};return b=b||{},b.headers=b.headers||new yi,b.headers.get("Content-Type")||b.headers.set("Content-Type","application/json"),b.headers.get("Accept")||b.headers.set("Accept","application/json"),u(p,b).then(function(E){return y.ok=E.ok,y.status=E.status,E.json()}).then(function(E){if(y.data=E,!y.ok){y.data.status=y.status;var M=gi(y.data);if(A)return A(M);throw M}if(Array.isArray(y.data)&&(y.data=y.data.map(function(P){return P.error||P.missing?gi(P):P})),A)A(null,y.data);else return y})}var d;function g(){return t.skip_setup?Promise.resolve():d||(d=h(s).catch(function(p){return p&&p.status&&p.status===404?(oa(404,"PouchDB is just detecting if the remote exists."),h(s,{method:"PUT"})):Promise.reject(p)}).catch(function(p){return p&&p.status&&p.status===412?!0:Promise.reject(p)}),d.catch(function(){d=null}),d)}Ne(function(){n(null,i)}),i._remote=!0,i.type=function(){return"http"},i.id=c("id",function(p){u(_o(o,"")).then(function(b){return b.json()}).catch(function(){return{}}).then(function(b){var A=b&&b.uuid?b.uuid+o.db:Vt(o,"");p(null,A)})}),i.compact=c("compact",function(p,b){typeof p=="function"&&(b=p,p={}),p=Jt(p),h(Vt(o,"_compact"),{method:"POST"}).then(function(){function A(){i.info(function(y,E){E&&!E.compact_running?b(null,{ok:!0}):setTimeout(A,p.interval||200)})}A()})}),i.bulkGet=Kt("bulkGet",function(p,b){var A=this;function y(x){var _={};p.revs&&(_.revs=!0),p.attachments&&(_.attachments=!0),p.latest&&(_.latest=!0),h(Vt(o,"_bulk_get"+po(_)),{method:"POST",body:JSON.stringify({docs:p.docs})}).then(function(v){p.attachments&&p.binary&&v.data.results.forEach(function(w){w.docs.forEach(Ba)}),x(null,v.data)}).catch(x)}function E(){var x=ng,_=Math.ceil(p.docs.length/x),v=0,w=new Array(_);function C(it){return function(X,rt){w[it]=rt.results,++v===_&&b(null,{results:uo(w)})}}for(var F=0;F<_;F++){var Q=Qi(p,["revs","attachments","binary","latest"]);Q.docs=p.docs.slice(F*x,Math.min(p.docs.length,(F+1)*x)),Cc(A,Q,C(F))}}var M=_o(o,""),P=Ia[M];typeof P!="boolean"?y(function(x,_){x?(Ia[M]=!1,oa(x.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),E()):(Ia[M]=!0,b(null,_))}):P?y(b):E()}),i._info=function(p){g().then(function(){return u(Vt(o,""))}).then(function(b){return b.json()}).then(function(b){b.host=Vt(o,""),p(null,b)}).catch(p)},i.fetch=function(p,b){return g().then(function(){var A=p.substring(0,1)==="/"?_o(o,p.substring(1)):Vt(o,p);return u(A,b)})},i.get=c("get",function(p,b,A){typeof b=="function"&&(A=b,b={}),b=Jt(b);var y={};b.revs&&(y.revs=!0),b.revs_info&&(y.revs_info=!0),b.latest&&(y.latest=!0),b.open_revs&&(b.open_revs!=="all"&&(b.open_revs=JSON.stringify(b.open_revs)),y.open_revs=b.open_revs),b.rev&&(y.rev=b.rev),b.conflicts&&(y.conflicts=b.conflicts),b.update_seq&&(y.update_seq=b.update_seq),p=Nn(p);function E(x){var _=x._attachments,v=_&&Object.keys(_);if(!_||!v.length)return;function w(F){var Q=_[F],it=Nn(x._id)+"/"+T(F)+"?rev="+x._rev;return u(Vt(o,it)).then(function(X){return"buffer"in X?X.buffer():X.blob()}).then(function(X){if(b.binary){var rt=Object.getOwnPropertyDescriptor(X.__proto__,"type");return(!rt||rt.set)&&(X.type=Q.content_type),X}return new Promise(function(ft){va(X,ft)})}).then(function(X){delete Q.stub,delete Q.length,Q.data=X})}var C=v.map(function(F){return function(){return w(F)}});return tg(C,5)}function M(x){return Array.isArray(x)?Promise.all(x.map(function(_){if(_.ok)return E(_.ok)})):E(x)}var P=Vt(o,p+po(y));h(P).then(function(x){return Promise.resolve().then(function(){if(b.attachments)return M(x.data)}).then(function(){A(null,x.data)})}).catch(function(x){x.docId=p,A(x)})}),i.remove=c("remove",function(p,b,A,y){var E;typeof b=="string"?(E={_id:p,_rev:b},typeof A=="function"&&(y=A,A={})):(E=p,typeof b=="function"?(y=b,A={}):(y=A,A=b));var M=E._rev||A.rev,P=Vt(o,Nn(E._id))+"?rev="+M;h(P,{method:"DELETE"},y).catch(y)});function T(p){return p.split("/").map(encodeURIComponent).join("/")}i.getAttachment=c("getAttachment",function(p,b,A,y){typeof A=="function"&&(y=A,A={});var E=A.rev?"?rev="+A.rev:"",M=Vt(o,Nn(p))+"/"+T(b)+E,P;u(M,{method:"GET"}).then(function(x){if(P=x.headers.get("content-type"),x.ok)return typeof process!="undefined"&&!process.browser&&typeof x.buffer=="function"?x.buffer():x.blob();throw x}).then(function(x){typeof process!="undefined"&&!process.browser&&(x.type=P),y(null,x)}).catch(function(x){y(x)})}),i.removeAttachment=c("removeAttachment",function(p,b,A,y){var E=Vt(o,Nn(p)+"/"+T(b))+"?rev="+A;h(E,{method:"DELETE"},y).catch(y)}),i.putAttachment=c("putAttachment",function(p,b,A,y,E,M){typeof E=="function"&&(M=E,E=y,y=A,A=null);var P=Nn(p)+"/"+T(b),x=Vt(o,P);if(A&&(x+="?rev="+A),typeof y=="string"){var _;try{_=ha(y)}catch{return M(Pt(Ac,"Attachment is not a valid base64 string"))}y=_?_a(_,E):""}h(x,{headers:new yi({"Content-Type":E}),method:"PUT",body:y},M).catch(M)}),i._bulkDocs=function(p,b,A){p.new_edits=b.new_edits,g().then(function(){return Promise.all(p.docs.map(_l))}).then(function(){return h(Vt(o,"_bulk_docs"),{method:"POST",body:JSON.stringify(p)},A)}).catch(A)},i._put=function(p,b,A){g().then(function(){return _l(p)}).then(function(){return h(Vt(o,Nn(p._id)),{method:"PUT",body:JSON.stringify(p)})}).then(function(y){A(null,y.data)}).catch(function(y){y.docId=p&&p._id,A(y)})},i.allDocs=c("allDocs",function(p,b){typeof p=="function"&&(b=p,p={}),p=Jt(p);var A={},y,E="GET";p.conflicts&&(A.conflicts=!0),p.update_seq&&(A.update_seq=!0),p.descending&&(A.descending=!0),p.include_docs&&(A.include_docs=!0),p.attachments&&(A.attachments=!0),p.key&&(A.key=JSON.stringify(p.key)),p.start_key&&(p.startkey=p.start_key),p.startkey&&(A.startkey=JSON.stringify(p.startkey)),p.end_key&&(p.endkey=p.end_key),p.endkey&&(A.endkey=JSON.stringify(p.endkey)),typeof p.inclusive_end!="undefined"&&(A.inclusive_end=!!p.inclusive_end),typeof p.limit!="undefined"&&(A.limit=p.limit),typeof p.skip!="undefined"&&(A.skip=p.skip);var M=po(A);typeof p.keys!="undefined"&&(E="POST",y={keys:p.keys}),h(Vt(o,"_all_docs"+M),{method:E,body:JSON.stringify(y)}).then(function(P){p.include_docs&&p.attachments&&p.binary&&P.data.rows.forEach(Ba),b(null,P.data)}).catch(b)}),i._changes=function(p){var b="batch_size"in p?p.batch_size:eg;p=Jt(p),p.continuous&&!("heartbeat"in p)&&(p.heartbeat=ig);var A="timeout"in p?p.timeout:30*1e3;"timeout"in p&&p.timeout&&A-p.timeout<ho&&(A=p.timeout+ho),"heartbeat"in p&&p.heartbeat&&A-p.heartbeat<ho&&(A=p.heartbeat+ho);var y={};"timeout"in p&&p.timeout&&(y.timeout=p.timeout);var E=typeof p.limit!="undefined"?p.limit:!1,M=E;if(p.style&&(y.style=p.style),(p.include_docs||p.filter&&typeof p.filter=="function")&&(y.include_docs=!0),p.attachments&&(y.attachments=!0),p.continuous&&(y.feed="longpoll"),p.seq_interval&&(y.seq_interval=p.seq_interval),p.conflicts&&(y.conflicts=!0),p.descending&&(y.descending=!0),p.update_seq&&(y.update_seq=!0),"heartbeat"in p&&p.heartbeat&&(y.heartbeat=p.heartbeat),p.filter&&typeof p.filter=="string"&&(y.filter=p.filter),p.view&&typeof p.view=="string"&&(y.filter="_view",y.view=p.view),p.query_params&&typeof p.query_params=="object")for(var P in p.query_params)p.query_params.hasOwnProperty(P)&&(y[P]=p.query_params[P]);var x="GET",_;p.doc_ids?(y.filter="_doc_ids",x="POST",_={doc_ids:p.doc_ids}):p.selector&&(y.filter="_selector",x="POST",_={selector:p.selector});var v=new $v,w,C=function(it,X){if(!p.aborted){y.since=it,typeof y.since=="object"&&(y.since=JSON.stringify(y.since)),p.descending?E&&(y.limit=M):y.limit=!E||M>b?b:M;var rt=Vt(o,"_changes"+po(y)),ft={signal:v.signal,method:x,body:JSON.stringify(_)};w=it,!p.aborted&&g().then(function(){return h(rt,ft,X)}).catch(X)}},F={results:[]},Q=function(it,X){if(!p.aborted){var rt=0;if(X&&X.results){rt=X.results.length,F.last_seq=X.last_seq;var ft=null,gt=null;typeof X.pending=="number"&&(ft=X.pending),(typeof F.last_seq=="string"||typeof F.last_seq=="number")&&(gt=F.last_seq);var lt={};lt.query=p.query_params,X.results=X.results.filter(function(ut){M--;var k=fa(p)(ut);return k&&(p.include_docs&&p.attachments&&p.binary&&Ba(ut),p.return_docs&&F.results.push(ut),p.onChange(ut,ft,gt)),k})}else if(it){p.aborted=!0,p.complete(it);return}X&&X.last_seq&&(w=X.last_seq);var _t=E&&M<=0||X&&rt<b||p.descending;p.continuous&&!(E&&M<=0)||!_t?Ne(function(){C(w,Q)}):p.complete(null,F)}};return C(p.since||0,Q),{cancel:function(){p.aborted=!0,v.abort()}}},i.revsDiff=c("revsDiff",function(p,b,A){typeof b=="function"&&(A=b,b={}),h(Vt(o,"_revs_diff"),{method:"POST",body:JSON.stringify(p)},A).catch(A)}),i._close=function(p){p()},i._destroy=function(p,b){h(Vt(o,""),{method:"DELETE"}).then(function(A){b(null,A)}).catch(function(A){A.status===404?b(null,{ok:!0}):b(A)})}}ka.valid=function(){return!0};function ag(t){t.adapter("http",ka,!1),t.adapter("https",ka,!1)}function Zn(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Zn)}catch{}}Le(Zn,Error);function vo(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,vo)}catch{}}Le(vo,Error);function mo(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,mo)}catch{}}Le(mo,Error);function pl(t,n){return n&&t.then(function(i){Ne(function(){n(null,i)})},function(i){Ne(function(){n(i)})}),t}function ug(t){return hi(function(n){var i=n.pop(),o=t.apply(this,n);return typeof i=="function"&&pl(o,i),o})}function fg(t,n){return t.then(function(i){return n().then(function(){return i})},function(i){return n().then(function(){throw i})})}function Ra(t,n){return function(){var i=arguments,o=this;return t.add(function(){return n.apply(o,i)})}}function vl(t){var n=new _i(t),i=new Array(n.size),o=-1;return n.forEach(function(s){i[++o]=s}),i}function Da(t){var n=new Array(t.size),i=-1;return t.forEach(function(o,s){n[++i]=s}),n}function ml(t){var n="builtin "+t+" function requires map values to be numbers or number arrays";return new mo(n)}function za(t){for(var n=0,i=0,o=t.length;i<o;i++){var s=t[i];if(typeof s!="number")if(Array.isArray(s)){n=typeof n=="number"?[n]:n;for(var u=0,c=s.length;u<c;u++){var h=s[u];if(typeof h!="number")throw ml("_sum");typeof n[u]=="undefined"?n.push(h):n[u]+=h}}else throw ml("_sum");else typeof n=="number"?n+=s:n[0]+=s}return n}var cg=me.bind(null,"log"),lg=Array.isArray,hg=JSON.parse;function gl(t,n){return la("return ("+t.replace(/;\s*$/,"")+");",{emit:n,sum:za,log:cg,isArray:lg,toJSON:hg})}function or(){this.promise=new Promise(function(t){t()})}or.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise};or.prototype.finish=function(){return this.promise};function yl(t){if(!t)return"undefined";switch(typeof t){case"function":return t.toString();case"string":return t.toString();default:return JSON.stringify(t)}}function dg(t,n){return yl(t)+yl(n)+"undefined"}function wl(t,n,i,o,s,u){var c=dg(i,o),h;if(!s&&(h=t._cachedViews=t._cachedViews||{},h[c]))return h[c];var d=t.info().then(function(g){var T=g.db_name+"-mrview-"+(s?"temp":Zc(c));function p(b){b.views=b.views||{};var A=n;A.indexOf("/")===-1&&(A=n+"/"+n);var y=b.views[A]=b.views[A]||{};if(!y[T])return y[T]=!0,b}return fo(t,"_local/"+u,p).then(function(){return t.registerDependentDatabase(T).then(function(b){var A=b.db;A.auto_compaction=!0;var y={name:T,db:A,sourceDB:t,adapter:t.adapter,mapFun:i,reduceFun:o};return y.db.get("_local/lastSeq").catch(function(E){if(E.status!==404)throw E}).then(function(E){return y.seq=E?E.seq:0,h&&y.db.once("destroyed",function(){delete h[c]}),y})})})});return h&&(h[c]=d),d}var bl={},xl=new or,Pl=50;function Na(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function _g(t){return t.length===1&&/^1-/.test(t[0].rev)}function Ll(t,n){try{t.emit("error",n)}catch{me("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),me("error",n)}}function pg(t,n,i,o){function s(k,I,Z){try{I(Z)}catch($){Ll(k,$)}}function u(k,I,Z,$,q){try{return{output:I(Z,$,q)}}catch(D){return Ll(k,D),{error:D}}}function c(k,I){var Z=Qt(k.key,I.key);return Z!==0?Z:Qt(k.value,I.value)}function h(k,I,Z){return Z=Z||0,typeof I=="number"?k.slice(Z,I+Z):Z>0?k.slice(Z):k}function d(k){var I=k.value,Z=I&&typeof I=="object"&&I._id||k.id;return Z}function g(k){k.rows.forEach(function(I){var Z=I.doc&&I.doc._attachments;!Z||Object.keys(Z).forEach(function($){var q=Z[$];Z[$].data=pa(q.data,q.content_type)})})}function T(k){return function(I){return k.include_docs&&k.attachments&&k.binary&&g(I),I}}function p(k,I,Z,$){var q=I[k];typeof q!="undefined"&&($&&(q=encodeURIComponent(JSON.stringify(q))),Z.push(k+"="+q))}function b(k){if(typeof k!="undefined"){var I=Number(k);return!isNaN(I)&&I===parseInt(k,10)?I:k}}function A(k){return k.group_level=b(k.group_level),k.limit=b(k.limit),k.skip=b(k.skip),k}function y(k){if(k){if(typeof k!="number")return new Zn('Invalid value for integer: "'+k+'"');if(k<0)return new Zn('Invalid value for positive integer: "'+k+'"')}}function E(k,I){var Z=k.descending?"endkey":"startkey",$=k.descending?"startkey":"endkey";if(typeof k[Z]!="undefined"&&typeof k[$]!="undefined"&&Qt(k[Z],k[$])>0)throw new Zn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(I.reduce&&k.reduce!==!1){if(k.include_docs)throw new Zn("{include_docs:true} is invalid for reduce");if(k.keys&&k.keys.length>1&&!k.group&&!k.group_level)throw new Zn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(q){var D=y(k[q]);if(D)throw D})}function M(k,I,Z){var $=[],q,D="GET",U,tt;if(p("reduce",Z,$),p("include_docs",Z,$),p("attachments",Z,$),p("limit",Z,$),p("descending",Z,$),p("group",Z,$),p("group_level",Z,$),p("skip",Z,$),p("stale",Z,$),p("conflicts",Z,$),p("startkey",Z,$,!0),p("start_key",Z,$,!0),p("endkey",Z,$,!0),p("end_key",Z,$,!0),p("inclusive_end",Z,$),p("key",Z,$,!0),p("update_seq",Z,$),$=$.join("&"),$=$===""?"":"?"+$,typeof Z.keys!="undefined"){var V=2e3,st="keys="+encodeURIComponent(JSON.stringify(Z.keys));st.length+$.length+1<=V?$+=($[0]==="?"?"&":"?")+st:(D="POST",typeof I=="string"?q={keys:Z.keys}:I.keys=Z.keys)}if(typeof I=="string"){var ot=Na(I);return k.fetch("_design/"+ot[0]+"/_view/"+ot[1]+$,{headers:new yi({"Content-Type":"application/json"}),method:D,body:JSON.stringify(q)}).then(function(G){return U=G.ok,tt=G.status,G.json()}).then(function(G){if(!U)throw G.status=tt,gi(G);return G.rows.forEach(function(ht){if(ht.value&&ht.value.error&&ht.value.error==="builtin_reduce_error")throw new Error(ht.reason)}),G}).then(T(Z))}return q=q||{},Object.keys(I).forEach(function(G){Array.isArray(I[G])?q[G]=I[G]:q[G]=I[G].toString()}),k.fetch("_temp_view"+$,{headers:new yi({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(q)}).then(function(G){return U=G.ok,tt=G.status,G.json()}).then(function(G){if(!U)throw G.status=tt,gi(G);return G}).then(T(Z))}function P(k,I,Z){return new Promise(function($,q){k._query(I,Z,function(D,U){if(D)return q(D);$(U)})})}function x(k){return new Promise(function(I,Z){k._viewCleanup(function($,q){if($)return Z($);I(q)})})}function _(k){return function(I){if(I.status===404)return k;throw I}}function v(k,I,Z){var $="_local/doc_"+k,q={_id:$,keys:[]},D=Z.get(k),U=D[0],tt=D[1];function V(){return _g(tt)?Promise.resolve(q):I.db.get($).catch(_(q))}function st(G){return G.keys.length?I.db.allDocs({keys:G.keys,include_docs:!0}):Promise.resolve({rows:[]})}function ot(G,ht){for(var mt=[],St=new _i,bt=0,S=ht.rows.length;bt<S;bt++){var B=ht.rows[bt],z=B.doc;if(!!z&&(mt.push(z),St.add(z._id),z._deleted=!U.has(z._id),!z._deleted)){var H=U.get(z._id);"value"in H&&(z.value=H.value)}}var j=Da(U);return j.forEach(function(J){if(!St.has(J)){var et={_id:J},Y=U.get(J);"value"in Y&&(et.value=Y.value),mt.push(et)}}),G.keys=vl(j.concat(G.keys)),mt.push(G),mt}return V().then(function(G){return st(G).then(function(ht){return ot(G,ht)})})}function w(k,I,Z){var $="_local/lastSeq";return k.db.get($).catch(_({_id:$,seq:0})).then(function(q){var D=Da(I);return Promise.all(D.map(function(U){return v(U,k,I)})).then(function(U){var tt=uo(U);return q.seq=Z,tt.push(q),k.db.bulkDocs({docs:tt})})})}function C(k){var I=typeof k=="string"?k:k.name,Z=bl[I];return Z||(Z=bl[I]=new or),Z}function F(k){return Ra(C(k),function(){return Q(k)})()}function Q(k){var I,Z;function $(ht,mt){var St={id:Z._id,key:kn(ht)};typeof mt!="undefined"&&mt!==null&&(St.value=kn(mt)),I.push(St)}var q=n(k.mapFun,$),D=k.seq||0;function U(ht,mt){return function(){return w(k,ht,mt)}}var tt=new or;function V(){return k.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:D,limit:Pl}).then(st)}function st(ht){var mt=ht.results;if(!!mt.length){var St=ot(mt);if(tt.add(U(St,D)),!(mt.length<Pl))return V()}}function ot(ht){for(var mt=new le,St=0,bt=ht.length;St<bt;St++){var S=ht[St];if(S.doc._id[0]!=="_"){I=[],Z=S.doc,Z._deleted||s(k.sourceDB,q,Z),I.sort(c);var B=G(I);mt.set(S.doc._id,[B,S.changes])}D=S.seq}return mt}function G(ht){for(var mt=new le,St,bt=0,S=ht.length;bt<S;bt++){var B=ht[bt],z=[B.key,B.id];bt>0&&Qt(B.key,St)===0&&z.push(bt),mt.set(Ce(z),B),St=B.key}return mt}return V().then(function(){return tt.finish()}).then(function(){k.seq=D})}function it(k,I,Z){Z.group_level===0&&delete Z.group_level;var $=Z.group||Z.group_level,q=i(k.reduceFun),D=[],U=isNaN(Z.group_level)?Number.POSITIVE_INFINITY:Z.group_level;I.forEach(function(G){var ht=D[D.length-1],mt=$?G.key:null;if($&&Array.isArray(mt)&&(mt=mt.slice(0,U)),ht&&Qt(ht.groupKey,mt)===0){ht.keys.push([G.key,G.id]),ht.values.push(G.value);return}D.push({keys:[[G.key,G.id]],values:[G.value],groupKey:mt})}),I=[];for(var tt=0,V=D.length;tt<V;tt++){var st=D[tt],ot=u(k.sourceDB,q,st.keys,st.values,!1);if(ot.error&&ot.error instanceof mo)throw ot.error;I.push({value:ot.error?null:ot.output,key:st.groupKey})}return{rows:h(I,Z.limit,Z.skip)}}function X(k,I){return Ra(C(k),function(){return rt(k,I)})()}function rt(k,I){var Z,$=k.reduceFun&&I.reduce!==!1,q=I.skip||0;typeof I.keys!="undefined"&&!I.keys.length&&(I.limit=0,delete I.keys);function D(bt){return bt.include_docs=!0,k.db.allDocs(bt).then(function(S){return Z=S.total_rows,S.rows.map(function(B){if("value"in B.doc&&typeof B.doc.value=="object"&&B.doc.value!==null){var z=Object.keys(B.doc.value).sort(),H=["id","key","value"];if(!(z<H||z>H))return B.doc.value}var j=sm(B.doc._id);return{key:j[0],id:j[1],value:"value"in B.doc?B.doc.value:null}})})}function U(bt){var S;if($?S=it(k,bt,I):S={total_rows:Z,offset:q,rows:bt},I.update_seq&&(S.update_seq=k.seq),I.include_docs){var B=vl(bt.map(d));return k.sourceDB.allDocs({keys:B,include_docs:!0,conflicts:I.conflicts,attachments:I.attachments,binary:I.binary}).then(function(z){var H=new le;return z.rows.forEach(function(j){H.set(j.id,j.doc)}),bt.forEach(function(j){var J=d(j),et=H.get(J);et&&(j.doc=et)}),S})}else return S}if(typeof I.keys!="undefined"){var tt=I.keys,V=tt.map(function(bt){var S={startkey:Ce([bt]),endkey:Ce([bt,{}])};return I.update_seq&&(S.update_seq=!0),D(S)});return Promise.all(V).then(uo).then(U)}else{var st={descending:I.descending};I.update_seq&&(st.update_seq=!0);var ot,G;if("start_key"in I&&(ot=I.start_key),"startkey"in I&&(ot=I.startkey),"end_key"in I&&(G=I.end_key),"endkey"in I&&(G=I.endkey),typeof ot!="undefined"&&(st.startkey=I.descending?Ce([ot,{}]):Ce([ot])),typeof G!="undefined"){var ht=I.inclusive_end!==!1;I.descending&&(ht=!ht),st.endkey=Ce(ht?[G,{}]:[G])}if(typeof I.key!="undefined"){var mt=Ce([I.key]),St=Ce([I.key,{}]);st.descending?(st.endkey=mt,st.startkey=St):(st.startkey=mt,st.endkey=St)}return $||(typeof I.limit=="number"&&(st.limit=I.limit),st.skip=q),D(st).then(U)}}function ft(k){return k.fetch("_view_cleanup",{headers:new yi({"Content-Type":"application/json"}),method:"POST"}).then(function(I){return I.json()})}function gt(k){return k.get("_local/"+t).then(function(I){var Z=new le;Object.keys(I.views).forEach(function(q){var D=Na(q),U="_design/"+D[0],tt=D[1],V=Z.get(U);V||(V=new _i,Z.set(U,V)),V.add(tt)});var $={keys:Da(Z),include_docs:!0};return k.allDocs($).then(function(q){var D={};q.rows.forEach(function(V){var st=V.key.substring(8);Z.get(V.key).forEach(function(ot){var G=st+"/"+ot;I.views[G]||(G=ot);var ht=Object.keys(I.views[G]),mt=V.doc&&V.doc.views&&V.doc.views[ot];ht.forEach(function(St){D[St]=D[St]||mt})})});var U=Object.keys(D).filter(function(V){return!D[V]}),tt=U.map(function(V){return Ra(C(V),function(){return new k.constructor(V,k.__opts).destroy()})()});return Promise.all(tt).then(function(){return{ok:!0}})})},_({ok:!0}))}function lt(k,I,Z){if(typeof k._query=="function")return P(k,I,Z);if(Ze(k))return M(k,I,Z);if(typeof I!="string")return E(Z,I),xl.add(function(){var tt=wl(k,"temp_view/temp_view",I.map,I.reduce,!0,t);return tt.then(function(V){return fg(F(V).then(function(){return X(V,Z)}),function(){return V.db.destroy()})})}),xl.finish();var $=I,q=Na($),D=q[0],U=q[1];return k.get("_design/"+D).then(function(tt){var V=tt.views&&tt.views[U];if(!V)throw new vo("ddoc "+tt._id+" has no view named "+U);o(tt,U),E(Z,V);var st=wl(k,$,V.map,V.reduce,!1,t);return st.then(function(ot){return Z.stale==="ok"||Z.stale==="update_after"?(Z.stale==="update_after"&&Ne(function(){F(ot)}),X(ot,Z)):F(ot).then(function(){return X(ot,Z)})})})}function _t(k,I,Z){var $=this;typeof I=="function"&&(Z=I,I={}),I=I?A(I):{},typeof k=="function"&&(k={map:k});var q=Promise.resolve().then(function(){return lt($,k,I)});return pl(q,Z),q}var ut=ug(function(){var k=this;return typeof k._viewCleanup=="function"?x(k):Ze(k)?ft(k):gt(k)});return{query:_t,viewCleanup:ut}}var Za={_sum:function(t,n){return za(n)},_count:function(t,n){return n.length},_stats:function(t,n){function i(o){for(var s=0,u=0,c=o.length;u<c;u++){var h=o[u];s+=h*h}return s}return{sum:za(n),min:Math.min.apply(null,n),max:Math.max.apply(null,n),count:n.length,sumsqr:i(n)}}};function vg(t){if(/^_sum/.test(t))return Za._sum;if(/^_count/.test(t))return Za._count;if(/^_stats/.test(t))return Za._stats;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}function mg(t,n){if(typeof t=="function"&&t.length===2){var i=t;return function(o){return i(o,n)}}else return gl(t.toString(),n)}function gg(t){var n=t.toString(),i=vg(n);return i||gl(n)}function yg(t,n){var i=t.views&&t.views[n];if(typeof i.map!="string")throw new vo("ddoc "+t._id+" has no string view named "+n+", instead found object of type: "+typeof i.map)}var wg="mrviews",Tl=pg(wg,mg,gg,yg);function bg(t,n,i){return Tl.query.call(this,t,n,i)}function xg(t){return Tl.viewCleanup.call(this,t)}var Pg={query:bg,viewCleanup:xg};function Cl(t){return/^1-/.test(t)}function Lg(t,n,i){return!t._attachments||!t._attachments[i]||t._attachments[i].digest!==n._attachments[i].digest}function El(t,n){var i=Object.keys(n._attachments);return Promise.all(i.map(function(o){return t.getAttachment(n._id,o,{rev:n._rev})}))}function Tg(t,n,i){var o=Ze(n)&&!Ze(t),s=Object.keys(i._attachments);return o?t.get(i._id).then(function(u){return Promise.all(s.map(function(c){return Lg(u,i,c)?n.getAttachment(i._id,c):t.getAttachment(u._id,c)}))}).catch(function(u){if(u.status!==404)throw u;return El(n,i)}):El(n,i)}function Cg(t){var n=[];return Object.keys(t).forEach(function(i){var o=t[i].missing;o.forEach(function(s){n.push({id:i,rev:s})})}),{docs:n,revs:!0,latest:!0}}function Eg(t,n,i,o){i=Jt(i);var s=[],u=!0;function c(){var b=Cg(i);if(!!b.docs.length)return t.bulkGet(b).then(function(A){if(o.cancelled)throw new Error("cancelled");return Promise.all(A.results.map(function(y){return Promise.all(y.docs.map(function(E){var M=E.ok;return E.error&&(u=!1),!M||!M._attachments?M:Tg(n,t,M).then(function(P){var x=Object.keys(M._attachments);return P.forEach(function(_,v){var w=M._attachments[x[v]];delete w.stub,delete w.length,w.data=_}),M})}))})).then(function(y){s=s.concat(uo(y).filter(Boolean))})})}function h(b){return b._attachments&&Object.keys(b._attachments).length>0}function d(b){return b._conflicts&&b._conflicts.length>0}function g(b){return t.allDocs({keys:b,include_docs:!0,conflicts:!0}).then(function(A){if(o.cancelled)throw new Error("cancelled");A.rows.forEach(function(y){y.deleted||!y.doc||!Cl(y.value.rev)||h(y.doc)||d(y.doc)||(y.doc._conflicts&&delete y.doc._conflicts,s.push(y.doc),delete i[y.id])})})}function T(){var b=Object.keys(i).filter(function(A){var y=i[A].missing;return y.length===1&&Cl(y[0])});if(b.length>0)return g(b)}function p(){return{ok:u,docs:s}}return Promise.resolve().then(T).then(c).then(p)}var Sl=1,Al="pouchdb",Sg=5,je=0;function qa(t,n,i,o,s){return t.get(n).catch(function(u){if(u.status===404)return(t.adapter==="http"||t.adapter==="https")&&oa(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:o,_id:n,history:[],replicator:Al,version:Sl};throw u}).then(function(u){if(!s.cancelled&&u.last_seq!==i)return u.history=(u.history||[]).filter(function(c){return c.session_id!==o}),u.history.unshift({last_seq:i,session_id:o}),u.history=u.history.slice(0,Sg),u.version=Sl,u.replicator=Al,u.session_id=o,u.last_seq=i,t.put(u).catch(function(c){if(c.status===409)return qa(t,n,i,o,s);throw c})})}function sr(t,n,i,o,s){this.src=t,this.target=n,this.id=i,this.returnValue=o,this.opts=s||{}}sr.prototype.writeCheckpoint=function(t,n){var i=this;return this.updateTarget(t,n).then(function(){return i.updateSource(t,n)})};sr.prototype.updateTarget=function(t,n){return this.opts.writeTargetCheckpoint?qa(this.target,this.id,t,n,this.returnValue):Promise.resolve(!0)};sr.prototype.updateSource=function(t,n){if(this.opts.writeSourceCheckpoint){var i=this;return qa(this.src,this.id,t,n,this.returnValue).catch(function(o){if(Il(o))return i.opts.writeSourceCheckpoint=!1,!0;throw o})}else return Promise.resolve(!0)};var Ol={undefined:function(t,n){return Qt(t.last_seq,n.last_seq)===0?n.last_seq:0},"1":function(t,n){return Ag(n,t).last_seq}};sr.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(n){return n.last_seq||je}).catch(function(n){if(n.status!==404)throw n;return je}):t.target.get(t.id).then(function(n){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?n.last_seq||je:t.src.get(t.id).then(function(i){if(n.version!==i.version)return je;var o;return n.version?o=n.version.toString():o="undefined",o in Ol?Ol[o](n,i):je},function(i){if(i.status===404&&n.last_seq)return t.src.put({_id:t.id,last_seq:je}).then(function(){return je},function(o){return Il(o)?(t.opts.writeSourceCheckpoint=!1,n.last_seq):je});throw i})}).catch(function(n){if(n.status!==404)throw n;return je})};function Ag(t,n){return t.session_id===n.session_id?{last_seq:t.last_seq,history:t.history}:Ml(t.history,n.history)}function Ml(t,n){var i=t[0],o=t.slice(1),s=n[0],u=n.slice(1);if(!i||n.length===0)return{last_seq:je,history:[]};var c=i.session_id;if(Fa(c,n))return{last_seq:i.last_seq,history:t};var h=s.session_id;return Fa(h,o)?{last_seq:s.last_seq,history:u}:Ml(o,u)}function Fa(t,n){var i=n[0],o=n.slice(1);return!t||n.length===0?!1:t===i.session_id?!0:Fa(t,o)}function Il(t){return typeof t.status=="number"&&Math.floor(t.status/100)===4}var Bl=0;function Og(t,n,i,o){if(t.retry===!1){n.emit("error",i),n.removeAllListeners();return}if(typeof t.back_off_function!="function"&&(t.back_off_function=ov),n.emit("requestError",i),n.state==="active"||n.state==="pending"){n.emit("paused",i),n.state="stopped";var s=function(){t.current_back_off=Bl},u=function(){n.removeListener("active",s)};n.once("paused",u),n.once("active",s)}t.current_back_off=t.current_back_off||Bl,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(o,t.current_back_off)}function Mg(t){return Object.keys(t).sort(Qt).reduce(function(n,i){return n[i]=t[i],n},{})}function Ig(t,n,i){var o=i.doc_ids?i.doc_ids.sort(Qt):"",s=i.filter?i.filter.toString():"",u="",c="",h="";return i.selector&&(h=JSON.stringify(i.selector)),i.filter&&i.query_params&&(u=JSON.stringify(Mg(i.query_params))),i.filter&&i.filter==="_view"&&(c=i.view.toString()),Promise.all([t.id(),n.id()]).then(function(d){var g=d[0]+d[1]+s+c+u+o+h;return new Promise(function(T){ma(g,T)})}).then(function(d){return d=d.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+d})}function kl(t,n,i,o,s){var u=[],c,h={seq:0,changes:[],docs:[]},d=!1,g=!1,T=!1,p=0,b=i.continuous||i.live||!1,A=i.batch_size||100,y=i.batches_limit||10,E=!1,M=i.doc_ids,P=i.selector,x,_,v=[],w=co();s=s||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var C={};o.ready(t,n);function F(){return _?Promise.resolve():Ig(t,n,i).then(function(D){x=D;var U={};i.checkpoint===!1?U={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:i.checkpoint==="source"?U={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:i.checkpoint==="target"?U={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:U={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},_=new sr(t,n,x,o,U)})}function Q(){if(v=[],c.docs.length!==0){var D=c.docs,U={timeout:i.timeout};return n.bulkDocs({docs:D,new_edits:!1},U).then(function(tt){if(o.cancelled)throw _t(),new Error("cancelled");var V=Object.create(null);tt.forEach(function(ot){ot.error&&(V[ot.id]=ot)});var st=Object.keys(V).length;s.doc_write_failures+=st,s.docs_written+=D.length-st,D.forEach(function(ot){var G=V[ot._id];if(G){s.errors.push(G);var ht=(G.name||"").toLowerCase();if(ht==="unauthorized"||ht==="forbidden")o.emit("denied",Jt(G));else throw G}else v.push(ot)})},function(tt){throw s.doc_write_failures+=D.length,tt})}}function it(){if(c.error)throw new Error("There was a problem getting docs.");s.last_seq=p=c.seq;var D=Jt(s);return v.length&&(D.docs=v,typeof c.pending=="number"&&(D.pending=c.pending,delete c.pending),o.emit("change",D)),d=!0,_.writeCheckpoint(c.seq,w).then(function(){if(d=!1,o.cancelled)throw _t(),new Error("cancelled");c=void 0,Z()}).catch(function(U){throw q(U),U})}function X(){var D={};return c.changes.forEach(function(U){U.id!=="_user/"&&(D[U.id]=U.changes.map(function(tt){return tt.rev}))}),n.revsDiff(D).then(function(U){if(o.cancelled)throw _t(),new Error("cancelled");c.diffs=U})}function rt(){return Eg(t,n,c.diffs,o).then(function(D){c.error=!D.ok,D.docs.forEach(function(U){delete c.diffs[U._id],s.docs_read++,c.docs.push(U)})})}function ft(){if(!(o.cancelled||c)){if(u.length===0){gt(!0);return}c=u.shift(),X().then(rt).then(Q).then(it).then(ft).catch(function(D){lt("batch processing terminated with error",D)})}}function gt(D){if(h.changes.length===0){u.length===0&&!c&&((b&&C.live||g)&&(o.state="pending",o.emit("paused")),g&&_t());return}(D||g||h.changes.length>=A)&&(u.push(h),h={seq:0,changes:[],docs:[]},(o.state==="pending"||o.state==="stopped")&&(o.state="active",o.emit("active")),ft())}function lt(D,U){T||(U.message||(U.message=D),s.ok=!1,s.status="aborting",u=[],h={seq:0,changes:[],docs:[]},_t(U))}function _t(D){if(!T&&!(o.cancelled&&(s.status="cancelled",d)))if(s.status=s.status||"complete",s.end_time=new Date().toISOString(),s.last_seq=p,T=!0,D){D=Pt(D),D.result=s;var U=(D.name||"").toLowerCase();U==="unauthorized"||U==="forbidden"?(o.emit("error",D),o.removeAllListeners()):Og(i,o,D,function(){kl(t,n,i,o)})}else o.emit("complete",s),o.removeAllListeners()}function ut(D,U,tt){if(o.cancelled)return _t();typeof U=="number"&&(h.pending=U);var V=fa(i)(D);!V||(h.seq=D.seq||tt,h.changes.push(D),Ne(function(){gt(u.length===0&&C.live)}))}function k(D){if(E=!1,o.cancelled)return _t();if(D.results.length>0)C.since=D.results[D.results.length-1].seq,Z(),gt(!0);else{var U=function(){b?(C.live=!0,Z()):g=!0,gt(!0)};!c&&D.results.length===0?(d=!0,_.writeCheckpoint(D.last_seq,w).then(function(){d=!1,s.last_seq=p=D.last_seq,U()}).catch(q)):U()}}function I(D){if(E=!1,o.cancelled)return _t();lt("changes rejected",D)}function Z(){if(!(!E&&!g&&u.length<y))return;E=!0;function D(){tt.cancel()}function U(){o.removeListener("cancel",D)}o._changes&&(o.removeListener("cancel",o._abortChanges),o._changes.cancel()),o.once("cancel",D);var tt=t.changes(C).on("change",ut);tt.then(U,U),tt.then(k).catch(I),i.retry&&(o._changes=tt,o._abortChanges=D)}function $(){F().then(function(){if(o.cancelled){_t();return}return _.getCheckpoint().then(function(D){p=D,C={since:p,limit:A,batch_size:A,style:"all_docs",doc_ids:M,selector:P,return_docs:!0},i.filter&&(typeof i.filter!="string"?C.include_docs=!0:C.filter=i.filter),"heartbeat"in i&&(C.heartbeat=i.heartbeat),"timeout"in i&&(C.timeout=i.timeout),i.query_params&&(C.query_params=i.query_params),i.view&&(C.view=i.view),Z()})}).catch(function(D){lt("getCheckpoint rejected with ",D)})}function q(D){d=!1,lt("writeCheckpoint completed with error",D)}if(o.cancelled){_t();return}o._addedListeners||(o.once("cancel",_t),typeof i.complete=="function"&&(o.once("error",i.complete),o.once("complete",function(D){i.complete(null,D)})),o._addedListeners=!0),typeof i.since=="undefined"?$():F().then(function(){return d=!0,_.writeCheckpoint(i.since,w)}).then(function(){if(d=!1,o.cancelled){_t();return}p=i.since,$()}).catch(q)}Le(go,ce);function go(){ce.call(this),this.cancelled=!1,this.state="pending";var t=this,n=new Promise(function(i,o){t.once("complete",i),t.once("error",o)});t.then=function(i,o){return n.then(i,o)},t.catch=function(i){return n.catch(i)},t.catch(function(){})}go.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")};go.prototype.ready=function(t,n){var i=this;if(i._readyCalled)return;i._readyCalled=!0;function o(){i.cancel()}t.once("destroyed",o),n.once("destroyed",o);function s(){t.removeListener("destroyed",o),n.removeListener("destroyed",o)}i.once("complete",s)};function yo(t,n){var i=n.PouchConstructor;return typeof t=="string"?new i(t,n):t}function ja(t,n,i,o){if(typeof i=="function"&&(o=i,i={}),typeof i=="undefined"&&(i={}),i.doc_ids&&!Array.isArray(i.doc_ids))throw Pt(ao,"`doc_ids` filter parameter is not a list.");i.complete=o,i=Jt(i),i.continuous=i.continuous||i.live,i.retry="retry"in i?i.retry:!1,i.PouchConstructor=i.PouchConstructor||this;var s=new go(i),u=yo(t,i),c=yo(n,i);return kl(u,c,i,s),s}Le(Ua,ce);function Bg(t,n,i,o){return typeof i=="function"&&(o=i,i={}),typeof i=="undefined"&&(i={}),i=Jt(i),i.PouchConstructor=i.PouchConstructor||this,t=yo(t,i),n=yo(n,i),new Ua(t,n,i,o)}function Ua(t,n,i,o){var s=this;this.canceled=!1;var u=i.push?vi({},i,i.push):i,c=i.pull?vi({},i,i.pull):i;this.push=ja(t,n,u),this.pull=ja(n,t,c),this.pushPaused=!0,this.pullPaused=!0;function h(_){s.emit("change",{direction:"pull",change:_})}function d(_){s.emit("change",{direction:"push",change:_})}function g(_){s.emit("denied",{direction:"push",doc:_})}function T(_){s.emit("denied",{direction:"pull",doc:_})}function p(){s.pushPaused=!0,s.pullPaused&&s.emit("paused")}function b(){s.pullPaused=!0,s.pushPaused&&s.emit("paused")}function A(){s.pushPaused=!1,s.pullPaused&&s.emit("active",{direction:"push"})}function y(){s.pullPaused=!1,s.pushPaused&&s.emit("active",{direction:"pull"})}var E={};function M(_){return function(v,w){var C=v==="change"&&(w===h||w===d),F=v==="denied"&&(w===T||w===g),Q=v==="paused"&&(w===b||w===p),it=v==="active"&&(w===y||w===A);(C||F||Q||it)&&(v in E||(E[v]={}),E[v][_]=!0,Object.keys(E[v]).length===2&&s.removeAllListeners(v))}}i.live&&(this.push.on("complete",s.pull.cancel.bind(s.pull)),this.pull.on("complete",s.push.cancel.bind(s.push)));function P(_,v,w){_.listeners(v).indexOf(w)==-1&&_.on(v,w)}this.on("newListener",function(_){_==="change"?(P(s.pull,"change",h),P(s.push,"change",d)):_==="denied"?(P(s.pull,"denied",T),P(s.push,"denied",g)):_==="active"?(P(s.pull,"active",y),P(s.push,"active",A)):_==="paused"&&(P(s.pull,"paused",b),P(s.push,"paused",p))}),this.on("removeListener",function(_){_==="change"?(s.pull.removeListener("change",h),s.push.removeListener("change",d)):_==="denied"?(s.pull.removeListener("denied",T),s.push.removeListener("denied",g)):_==="active"?(s.pull.removeListener("active",y),s.push.removeListener("active",A)):_==="paused"&&(s.pull.removeListener("paused",b),s.push.removeListener("paused",p))}),this.pull.on("removeListener",M("pull")),this.push.on("removeListener",M("push"));var x=Promise.all([this.push,this.pull]).then(function(_){var v={push:_[0],pull:_[1]};return s.emit("complete",v),o&&o(null,v),s.removeAllListeners(),v},function(_){if(s.cancel(),o?o(_):s.emit("error",_),s.removeAllListeners(),o)throw _});this.then=function(_,v){return x.then(_,v)},this.catch=function(_){return x.catch(_)}}Ua.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};function kg(t){t.replicate=ja,t.sync=Bg,Object.defineProperty(t.prototype,"replicate",{get:function(){var n=this;return typeof this.replicateMethods=="undefined"&&(this.replicateMethods={from:function(i,o,s){return n.constructor.replicate(i,n,o,s)},to:function(i,o,s){return n.constructor.replicate(n,i,o,s)}}),this.replicateMethods}}),t.prototype.sync=function(n,i,o){return this.constructor.sync(this,n,i,o)}}Lt.plugin(Xm).plugin(ag).plugin(Pg).plugin(kg);var wo,Rg=new Uint8Array(16);function Dg(){if(!wo&&(wo=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wo(Rg)}var zg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ng(t){return typeof t=="string"&&zg.test(t)}var ne=[];for(var $a=0;$a<256;++$a)ne.push(($a+256).toString(16).substr(1));function Zg(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(ne[t[n+0]]+ne[t[n+1]]+ne[t[n+2]]+ne[t[n+3]]+"-"+ne[t[n+4]]+ne[t[n+5]]+"-"+ne[t[n+6]]+ne[t[n+7]]+"-"+ne[t[n+8]]+ne[t[n+9]]+"-"+ne[t[n+10]]+ne[t[n+11]]+ne[t[n+12]]+ne[t[n+13]]+ne[t[n+14]]+ne[t[n+15]]).toLowerCase();if(!Ng(i))throw TypeError("Stringified UUID is invalid");return i}function iy(t,n,i){t=t||{};var o=t.random||(t.rng||Dg)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,n){i=i||0;for(var s=0;s<16;++s)n[i+s]=o[s];return n}return Zg(o)}function qg(t){return ld()?(hd(t),!0):!1}const ar=typeof window!="undefined",Fg=t=>typeof t=="string",Ha=()=>{};function Rl(t){var n;const i=Ps(t);return(n=i==null?void 0:i.$el)!=null?n:i}const Dl=ar?window:void 0;ar&&window.document;ar&&window.navigator;ar&&window.location;function zl(...t){let n,i,o,s;if(Fg(t[0])?([i,o,s]=t,n=Dl):[n,i,o,s]=t,!n)return Ha;let u=Ha;const c=to(()=>Ps(n),d=>{u(),!!d&&(d.addEventListener(i,o,s),u=()=>{d.removeEventListener(i,o,s),u=Ha})},{immediate:!0,flush:"post"}),h=()=>{c(),u()};return qg(h),h}function ry(t,n,i={}){const{window:o=Dl}=i;if(!o)return;const s=qd(!0),c=[zl(o,"click",d=>{const g=Rl(t);!g||g===d.target||d.composedPath().includes(g)||!s.value||n(d)},{passive:!0,capture:!0}),zl(o,"pointerdown",d=>{const g=Rl(t);s.value=!!g&&!d.composedPath().includes(g)},{passive:!0})];return()=>c.forEach(d=>d())}const Wa=globalThis||void 0,Ka="__vueuse_ssr_handlers__";Wa[Ka]=Wa[Ka]||{};Wa[Ka];var Nl,Zl;ar&&(window==null?void 0:window.navigator)&&((Nl=window==null?void 0:window.navigator)==null?void 0:Nl.platform)&&/iP(ad|hone|od)/.test((Zl=window==null?void 0:window.navigator)==null?void 0:Zl.platform);var jg=Object.defineProperty,ql=Object.getOwnPropertySymbols,Ug=Object.prototype.hasOwnProperty,$g=Object.prototype.propertyIsEnumerable,Fl=(t,n,i)=>n in t?jg(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,Hg=(t,n)=>{for(var i in n||(n={}))Ug.call(n,i)&&Fl(t,i,n[i]);if(ql)for(var i of ql(n))$g.call(n,i)&&Fl(t,i,n[i]);return t};const Wg={top:0,left:0,bottom:0,right:0,height:0,width:0};Hg({text:""},Wg);export{Xe as F,ny as L,Lt as P,Jg as T,pf as a,ys as b,Yg as c,Gg as d,R_ as e,Kd as f,ry as g,z_ as h,Df as i,Xg as j,es as k,to as l,Vg as m,ns as n,a_ as o,Qg as p,tn as q,qd as r,ey as s,Kg as t,iy as v,ty as w};
